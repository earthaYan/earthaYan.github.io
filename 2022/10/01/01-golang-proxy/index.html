<!DOCTYPE html>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0,  viewport-fit=cover" name="viewport" />
    <meta name="description" content="01-Go语言环境的安装" />
    <meta name="hexo-theme-A4" content="v1.7.1" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.webp">
    <title>Diary | just try it</title>

    
        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--注意：首页既不是post也不是page-->
        
            
<link rel="stylesheet" href="/css/waline.css">

        
    
    
<link rel="stylesheet" href="/css/ui.css">
 
    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"></head>
    
    <body>
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    
<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/favicon.webp" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Diary</a> 
            <span class="description">默奥沙</span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">首页</a></li>
            
        
            
                <li><a href="/list/">文章</a></li>
            
        
            
                <li><a href="/categories/">分类</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--说明是文章post页面-->
                    
                        <div class="post-main">

    
        <div class="post-main-title">
            01-Go语言环境的安装
        </div>
      
    

    <div class="post-md">
        
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%AE%89%E8%A3%85"><span class="post-toc-text">安装</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#windows"><span class="post-toc-text">windows:</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Linux%EF%BC%9A"><span class="post-toc-text">Linux：</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E9%80%9A%E7%94%A8%E6%AD%A5%E9%AA%A4"><span class="post-toc-text">通用步骤</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#v1-11-%E4%BB%A5%E5%89%8D"><span class="post-toc-text">v1.11 以前</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#v1-11-%E4%BB%A5%E5%90%8E"><span class="post-toc-text">v1.11 以后</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#GOPATH-%E7%BC%BA%E7%82%B9"><span class="post-toc-text">GOPATH 缺点</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E9%97%AE%E9%A2%98"><span class="post-toc-text">问题</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="post-toc-text">环境变量</span></a></li></ol></li></ol></li></ol>
        
        <h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><h3 id="windows"><a href="#windows" class="headerlink" title="windows:"></a>windows:</h3><p>下载<a target="_blank" rel="noopener" href="https://golang.google.cn/dl/go1.19.2.windows-amd64.msi">文件</a>，直接 next 直至完成</p>
<h3 id="Linux："><a href="#Linux：" class="headerlink" title="Linux："></a>Linux：</h3><h4 id="通用步骤"><a href="#通用步骤" class="headerlink" title="通用步骤"></a>通用步骤</h4><ol>
<li>安装必要的包</li>
</ol>
<pre><code class="bash">yum install mercurial
yum install git
yum install gcc
</code></pre>
<ol start="2">
<li>下载 go 的压缩包并解压缩</li>
</ol>
<pre><code class="bash">cd /usr/local/
wget https://go.dev/dl/go1.19.2.linux-amd64.tar.gz
</code></pre>
<blockquote>
<p>如果该地址不可用 443，可以使用 <font color="red"><code>https://golang.google.cn/dl/go1.19.2.linux-amd64.tar.gz</code></font> 代替</p>
</blockquote>
<ol start="3">
<li>添加 PATH 环境变量</li>
</ol>
<pre><code class="bash">vi ~/.bash_profile
# ~/.bash_profile添加内容
export GOROOT=/usr/local/go ##Golang安装目录
export PATH=$PATH:$GOROOT/bin
# 刷新环境变量
source ~/.bash_profile
</code></pre>
<ol start="4">
<li>验证是否安装成功<img src="/2022/10/01/01-golang-proxy/go_version.jpg" class="" title="安装成功"></li>
</ol>
<h4 id="v1-11-以前"><a href="#v1-11-以前" class="headerlink" title="v1.11 以前"></a>v1.11 以前</h4><ol>
<li>设置 GOPATH 环境变量（go 1.11 后不必设置,可使用 go module）</li>
</ol>
<pre><code class="bash">export GOPATH=xxxx(即使手动设置为空，也会默认为/root/go)
</code></pre>
<ol start="2">
<li>建立 Go 的工作空间（workspace，也就是 GOPATH 环境变量指向的目录）】<blockquote>
<p>GO 代码必须在工作空间内。工作空间是一个目录，其中包含三个子目录：</p>
<ul>
<li>src —- 存放 golang 项目代码的位置,里面每一个子目录，就是一个包。</li>
<li>pkg —- 编译后生成的，包的目标文件</li>
<li>bin —- 生成的可执行文件，比如执行 <code>go get github.com/google/gops</code>,bin 目录会生成 gops 的二进制文件。</li>
</ul>
</blockquote>
</li>
</ol>
<pre><code class="bash">cd /root
mkdir go
cd go/
mkdir bin
mkdir src
mkdir pkg
</code></pre>
<h4 id="v1-11-以后"><a href="#v1-11-以后" class="headerlink" title="v1.11 以后"></a>v1.11 以后</h4><ol>
<li>设置环境变量 GO111MODULE 进行开启或者关闭 go modules 模式</li>
</ol>
<pre><code class="bash">go env -w GO111MODULE=on #go env -w会将配置写到 GOENV 文件中去
</code></pre>
<blockquote>
<p>GO111MODULE 的枚举值:</p>
<ul>
<li>空： auto 自动模式，当项目根目录有 go.mod 文件，启用 Go modules</li>
<li>off： 关闭 go mod 模式</li>
<li>on： 开启 go mod 模式</li>
</ul>
</blockquote>
<h2 id="GOPATH-缺点"><a href="#GOPATH-缺点" class="headerlink" title="GOPATH 缺点"></a>GOPATH 缺点</h2><img src="/2022/10/01/01-golang-proxy/GOPATH.jfif" class="" title="GOPATH">

<ol>
<li>GOPATH 模式下，必须指定目录,项目代码不能想放哪里就放哪里</li>
<li>go get 命令的时候，无法指定获取的版本</li>
<li>引用第三方项目的时候，无法处理 v1、v2、v3 等不同版本的引用问题，因为在 GOPATH 模式下项目路径都是 github.com&#x2F;foo&#x2F;project</li>
<li>无法同步一致第三方版本号，在运行 Go 应用程序的时候，无法保证其它人与所期望依赖的第三方库是相同的版本。</li>
</ol>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><p>背景：国内因为墙的原因，所以下载一些包的时候会产生 443 报错</p>
<img src="/2022/10/01/01-golang-proxy/go_443.jpg" class="" title="下载包报错">
<p>解决方法：设置代理<br>常用代理：</p>
<ul>
<li>GOPROXY.IO：<a target="_blank" rel="noopener" href="https://goproxy.io/zh/">https://goproxy.io/zh/</a></li>
<li>七牛云：<a target="_blank" rel="noopener" href="https://goproxy.cn/">https://goproxy.cn</a></li>
<li>阿里云：<a target="_blank" rel="noopener" href="https://mirrors.aliyun.com/goproxy/">https://mirrors.aliyun.com/goproxy/</a></li>
</ul>
<p>设置步骤：</p>
<pre><code class="bash">go env -w GOPROXY=https://goproxy.cn,direct
</code></pre>
<img src="/2022/10/01/01-golang-proxy/go_success.jpg" class="" title="成功下载">

<p><a target="_blank" rel="noopener" href="https://proxy.golang.com/">https://proxy.golang.com</a> 设置为代理后拉包依旧失败原因：该地址在中国大陆已被屏蔽，所以不可用</p>
<pre><code class="bash">export GOPROXY=https://proxy.golang.com.cn,direct
export GOPROXY=https://goproxy.io,direct
</code></pre>
<h4 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h4><img src="/2022/10/01/01-golang-proxy/go_env.webp" class="" title="环境变量含义">

<p>引用包：(指明本地路径)</p>
<pre><code>go mod edit -replace example.com/greetings=../greetings
</code></pre>
<blockquote>
<p>参考文章</p>
<ol>
<li><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000041720288">简单聊聊 GOPATH 与 Go Modules</a></li>
</ol>
</blockquote>

    </div>

    <div class="post-meta">
        <i>
        
            <span>2022-10-01</span>
            
                <span>该篇文章被 Moon</span>
            
            
                <span>打上标签:
                    
                    
                        <a href='/tags/GoLang/'>
                            GoLang
                        </a>
                    
                </span>
             
             
                <span>归为分类:
                    
                    
                        <a href='/categories/%E5%90%8E%E7%AB%AF/'>
                            后端
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    
        
    <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        以上。 
    </div>
    
        

    <div id="waline"></div>
    <script type="module"  >
        import { init } from 'https://npm.elemecdn.com/hexo-theme-a4@latest/source/js/waline.mjs'; 
        function loadWaline() {
            init({
                el: '#waline',
                serverURL: 'https://comment-hexo-waline.vercel.app/',
                lang: 'zh-CN',
                dark: 'body[class~="dark-mode"]',
                requiredMeta: ['nick','mail'], // cannot customize by theme config, change it yourself
                search: false, // 禁止表情包搜索
                reaction: false, // 对文章打分
                pageview: false, // 浏览量统计
                comment: false, // 评论数统计

                locale: {
                    placeholder: '正确的邮箱地址，回复将能得到邮件通知。', 
                    sofa: ''
                },
            });
            
        }
        window.addEventListener('DOMContentLoaded', loadWaline);
    </script>



    
    
    
    </div>


     
</div>



                    
                    
                    <div class="footer">
    
        <span> 
            ©2021-2023 China 

            
                

            
        </span>
    
</div>
<!--这是指一条线往下的内容-->
<div class="footer-last">
    
            <span>🌊看过大海的人不会忘记海的广阔🌊</span>
            
    
</div>


    
<link rel="stylesheet" href="/css/a11y-dark.min.css">

    
<script src="/js/highlight.min.js"></script>

    
<script src="/js/highlightjs-line-numbers.js"></script>



<script>
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
</script>
                </div>
            
    </body>
</html>