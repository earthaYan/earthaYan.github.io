<!DOCTYPE html>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0,  viewport-fit=cover" name="viewport" />
    <meta name="description" content="RPC-API" />
    <meta name="hexo-theme-A4" content="v1.7.1" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.webp">
    <title>Diary</title>

    
        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
            
<link rel="stylesheet" href="/css/waline.css">

        
    
    
<link rel="stylesheet" href="/css/ui.css">
 
    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"></head>
    
    <body>
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    
<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/favicon.webp" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Diary</a> 
            <span class="description">å¤‡å¿˜å½•/ç¬”è®°æœ¬</span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">æ–‡ç« </a></li>
            
        
            
                <li><a href="/categories/">åˆ†ç±»</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">

    
        <div class="post-main-title">
            RPC-API
        </div>
      
    

    <div class="post-md">
        
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#RPC%E5%9F%BA%E6%9C%AC%E5%90%AB%E4%B9%89%EF%BC%9A"><span class="post-toc-text">RPCåŸºæœ¬å«ä¹‰ï¼š</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#gRPC"><span class="post-toc-text">gRPC</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Protocol-Buffers"><span class="post-toc-text">Protocol Buffers</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Protocol-Buffers%E5%9C%A8gRPC%E6%8E%A5%E5%8F%A3%E4%B8%AD%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="post-toc-text">Protocol Buffersåœ¨gRPCæ¥å£ä¸­çš„ä½œç”¨</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#gRPC%E4%BD%BF%E7%94%A8"><span class="post-toc-text">gRPCä½¿ç”¨</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%AE%89%E8%A3%85protoc"><span class="post-toc-text">å®‰è£…protoc</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%8A%A5%E9%94%99"><span class="post-toc-text">æŠ¥é”™</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%89%A7%E8%A1%8C-x2F-autogen-sh%E6%8A%A5%E9%94%99"><span class="post-toc-text">æ‰§è¡Œ.&#x2F;autogen.shæŠ¥é”™</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%89%A7%E8%A1%8C-x2F-configure%E6%8A%A5%E9%94%99"><span class="post-toc-text">æ‰§è¡Œ.&#x2F;configureæŠ¥é”™</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#gRPC-demo-%E5%AE%9E%E7%8E%B0"><span class="post-toc-text">gRPC demo å®ç°</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#proto%E6%96%87%E4%BB%B6%EF%BC%9A%E5%AE%9A%E4%B9%89%E6%9C%8D%E5%8A%A1"><span class="post-toc-text">protoæ–‡ä»¶ï¼šå®šä¹‰æœåŠ¡</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%9C%8D%E5%8A%A1%E6%96%B9%E6%B3%95%E7%B1%BB%E5%9E%8B"><span class="post-toc-text">æœåŠ¡æ–¹æ³•ç±»å‹</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%8C%BA%E5%88%AB"><span class="post-toc-text">åŒºåˆ«</span></a></li></ol>
        
        <h2 id="RPCåŸºæœ¬å«ä¹‰ï¼š"><a href="#RPCåŸºæœ¬å«ä¹‰ï¼š" class="headerlink" title="RPCåŸºæœ¬å«ä¹‰ï¼š"></a>RPCåŸºæœ¬å«ä¹‰ï¼š</h2><p>è¿œç¨‹è¿‡ç¨‹è°ƒç”¨(Remote Procedure Call),å±äºè®¡ç®—æœºé€šä¿¡åè®®ã€‚<br>å…è®¸Aè®¡ç®—æœºè°ƒç”¨Bè®¡ç®—æœºçš„å­ç¨‹åºè€Œä¸ç”¨ä¸ºè¿™ä¸ªäº¤äº’ä½œç”¨ç¼–ç¨‹ï¼Œå±è”½äº†åº•å±‚çš„ç½‘ç»œé€šä¿¡ç»†èŠ‚</p>
<img src="/2022/12/16/rpc-api/RPC.webp" class="" title="RPCçš„è°ƒç”¨è¿‡ç¨‹">
<ol>
<li>Client é€šè¿‡æœ¬åœ°è°ƒç”¨ï¼Œè°ƒç”¨ Client Stubã€‚</li>
<li>Client Stub å°†å‚æ•°æ‰“åŒ…ï¼ˆä¹Ÿå« Marshallingï¼‰æˆä¸€ä¸ªæ¶ˆæ¯ï¼Œç„¶åå‘é€è¿™ä¸ªæ¶ˆæ¯ã€‚</li>
<li>Client æ‰€åœ¨çš„ OS å°†æ¶ˆæ¯å‘é€ç»™ Serverã€‚</li>
<li>Server ç«¯æ¥æ”¶åˆ°æ¶ˆæ¯åï¼Œå°†æ¶ˆæ¯ä¼ é€’ç»™ Server Stubã€‚</li>
<li>Server Stub å°†æ¶ˆæ¯è§£åŒ…ï¼ˆä¹Ÿå« Unmarshallingï¼‰å¾—åˆ°å‚æ•°ã€‚</li>
<li>Server Stub è°ƒç”¨æœåŠ¡ç«¯çš„å­ç¨‹åºï¼ˆå‡½æ•°ï¼‰ï¼Œå¤„ç†å®Œåï¼Œå°†æœ€ç»ˆç»“æœæŒ‰ç…§ç›¸åçš„æ­¥éª¤è¿”å›ç»™ Clientã€‚</li>
</ol>
<blockquote>
<p>Stub è´Ÿè´£è°ƒç”¨å‚æ•°å’Œè¿”å›å€¼çš„æµåŒ–ï¼ˆserializationï¼‰ã€å‚æ•°çš„æ‰“åŒ…å’Œè§£åŒ…ï¼Œä»¥åŠç½‘ç»œå±‚çš„é€šä¿¡ã€‚Client ç«¯ä¸€èˆ¬å« Stubï¼ŒServer ç«¯ä¸€èˆ¬å« Skeleton</p>
</blockquote>
<h2 id="gRPC"><a href="#gRPC" class="headerlink" title="gRPC"></a>gRPC</h2><p>google RPC</p>
<ol>
<li>æ”¯æŒå¤šç§è¯­è¨€ï¼Œæ¯”å¦‚ç”¨Goè¯­è¨€å®ç°gRPCæœåŠ¡,å¯ä»¥é€šè¿‡Javaå®¢æˆ·ç«¯è°ƒç”¨gRPCæœåŠ¡æä¾›çš„æ–¹æ³•</li>
<li>åŸºäºIDLï¼ˆInterface Definition Languageï¼‰æ–‡ä»¶å®šä¹‰æœåŠ¡</li>
</ol>
<ul>
<li>gRPCæœåŠ¡é¢„å…ˆå®šä¹‰å¥½æ¥å£(åç§°&#x2F;å…¥å‚&#x2F;è¿”å›å€¼)ã€‚</li>
<li>æœåŠ¡ç«¯å®ç°å®šä¹‰çš„æ¥å£</li>
<li>å®¢æˆ·ç«¯,gRPCå­˜æ ¹æä¾›äº†è·ŸæœåŠ¡ç«¯ç›¸åŒçš„æ–¹æ³•</li>
<li>é€šè¿‡ proto3 å·¥å…·ç”ŸæˆæŒ‡å®šè¯­è¨€çš„æ•°æ®ç»“æ„ã€æœåŠ¡ç«¯æ¥å£ä»¥åŠå®¢æˆ·ç«¯ Stub</li>
</ul>
<ol start="3">
<li>é€šä¿¡åè®®åŸºäºHTTP&#x2F;2è®¾è®¡</li>
<li>æ”¯æŒ Protobuf å’Œ JSON åºåˆ—åŒ–æ•°æ®æ ¼å¼</li>
</ol>
<ul>
<li>Protobuf ï¼šå’Œè¯­è¨€æ— å…³çš„åºåˆ—åŒ–æ¡†æ¶ï¼Œå¯ä»¥å‡å°‘ç½‘ç»œä¼ è¾“æµé‡,æé«˜é€šä¿¡æ•ˆç‡</li>
</ul>
<h2 id="Protocol-Buffers"><a href="#Protocol-Buffers" class="headerlink" title="Protocol Buffers"></a>Protocol Buffers</h2><p>gRPC APIæ¥å£å¸¸ç”¨çš„æ•°æ®ä¼ è¾“æ ¼å¼ï¼Œå¯¹æ•°æ®ç»“æ„è¿›è¡Œåºåˆ—åŒ–ã€‚<br>æ—¢å¯ä»¥åšæ•°æ®é€šä¿¡åè®®ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºæ•°æ®æ ¼å¼</p>
<ol>
<li>æ•°æ®ä¼ è¾“é€Ÿåº¦å¿«ï¼šä¼ è¾“æ—¶ä¼šæŠŠæ•°æ®åºåˆ—åŒ–ä¸ºäºŒè¿›åˆ¶æ•°æ®</li>
</ol>
<ul>
<li>ç›¸å¯¹äºXMLå’ŒJSONçš„æ–‡æœ¬ä¼ è¾“æ ¼å¼å¯ä»¥èŠ‚çœå¤§é‡IOæ“ä½œï¼Œæé«˜ä¼ è¾“é€Ÿåº¦</li>
</ul>
<ol start="2">
<li>è·¨å¹³å°å¤šè¯­è¨€</li>
</ol>
<ul>
<li>è‡ªå¸¦çš„ç¼–è¯‘å·¥å…· protocå¯ä»¥åŸºäºprotobufå®šä¹‰æ–‡ä»¶ï¼Œç¼–è¯‘å‡ºä¸åŒè¯­è¨€çš„å®¢æˆ·ç«¯&#x2F;æœåŠ¡ç«¯</li>
</ul>
<ol start="3">
<li>æ‰©å±•æ€§&#x2F;å…¼å®¹æ€§</li>
</ol>
<ul>
<li>ä¸ç ´ååŸæœ‰ç¨‹åºçš„åŸºç¡€æ‰‹ä¸Šæ›´æ–°å·²æœ‰çš„æ•°æ®ç»“æ„</li>
</ul>
<ol start="4">
<li>åŸºäº IDL æ–‡ä»¶å®šä¹‰æœåŠ¡ï¼Œé€šè¿‡ proto3 å·¥å…·ç”ŸæˆæŒ‡å®šè¯­è¨€çš„æ•°æ®ç»“æ„ã€æœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯æ¥å£</li>
</ol>
<h2 id="Protocol-Buffersåœ¨gRPCæ¥å£ä¸­çš„ä½œç”¨"><a href="#Protocol-Buffersåœ¨gRPCæ¥å£ä¸­çš„ä½œç”¨" class="headerlink" title="Protocol Buffersåœ¨gRPCæ¥å£ä¸­çš„ä½œç”¨"></a>Protocol Buffersåœ¨gRPCæ¥å£ä¸­çš„ä½œç”¨</h2><ol>
<li>å®šä¹‰æ•°æ®ç»“æ„</li>
</ol>
<pre><code class="go">// SecretInfo contains secret details.
message SecretInfo &#123;
    string name = 1;
    string secret_id  = 2;
    string username   = 3;
    string secret_key = 4;
    int64 expires = 5;
    string description = 6;
    string created_at = 7;
    string updated_at = 8;
&#125;
</code></pre>
<ol start="2">
<li>å®šä¹‰æœåŠ¡æ¥å£</li>
</ol>
<pre><code class="go">// æ­¤å¤„å®šä¹‰äº†ä¸€ä¸ªCacheæœåŠ¡,æœåŠ¡åŒ…å«ListSecretså’ŒListPoliciesä¸¤ä¸ªAPIæ¥å£
// Cache implements a cache rpc service.
service Cache&#123;
  rpc ListSecrets(ListSecretsRequest) returns (ListSecretsResponse) &#123;&#125;
  rpc ListPolicies(ListPoliciesRequest) returns (ListPoliciesResponse) &#123;&#125;
&#125;
</code></pre>
<ol start="3">
<li>é€šè¿‡ protobuf åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œæå‡ä¼ è¾“æ•ˆç‡</li>
</ol>
<h2 id="gRPCä½¿ç”¨"><a href="#gRPCä½¿ç”¨" class="headerlink" title="gRPCä½¿ç”¨"></a>gRPCä½¿ç”¨</h2><h3 id="å®‰è£…protoc"><a href="#å®‰è£…protoc" class="headerlink" title="å®‰è£…protoc"></a>å®‰è£…protoc</h3><pre><code class="bash">
# ç¬¬ä¸€æ­¥ï¼šå®‰è£… protobuf
$ cd /tmp/
$ git clone -b v3.21.1 --depth=1 https://github.com/protocolbuffers/protobuf
$ cd protobuf
$ ./autogen.sh
$ ./configure
$ make
$ make install 
$ protoc --version # æŸ¥çœ‹ protoc ç‰ˆæœ¬ï¼ŒæˆåŠŸè¾“å‡ºç‰ˆæœ¬å·ï¼Œè¯´æ˜å®‰è£…æˆåŠŸ
libprotoc 3.21.1

# ç¬¬äºŒæ­¥ï¼šå®‰è£… protoc-gen-go
go install google.golang.org/protobuf/cmd/protoc-gen-go@v1.28
go install google.golang.org/grpc/cmd/protoc-gen-go-grpc@v1.2

# ç¬¬ä¸‰æ­¥:å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä»£ç 
# ç”Ÿæˆçš„ .pb.go æ–‡ä»¶åœ¨è¾“å‡ºç›®å½•ä¸­çš„æ”¾ç½®ä½ç½®å–å†³äºç¼–è¯‘å™¨æ ‡å¿—
protoc   --go_out=. --go_opt=paths=source_relative  helloworld/helloworld.proto
protoc   --go-grpc_out=. --go-grpc_opt=paths=source_relative helloworld/helloworld.proto
</code></pre>
<p>ç¼–è¯‘å™¨æ ‡å¿—ï¼šè¾“å‡ºæ¨¡å¼</p>
<ol>
<li>paths&#x3D;import: é»˜è®¤è¾“å‡ºæ¨¡å¼ï¼Œè¾“å‡ºæ–‡ä»¶å°†å­˜æ”¾åœ¨ä»¥GOè½¯ä»¶åŒ…çš„å¯¼å…¥è·¯å¾„å‘½åçš„ç›®å½•ä¸­<br>è¾“å…¥æ–‡ä»¶:&#x2F;root&#x2F;protos&#x2F;buzz.proto<br>GOæ–‡ä»¶å¯¼å…¥è·¯å¾„ï¼šexample.com&#x2F;project&#x2F;protos&#x2F;fizz<br>è¾“å‡ºæ–‡ä»¶ï¼š&#x2F;root&#x2F;..&#x2F;example.com&#x2F;project&#x2F;protos&#x2F;fizz&#x2F;buzz.pb.go</li>
<li>paths&#x3D;source_relative: è¾“å‡ºæ–‡ä»¶å°†ä¸è¾“å…¥æ–‡ä»¶ä½äºåŒä¸€ç›¸å¯¹ç›®å½•ä¸­<br>è¾“å…¥æ–‡ä»¶:protos&#x2F;buzz.proto<br>è¾“å‡ºæ–‡ä»¶:protos&#x2F;buzz.pb.goã€‚</li>
<li>module&#x3D;$PREFIX:è¾“å‡ºæ–‡ä»¶ä¼šè¢«æ”¾ç½®åœ¨ä¸€ä¸ªä»¥ Go è½¯ä»¶åŒ…çš„å¯¼å…¥è·¯å¾„å‘½åçš„ç›®å½•ä¸­ï¼Œä½†æŒ‡å®šçš„ç›®å½•å‰ç¼€ä¼šä»è¾“å‡ºæ–‡ä»¶åä¸­ç§»é™¤<br>è¾“å…¥æ–‡ä»¶ï¼šprotos&#x2F;buzz.proto<br>goå¯¼å…¥è·¯å¾„ï¼šexample.com&#x2F;project&#x2F;protos&#x2F;fizz<br>å‰ç¼€ï¼šexample.com&#x2F;project<br>è¾“å‡ºæ–‡ä»¶ï¼šprotos&#x2F;fizz&#x2F;buzz.pb.go</li>
</ol>
<blockquote>
<p>Go å¯¼å…¥è·¯å¾„ä¸ .proto æ–‡ä»¶ä¸­çš„ package è¯´æ˜ç¬¦ä¹‹é—´æ²¡æœ‰å…³è”ã€‚åè€…åªä¸ protobuf å‘½åç©ºé—´ç›¸å…³ï¼Œè€Œå‰è€…ä»…ä¸ &gt;  Go å‘½åç©ºé—´ç›¸å…³ã€‚æ­¤å¤–ï¼ŒGo å¯¼å…¥è·¯å¾„ä¸ .proto å¯¼å…¥è·¯å¾„ä¹‹é—´æ²¡æœ‰ä»»ä½•å…³è”ã€‚</p>
</blockquote>
<h3 id="æŠ¥é”™"><a href="#æŠ¥é”™" class="headerlink" title="æŠ¥é”™"></a>æŠ¥é”™</h3><h4 id="æ‰§è¡Œ-x2F-autogen-shæŠ¥é”™"><a href="#æ‰§è¡Œ-x2F-autogen-shæŠ¥é”™" class="headerlink" title="æ‰§è¡Œ.&#x2F;autogen.shæŠ¥é”™"></a>æ‰§è¡Œ.&#x2F;autogen.shæŠ¥é”™</h4><ol>
<li>.&#x2F;autogen.sh: line 41: autoreconf: command not found<br>è§£å†³æ–¹æ³•ï¼šyumå®‰è£… autoconf</li>
<li>Canâ€™t exec â€œaclocalâ€: No such file or directory at &#x2F;usr&#x2F;share&#x2F;autoconf&#x2F;Autom4te&#x2F; FileUtils.pm line 326.<br>è§£å†³æ–¹æ³•ï¼šyum å®‰è£…automake</li>
<li>configure.ac:109: error: possibly undefined macro: AC_PROG_LIBTOOL.If this token and others are legitimate, please use m4_pattern_allow.See the Autoconf documentation.<br>è§£å†³æ–¹æ³•ï¼šyum å®‰è£…libtool</li>
</ol>
<h4 id="æ‰§è¡Œ-x2F-configureæŠ¥é”™"><a href="#æ‰§è¡Œ-x2F-configureæŠ¥é”™" class="headerlink" title="æ‰§è¡Œ.&#x2F;configureæŠ¥é”™"></a>æ‰§è¡Œ.&#x2F;configureæŠ¥é”™</h4><ol>
<li>configure: error: in <code>/tmp/protobuf&#39;:configure: error: C++ preprocessor &quot;/lib/cpp&quot; fails sanity check  See &#39;config.log&#39; for more details è§£å†³æ–¹æ³•ï¼šç”±äºc++ç¼–è¯‘å™¨çš„ç›¸å…³packageæ²¡æœ‰å®‰è£…ï¼Œyum å®‰è£…</code>yum install glibc-headers gcc-c++&#96;</li>
</ol>
<h2 id="gRPC-demo-å®ç°"><a href="#gRPC-demo-å®ç°" class="headerlink" title="gRPC demo å®ç°"></a>gRPC demo å®ç°</h2><ol>
<li>å®šä¹‰gPRCæœåŠ¡</li>
<li>ç”Ÿæˆå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä»£ç </li>
<li>å®ç°gRPCæœåŠ¡</li>
<li>å®ç°gRPCå®¢æˆ·ç«¯</li>
</ol>
<pre><code class="go">tree
â”œâ”€â”€ client
â”‚   â””â”€â”€ main.go
â”œâ”€â”€ helloworld
â”‚   â”œâ”€â”€ helloworld.pb.go
â”‚   â””â”€â”€ helloworld.proto
â””â”€â”€ server
    â””â”€â”€ main.go
</code></pre>
<p>client:å­˜æ”¾å®¢æˆ·ç«¯ä»£ç <br>helloworld:å­˜æ”¾æœåŠ¡çš„IDLå®šä¹‰<br>serverï¼šå­˜æ”¾serverç›®å½•</p>
<h3 id="protoæ–‡ä»¶ï¼šå®šä¹‰æœåŠ¡"><a href="#protoæ–‡ä»¶ï¼šå®šä¹‰æœåŠ¡" class="headerlink" title="protoæ–‡ä»¶ï¼šå®šä¹‰æœåŠ¡"></a>protoæ–‡ä»¶ï¼šå®šä¹‰æœåŠ¡</h3><p>ç¼–è¯‘å‘½ä»¤ï¼š<br><code>protoc -I=$SRC_DIR --go_out=$DST_DIR $SRC_DIR/addressbook.proto</code></p>
<h3 id="æœåŠ¡æ–¹æ³•ç±»å‹"><a href="#æœåŠ¡æ–¹æ³•ç±»å‹" class="headerlink" title="æœåŠ¡æ–¹æ³•ç±»å‹"></a>æœåŠ¡æ–¹æ³•ç±»å‹</h3><ol>
<li>ç®€å•æ¨¡å¼:å®¢æˆ·ç«¯å‘èµ·ä¸€æ¬¡è¯·æ±‚ï¼ŒæœåŠ¡ç«¯å“åº”ä¸€ä¸ªæ•°æ®</li>
</ol>
<pre><code class="go">rpc SayHello (HelloRequest) returns (HelloReply) &#123;&#125;
</code></pre>
<ol start="2">
<li>æœåŠ¡ç«¯æ•°æ®æµæ¨¡å¼:å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªè¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å›æ•°æ®æµå“åº”ï¼Œå®¢æˆ·ç«¯ä»æµä¸­è¯»å–æ•°æ®ç›´åˆ°ä¸ºç©º</li>
</ol>
<pre><code class="go">rpc SayHello (HelloRequest) returns (stream HelloReply) &#123;&#125;
</code></pre>
<ol start="3">
<li>å®¢æˆ·ç«¯æ•°æ®æµæ¨¡å¼ï¼šå®¢æˆ·ç«¯å°†æ¶ˆæ¯ä»¥æµçš„æ–¹å¼å‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨å…¨éƒ¨å¤„ç†å®Œæˆä¹‹åè¿”å›ä¸€æ¬¡å“åº”ã€‚</li>
</ol>
<pre><code class="go"> rpc SayHello (stream HelloRequest) returns (HelloReply) &#123;&#125;
</code></pre>
<ol start="4">
<li>åŒå‘æ•°æ®æµæ¨¡å¼:å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½å¯ä»¥å‘å¯¹æ–¹å‘é€æ•°æ®æµï¼Œè¿™ä¸ªæ—¶å€™åŒæ–¹çš„æ•°æ®å¯ä»¥åŒæ—¶äº’ç›¸å‘é€</li>
</ol>
<pre><code class="go">rpc SayHello (stream HelloRequest) returns (stream HelloReply) &#123;&#125;
</code></pre>
<h2 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h2><img src="/2022/12/16/rpc-api/grpc-vs-restful.webp" class="" title="æ¥å£ç±»å‹æ¯”è¾ƒ">




























































































































    </div>

    <div class="post-meta">
        <i>
        
            <span>2022-12-16</span>
            
                <span>è¯¥ç¯‡æ–‡ç« è¢« Moon</span>
            
            
                <span>æ‰“ä¸Šæ ‡ç­¾:
                    
                    
                        <a href='/tags/GoLang/'>
                            GoLang
                        </a>
                    
                </span>
             
             
                <span>å½’ä¸ºåˆ†ç±»:
                    
                    
                        <a href='/categories/%E5%90%8E%E7%AB%AF/'>
                            åç«¯
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    
        
    <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        ä»¥ä¸Šã€‚ 
    </div>
    
        

    <div id="waline"></div>
    <script type="module"  >
        import { init } from 'https://npm.elemecdn.com/hexo-theme-a4@latest/source/js/waline.mjs'; 
        function loadWaline() {
            init({
                el: '#waline',
                serverURL: 'https://comment-hexo-waline.vercel.app/',
                lang: 'zh-CN',
                dark: 'body[class~="dark-mode"]',
                requiredMeta: ['nick','mail'], // cannot customize by theme config, change it yourself
                search: false, // ç¦æ­¢è¡¨æƒ…åŒ…æœç´¢
                reaction: false, // å¯¹æ–‡ç« æ‰“åˆ†
                pageview: false, // æµè§ˆé‡ç»Ÿè®¡
                comment: false, // è¯„è®ºæ•°ç»Ÿè®¡

                locale: {
                    placeholder: 'æ­£ç¡®çš„é‚®ç®±åœ°å€ï¼Œå›å¤å°†èƒ½å¾—åˆ°é‚®ä»¶é€šçŸ¥ã€‚', 
                    sofa: ''
                },
            });
            
        }
        window.addEventListener('DOMContentLoaded', loadWaline);
    </script>



    
    
    
    </div>


     
</div>



                    
                    
                    <div class="footer">
    
        <span> 
            Â©2021-2023 China 

            
                

            
        </span>
    
</div>
<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>ğŸŒŠçœ‹è¿‡å¤§æµ·çš„äººä¸ä¼šå¿˜è®°æµ·çš„å¹¿é˜”ğŸŒŠ</span>
            
    
</div>


    
<link rel="stylesheet" href="/css/a11y-dark.min.css">

    
<script src="/js/highlight.min.js"></script>

    
<script src="/js/highlightjs-line-numbers.js"></script>



<script>
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
</script>
                </div>
            
    </body>
</html>