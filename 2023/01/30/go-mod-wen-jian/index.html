<!DOCTYPE html>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0,  viewport-fit=cover" name="viewport" />
    <meta name="description" content="go.modæ–‡ä»¶" />
    <meta name="hexo-theme-A4" content="v1.7.1" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.webp">
    <title>Diary | just try it</title>

    
        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
            
<link rel="stylesheet" href="/css/waline.css">

        
    
    
<link rel="stylesheet" href="/css/ui.css">
 
    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"></head>
    
    <body>
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    
<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/favicon.webp" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Diary</a> 
            <span class="description">é»˜å¥¥æ²™</span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">æ–‡ç« </a></li>
            
        
            
                <li><a href="/categories/">åˆ†ç±»</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">

    
        <div class="post-main-title">
            go.modæ–‡ä»¶
        </div>
      
    

    <div class="post-md">
        
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#go-mod%E5%B8%B8%E8%A7%81%E7%94%A8%E6%B3%95%E4%BB%A5%E5%8F%8A%E6%B3%A8%E9%87%8A"><span class="post-toc-text">go.modå¸¸è§ç”¨æ³•ä»¥åŠæ³¨é‡Š</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E7%AC%AC%E4%B8%89%E6%96%B9%E5%BA%93%E7%9A%84replace"><span class="post-toc-text">ç¬¬ä¸‰æ–¹åº“çš„replace</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%9C%BA%E6%99%AF"><span class="post-toc-text">åœºæ™¯</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%951-%E5%BC%95%E7%94%A8%E6%96%B0%E5%BA%93"><span class="post-toc-text">è§£å†³æ–¹æ³•1-å¼•ç”¨æ–°åº“</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%952-go-mod-replace"><span class="post-toc-text">è§£å†³æ–¹æ³•2 - go mod replace</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86"><span class="post-toc-text">è¡¥å……çŸ¥è¯†</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96module"><span class="post-toc-text">åˆå§‹åŒ–module</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#go-mod-tidy%E4%BD%9C%E7%94%A8"><span class="post-toc-text">go mod tidyä½œç”¨</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%89%A7%E8%A1%8C%E9%A1%B9%E7%9B%AE"><span class="post-toc-text">æ‰§è¡Œé¡¹ç›®</span></a></li></ol></li></ol>
        
        <h2 id="go-modå¸¸è§ç”¨æ³•ä»¥åŠæ³¨é‡Š"><a href="#go-modå¸¸è§ç”¨æ³•ä»¥åŠæ³¨é‡Š" class="headerlink" title="go.modå¸¸è§ç”¨æ³•ä»¥åŠæ³¨é‡Š"></a>go.modå¸¸è§ç”¨æ³•ä»¥åŠæ³¨é‡Š</h2><pre><code class="go">// module pathï¼Œä¸€èˆ¬é‡‡ç”¨ä»“åº“æˆ–è€…ä»“åº“+module_nameå®šä¹‰
module github.com/actiontech/dtle

// go directive,éå¿…é¡»,æŒ‡å®šä»£ç æ‰€éœ€è¦çš„goçš„æœ€ä½ç‰ˆæœ¬ï¼Œä¸€èˆ¬ä¸ºgo 1.xx
go 1.16

// requireæ®µä¸­åˆ—å‡ºäº†é¡¹ç›®æ‰€éœ€è¦çš„å„ä¸ªä¾èµ–åº“ä»¥åŠå®ƒä»¬çš„ç‰ˆæœ¬
require (
    // æ­£è§„ç‰ˆæœ¬å·
    github.com/Shopify/sarama v1.26.4
    // ä¼ªç‰ˆæœ¬å·ï¼š go module ä¸ºå®ƒç”Ÿæˆçš„ä¸€ä¸ªç±»ä¼¼ç¬¦åˆè¯­ä¹‰åŒ–ç‰ˆæœ¬ 2.0.0 ç‰ˆæœ¬ï¼Œå®é™…è¿™ä¸ªåº“å¹¶æ²¡æœ‰å‘å¸ƒè¿™ä¸ªç‰ˆæœ¬
    // commit çš„ base versio-æœ¬æ¬¡æäº¤æ—¶é—´-ç¬¬ä¸‰æ–¹åº“æœ¬æ¬¡æäº¤æ—¶æœ€æ–°çš„commitId
    github.com/actiontech/golang-live-coverage-report v0.0.0-20210902074032-43aa91afdc2c
    //indirect: é—´æ¥çš„ä½¿ç”¨äº†è¿™ä¸ªåº“ï¼Œä½†æ˜¯åˆæ²¡æœ‰è¢«åˆ—åˆ°æŸä¸ª go.mod ä¸­
    // 1. å½“å‰é¡¹ç›®ä¾èµ– Aï¼Œä½†æ˜¯ A çš„go.mod é—æ¼äº† Bï¼Œé‚£ä¹ˆå°±ä¼šåœ¨å½“å‰é¡¹ç›®çš„ go.mod ä¸­è¡¥å…… Bï¼ŒåŠ  indirect æ³¨é‡Šï¼›
    // 2.	å½“å‰é¡¹ç›®ä¾èµ– Aï¼Œä½†æ˜¯ A æ²¡æœ‰ go.modï¼ŒåŒæ ·å°±ä¼šåœ¨å½“å‰é¡¹ç›®çš„ go.mod ä¸­è¡¥å…… Bï¼ŒåŠ  indirect æ³¨é‡Šï¼›
    // 3.	å½“å‰é¡¹ç›®ä¾èµ– Aï¼ŒA åˆä¾èµ– Bã€‚å½“å¯¹ A é™çº§çš„æ—¶å€™ï¼Œé™çº§çš„ A ä¸å†ä¾èµ– Bï¼Œè¿™ä¸ªæ—¶å€™ B å°±æ ‡è®° indirect æ³¨é‡Šã€‚æˆ‘ä»¬å¯ä»¥æ‰§è¡Œgo mod tidyæ¥æ¸…ç†ä¸ä¾èµ–çš„ moduleã€‚
    github.com/go-playground/universal-translator v0.17.0 // indirect
    // æ²¡æœ‰é‡‡ç”¨go.modç®¡ç†æˆ–è€…module path ä¸­ä¾ç„¶æ²¡æœ‰æ·»åŠ  v2ã€v3 è¿™æ ·çš„åç¼€,ä¸ç¬¦åˆ Go çš„ module ç®¡ç†è§„èŒƒ
    github.com/go-playground/validator v9.31.0+incompatible
)

// 1. æ›¿æ¢åº“
// 2.	æŸä¸ªä¾èµ–åº“æœ‰é—®é¢˜ï¼Œè‡ªå·± fork åˆ°æœ¬åœ°åšä¿®æ”¹ï¼Œé€šè¿‡æ›¿æ¢æˆæœ¬åœ°æ–‡ä»¶å¤¹è¿›è¡Œè°ƒè¯•
replace github.com/go-mysql-org/go-mysql =&gt; github.com/ffffwh/go-mysql v0.0.0-20211206100736-edbdc58f729a

//replace github.com/Sirupsen/logrus =&gt; github.com/sirupsen/logrus v1.4.2

replace github.com/araddon/qlbridge =&gt; github.com/ffffwh/qlbridge v0.0.0-20220113095321-0b48c80b13e9

replace github.com/pingcap/dm =&gt; github.com/actiontech/dm v0.0.0-20211206092524-9e640f6da0ac

replace github.com/pingcap/tidb =&gt; github.com/actiontech/tidb v0.0.0-20220928030323-1f192702a2c7

replace github.com/pingcap/tidb/parser =&gt; github.com/actiontech/tidb/parser v0.0.0-20220928030323-1f192702a2c7

// åé¢çš„commitIdä¸ºå½“æ—¶æäº¤ä»£ç çš„æ—¶å€™ä¾èµ–åŒ…çš„commitId
replace github.com/hashicorp/go-discover =&gt; github.com/hashicorp/go-discover v0.0.0-20211203145537-8b3ddf4349a8
// å°†grpcç‰ˆæœ¬å›ºå®šä¸º1.29.1
replace google.golang.org/grpc =&gt; google.golang.org/grpc v1.29.1

// exclude :Go åœ¨ç‰ˆæœ¬é€‰æ‹©çš„æ—¶å€™ï¼Œå¦‚go get -u æˆ–è€…go get github.com/xxx/xxx@latest å°±ä¼šä¸»åŠ¨è·³è¿‡è¿™äº›ç‰ˆæœ¬
// retract :go 1.16 ä¸­æ–°å¢åŠ çš„å†…å®¹
</code></pre>
<h2 id="ç¬¬ä¸‰æ–¹åº“çš„replace"><a href="#ç¬¬ä¸‰æ–¹åº“çš„replace" class="headerlink" title="ç¬¬ä¸‰æ–¹åº“çš„replace"></a>ç¬¬ä¸‰æ–¹åº“çš„replace</h2><h3 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h3><p>ç¬¬ä¸‰æ–¹åº“ä¸­ç¼ºå°‘è‡ªå·±é¡¹ç›®ä¸­éœ€è¦çš„æŸä¸ªæ–¹æ³•ï¼Œè‡ªå·±forkä¸€ä»½å¹¶åŠ å…¥è‡ªå®šä¹‰çš„æ–°æ–¹æ³•ï¼Œåœ¨é¡¹ç›®ä¸­è°ƒç”¨è¿™ä¸ªè‡ªå®šä¹‰æ–¹æ³•</p>
<h3 id="è§£å†³æ–¹æ³•1-å¼•ç”¨æ–°åº“"><a href="#è§£å†³æ–¹æ³•1-å¼•ç”¨æ–°åº“" class="headerlink" title="è§£å†³æ–¹æ³•1-å¼•ç”¨æ–°åº“"></a>è§£å†³æ–¹æ³•1-å¼•ç”¨æ–°åº“</h3><ol>
<li>å°†forkçš„åº“çš„go.modä¸­module name ä¿®æ”¹ä¸ºä¸€ä¸ªæ–°çš„ name</li>
<li>å¢åŠ æ‰€éœ€è¦çš„æ–¹æ³•</li>
<li>å¢åŠ æ–°çš„ git tag</li>
<li>å½“å‰é¡¹ç›®ä¸­ï¼Œå¼•ç”¨ä¿®æ”¹åçš„è¿™ä¸ª repoï¼Œæ›¿æ¢åœ°å€ä»¥åŠtagç‰ˆæœ¬å·</li>
</ol>
<h3 id="è§£å†³æ–¹æ³•2-go-mod-replace"><a href="#è§£å†³æ–¹æ³•2-go-mod-replace" class="headerlink" title="è§£å†³æ–¹æ³•2 - go mod replace"></a>è§£å†³æ–¹æ³•2 - go mod replace</h3><ol>
<li>forkç¬¬ä¸‰æ–¹åº“</li>
<li>å¢åŠ éœ€è¦çš„æ–¹æ³•</li>
<li>åœ¨å½“å‰é¡¹ç›®ä¸­ï¼Œæ‰§è¡Œ go mod edit -replace å‘½ä»¤:<code>go mod edit -replace=old[@v]=new[@v]</code></li>
</ol>
<pre><code class="go">go mod edit -replace=golang.org/x/image@v0.0.0-20180708004352-c73c2afc3b81=github.com/golang/image@v0.0.0-20180708004352-c73c2afc3b81
</code></pre>
<ol start="4">
<li>å¯ä»¥å‘ç¬¬ä¸‰æ–¹åº“æäº¤PRï¼Œåˆå¹¶ä¸Šå»åå¯ä»¥åˆ é™¤replaceè¯­å¥</li>
</ol>
<h2 id="è¡¥å……çŸ¥è¯†"><a href="#è¡¥å……çŸ¥è¯†" class="headerlink" title="è¡¥å……çŸ¥è¯†"></a>è¡¥å……çŸ¥è¯†</h2><h3 id="åˆå§‹åŒ–module"><a href="#åˆå§‹åŒ–module" class="headerlink" title="åˆå§‹åŒ–module"></a>åˆå§‹åŒ–module</h3><p><code>go mod init project_name</code></p>
<h3 id="go-mod-tidyä½œç”¨"><a href="#go-mod-tidyä½œç”¨" class="headerlink" title="go mod tidyä½œç”¨"></a>go mod tidyä½œç”¨</h3><ol>
<li>è§£æé¡¹ç›®æ–‡ä»¶ï¼Œå¹¶æ‰¾åˆ°æ‰€ä½¿ç”¨çš„åŒ…</li>
<li>ç”Ÿæˆ go.sum æ–‡ä»¶ï¼Œå…¶ä¸­ä¿å­˜äº†æ‰€ä½¿ç”¨åŒ…çš„ç‰ˆæœ¬</li>
</ol>
<h3 id="æ‰§è¡Œé¡¹ç›®"><a href="#æ‰§è¡Œé¡¹ç›®" class="headerlink" title="æ‰§è¡Œé¡¹ç›®"></a>æ‰§è¡Œé¡¹ç›®</h3><p><code>go run main.go</code></p>

    </div>

    <div class="post-meta">
        <i>
        
            <span>2023-01-30</span>
            
                <span>è¯¥ç¯‡æ–‡ç« è¢« Moon</span>
            
            
                <span>æ‰“ä¸Šæ ‡ç­¾:
                    
                    
                        <a href='/tags/GoLang/'>
                            GoLang
                        </a>
                    
                </span>
             
             
                <span>å½’ä¸ºåˆ†ç±»:
                    
                    
                        <a href='/categories/%E5%90%8E%E7%AB%AF/'>
                            åç«¯
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    
        
    <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        ä»¥ä¸Šã€‚ 
    </div>
    
        

    <div id="waline"></div>
    <script type="module"  >
        import { init } from 'https://npm.elemecdn.com/hexo-theme-a4@latest/source/js/waline.mjs'; 
        function loadWaline() {
            init({
                el: '#waline',
                serverURL: 'https://comment-hexo-waline.vercel.app/',
                lang: 'zh-CN',
                dark: 'body[class~="dark-mode"]',
                requiredMeta: ['nick','mail'], // cannot customize by theme config, change it yourself
                search: false, // ç¦æ­¢è¡¨æƒ…åŒ…æœç´¢
                reaction: false, // å¯¹æ–‡ç« æ‰“åˆ†
                pageview: false, // æµè§ˆé‡ç»Ÿè®¡
                comment: false, // è¯„è®ºæ•°ç»Ÿè®¡

                locale: {
                    placeholder: 'æ­£ç¡®çš„é‚®ç®±åœ°å€ï¼Œå›å¤å°†èƒ½å¾—åˆ°é‚®ä»¶é€šçŸ¥ã€‚', 
                    sofa: ''
                },
            });
            
        }
        window.addEventListener('DOMContentLoaded', loadWaline);
    </script>



    
    
    
    </div>


     
</div>



                    
                    
                    <div class="footer">
    
        <span> 
            Â©2021-2023 China 

            
                

            
        </span>
    
</div>
<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>ğŸŒŠçœ‹è¿‡å¤§æµ·çš„äººä¸ä¼šå¿˜è®°æµ·çš„å¹¿é˜”ğŸŒŠ</span>
            
    
</div>


    
<link rel="stylesheet" href="/css/a11y-dark.min.css">

    
<script src="/js/highlight.min.js"></script>

    
<script src="/js/highlightjs-line-numbers.js"></script>



<script>
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
</script>
                </div>
            
    </body>
</html>