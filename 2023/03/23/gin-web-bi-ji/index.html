<!DOCTYPE html>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0,  viewport-fit=cover" name="viewport" />
    <meta name="description" content="gin-webç¬”è®°" />
    <meta name="hexo-theme-A4" content="v1.7.1" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.webp">
    <title>Diary</title>

    
        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
            
<link rel="stylesheet" href="/css/waline.css">

        
    
    
<link rel="stylesheet" href="/css/ui.css">
 
    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"></head>
    
    <body>
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    
<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/favicon.webp" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Diary</a> 
            <span class="description">å¤‡å¿˜å½•/ç¬”è®°æœ¬</span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">æ–‡ç« </a></li>
            
        
            
                <li><a href="/categories/">åˆ†ç±»</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">

    
        <div class="post-main-title">
            gin-webç¬”è®°
        </div>
      
    

    <div class="post-md">
        
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%AE%89%E8%A3%85"><span class="post-toc-text">å®‰è£…</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%BF%AB%E6%8D%B7%E6%96%B9%E5%BC%8F%EF%BC%9A"><span class="post-toc-text">å¿«æ·æ–¹å¼ï¼š</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#AsciiJSON"><span class="post-toc-text">AsciiJSON</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#html-%E6%B8%B2%E6%9F%93"><span class="post-toc-text">html æ¸²æŸ“</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89-html-%E6%A8%A1%E6%9D%BF"><span class="post-toc-text">è‡ªå®šä¹‰ html æ¨¡æ¿</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#HTTP2-server-%E6%9C%8D%E5%8A%A1%E5%99%A8-%E6%8E%A8%E9%80%81"><span class="post-toc-text">HTTP2 server æœåŠ¡å™¨ æ¨é€</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#JSONP"><span class="post-toc-text">JSONP</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Multipart-x2F-Urlencoded-%E7%BB%91%E5%AE%9A"><span class="post-toc-text">Multipart&#x2F;Urlencoded ç»‘å®š</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Multipart-x2F-Urlencoded-%E8%A1%A8%E5%8D%95"><span class="post-toc-text">Multipart&#x2F;Urlencoded è¡¨å•</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%AF%B9%E7%89%B9%E6%AE%8A-HTML-%E5%AD%97%E7%AC%A6%E8%BF%9B%E8%A1%8C%E7%BC%96%E7%A0%81%E2%80%94%E2%80%94PureJSON"><span class="post-toc-text">å¯¹ç‰¹æ®Š HTML å­—ç¬¦è¿›è¡Œç¼–ç â€”â€”PureJSON</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Query-%E5%92%8C-post-form"><span class="post-toc-text">Query å’Œ post form</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E9%98%B2%E6%AD%A2-JSON-%E5%8A%AB%E6%8C%81%E2%80%94%E2%80%94SecureJSON"><span class="post-toc-text">é˜²æ­¢ JSON åŠ«æŒâ€”â€”SecureJSON</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#XML-x2F-JSON-x2F-YAML-x2F-ProtoBuf-%E6%B8%B2%E6%9F%93"><span class="post-toc-text">XML&#x2F;JSON&#x2F;YAML&#x2F;ProtoBuf æ¸²æŸ“</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6"><span class="post-toc-text">ä¸Šä¼ æ–‡ä»¶</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%8D%95%E6%96%87%E4%BB%B6"><span class="post-toc-text">å•æ–‡ä»¶</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%A4%9A%E6%96%87%E4%BB%B6"><span class="post-toc-text">å¤šæ–‡ä»¶</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%B8%8D%E4%BD%BF%E7%94%A8%E9%BB%98%E8%AE%A4%E7%9A%84%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="post-toc-text">ä¸ä½¿ç”¨é»˜è®¤çš„ä¸­é—´ä»¶</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%BB%8E-reader-%E8%AF%BB%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="post-toc-text">ä» reader è¯»å–æ•°æ®</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E9%87%8D%E5%90%AF%E6%88%96%E5%81%9C%E6%AD%A2-web-%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="post-toc-text">é‡å¯æˆ–åœæ­¢ web æœåŠ¡å™¨</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%BD%BF%E7%94%A8-BasicAuth-%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="post-toc-text">ä½¿ç”¨ BasicAuth ä¸­é—´ä»¶</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%BD%BF%E7%94%A8-http-%E6%96%B9%E6%B3%95"><span class="post-toc-text">ä½¿ç”¨ http æ–¹æ³•</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%BD%BF%E7%94%A8%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="post-toc-text">ä½¿ç”¨ä¸­é—´ä»¶</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%B7%AF%E7%94%B1%E7%BB%84"><span class="post-toc-text">è·¯ç”±ç»„</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%8F%AA%E7%BB%91%E5%AE%9A-url-%E6%9F%A5%E8%AF%A2%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="post-toc-text">åªç»‘å®š url æŸ¥è¯¢å­—ç¬¦ä¸²</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%9C%A8%E4%B8%AD%E9%97%B4%E4%BB%B6%E4%BD%BF%E7%94%A8-go-routine"><span class="post-toc-text">åœ¨ä¸­é—´ä»¶ä½¿ç”¨ go routine</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E8%AE%B0%E5%BD%95%E6%97%A5%E5%BF%97"><span class="post-toc-text">è®°å½•æ—¥å¿—</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%AE%9A%E4%B9%89%E8%B7%AF%E7%94%B1%E6%97%A5%E5%BF%97%E7%9A%84%E6%A0%BC%E5%BC%8F"><span class="post-toc-text">å®šä¹‰è·¯ç”±æ—¥å¿—çš„æ ¼å¼</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%B0%86-request-body-%E7%BB%91%E5%AE%9A%E5%88%B0%E4%B8%8D%E5%90%8C%E7%9A%84%E7%BB%93%E6%9E%84%E4%BD%93%E4%B8%AD"><span class="post-toc-text">å°† request body ç»‘å®šåˆ°ä¸åŒçš„ç»“æ„ä½“ä¸­</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%8E%A7%E5%88%B6%E6%97%A5%E5%BF%97%E8%BE%93%E5%87%BA%E9%A2%9C%E8%89%B2"><span class="post-toc-text">æ§åˆ¶æ—¥å¿—è¾“å‡ºé¢œè‰²</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%98%A0%E5%B0%84%E6%9F%A5%E8%AF%A2%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%96%E8%A1%A8%E5%8D%95%E5%8F%82%E6%95%B0"><span class="post-toc-text">æ˜ å°„æŸ¥è¯¢å­—ç¬¦ä¸²æˆ–è¡¨å•å‚æ•°</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%82%E6%95%B0"><span class="post-toc-text">æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#model-binding-%E7%BB%91%E5%AE%9A%E5%92%8C%E9%AA%8C%E8%AF%81"><span class="post-toc-text">model binding ç»‘å®šå’ŒéªŒè¯</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E7%BB%91%E5%AE%9A-uri"><span class="post-toc-text">ç»‘å®š uri</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E7%BB%91%E5%AE%9A%E6%9F%A5%E8%AF%A2%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%88%96%E8%80%85%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE"><span class="post-toc-text">ç»‘å®šæŸ¥è¯¢å­—ç¬¦ä¸²æˆ–è€…è¡¨å•æ•°æ®</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E7%BB%91%E5%AE%9A%E8%A1%A8%E5%8D%95%E6%95%B0%E6%8D%AE%E5%88%B0%E8%87%AA%E5%AE%9A%E4%B9%89-struct"><span class="post-toc-text">ç»‘å®šè¡¨å•æ•°æ®åˆ°è‡ªå®šä¹‰ struct</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89-http-%E9%85%8D%E7%BD%AE"><span class="post-toc-text">è‡ªå®šä¹‰ http é…ç½®</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%AD%E9%97%B4%E4%BB%B6"><span class="post-toc-text">è‡ªå®šä¹‰ä¸­é—´ä»¶</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%AA%8C%E8%AF%81"><span class="post-toc-text">è‡ªå®šä¹‰éªŒè¯</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E8%AE%BE%E7%BD%AE-x2F-%E8%8E%B7%E5%8F%96-cookie"><span class="post-toc-text">è®¾ç½®&#x2F;è·å– cookie</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0"><span class="post-toc-text">è·¯ç”±å‚æ•°</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E8%B7%AF%E7%94%B1%E7%BB%84-1"><span class="post-toc-text">è·¯ç”±ç»„</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E8%BF%90%E8%A1%8C%E5%A4%9A%E4%B8%AA%E6%9C%8D%E5%8A%A1"><span class="post-toc-text">è¿è¡Œå¤šä¸ªæœåŠ¡</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91"><span class="post-toc-text">é‡å®šå‘</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#get%E9%87%8D%E5%AE%9A%E5%90%91"><span class="post-toc-text">geté‡å®šå‘</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#post-%E9%87%8D%E5%AE%9A%E5%90%91"><span class="post-toc-text">post é‡å®šå‘</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%B7%AF%E7%94%B1%E9%87%8D%E5%AE%9A%E5%90%91"><span class="post-toc-text">è·¯ç”±é‡å®šå‘</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E9%9D%99%E6%80%81%E6%96%87%E4%BB%B6"><span class="post-toc-text">é™æ€æ–‡ä»¶</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E9%9D%99%E6%80%81%E8%B5%84%E6%BA%90%E5%B5%8C%E5%85%A5"><span class="post-toc-text">é™æ€èµ„æºåµŒå…¥</span></a></li></ol>
        
        <h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><pre><code class="bash">go get -u github.com/gin-gonic/gin
</code></pre>
<p>Gin é»˜è®¤ä½¿ç”¨<code>encoding/json</code>è¿›è¡Œç¼–è¯‘</p>
<h2 id="å¿«æ·æ–¹å¼ï¼š"><a href="#å¿«æ·æ–¹å¼ï¼š" class="headerlink" title="å¿«æ·æ–¹å¼ï¼š"></a>å¿«æ·æ–¹å¼ï¼š</h2><ul>
<li>gin.H æ˜¯ map[string]interface{}çš„å¿«æ·æ–¹å¼</li>
<li>gin.Accounts æ˜¯ map[string]string çš„ä¸€ç§å¿«æ·æ–¹å¼</li>
</ul>
<h2 id="AsciiJSON"><a href="#AsciiJSON" class="headerlink" title="AsciiJSON"></a>AsciiJSON</h2><p>ä½¿ç”¨ AsciiJSON ç”Ÿæˆå…·æœ‰è½¬ä¹‰çš„é ASCII å­—ç¬¦çš„ ASCII-only JSONã€‚<br>åŸæ•°æ®ï¼š</p>
<pre><code class="go">data := map[string]interface&#123;&#125;&#123;
  &quot;lang&quot;: &quot;GOè¯­è¨€&quot;,
  &quot;tag&quot;:  &quot;&lt;br&gt;&quot;,
&#125;
// è¾“å‡ºdata:&#123;&quot;lang&quot;:&quot;GO\u8bed\u8a00&quot;,&quot;tag&quot;:&quot;\u003cbr\u003e&quot;&#125;
c.AsciiJSON(http.StatusOK, data)
</code></pre>
<h2 id="html-æ¸²æŸ“"><a href="#html-æ¸²æŸ“" class="headerlink" title="html æ¸²æŸ“"></a>html æ¸²æŸ“</h2><p>ä½¿ç”¨<code>LoadHTMLGlob()</code>æˆ–è€…<code>LoadHTMLFiles()</code></p>
<pre><code class="tmpl">&lt;!-- templates/index.tmpl --&gt;
&lt;html&gt;
    &lt;h1&gt;
        &#123;&#123; .title &#125;&#125;
    &lt;/h1&gt;
&lt;/html&gt;
&lt;!-- templates/posts/index.tmpl --&gt;
&#123;&#123; define "posts/index.tmpl" &#125;&#125;
&lt;html&gt;&lt;h1&gt;
    &#123;&#123; .title &#125;&#125;
&lt;/h1&gt;
&lt;p&gt;Using posts/index.tmpl&lt;/p&gt;
&lt;/html&gt;
&#123;&#123; end &#125;&#125;
&lt;!-- templates/users/index.tmpl --&gt;
&#123;&#123; define "users/index.tmpl" &#125;&#125;
&lt;html&gt;&lt;h1&gt;
    &#123;&#123; .title &#125;&#125;
&lt;/h1&gt;
&lt;p&gt;Using users/index.tmpl&lt;/p&gt;
&lt;/html&gt;
&#123;&#123; end &#125;&#125;
</code></pre>
<p>å¦‚ä½•ä½¿ç”¨æ¨¡æ¿ï¼š</p>
<pre><code class="go">    router.LoadHTMLGlob(&quot;templates/**/*&quot;)
  //router.LoadHTMLFiles(&quot;templates/template1.html&quot;, &quot;templates/template2.html&quot;)
  // ä½¿ç”¨ä¸åŒç›®å½•ä¸‹çš„ç›¸åŒåç§°çš„æ¨¡æ¿
    router.GET(&quot;/posts/index&quot;, func(c *gin.Context) &#123;
        c.HTML(http.StatusOK, &quot;posts/index.tmpl&quot;, gin.H&#123;
            &quot;title&quot;: &quot;Posts&quot;,
        &#125;)
    &#125;)
    router.GET(&quot;/users/index&quot;, func(c *gin.Context) &#123;
        c.HTML(http.StatusOK, &quot;users/index.tmpl&quot;, gin.H&#123;
            &quot;title&quot;: &quot;Users&quot;,
        &#125;)
    &#125;)
</code></pre>
<h3 id="è‡ªå®šä¹‰-html-æ¨¡æ¿"><a href="#è‡ªå®šä¹‰-html-æ¨¡æ¿" class="headerlink" title="è‡ªå®šä¹‰ html æ¨¡æ¿"></a>è‡ªå®šä¹‰ html æ¨¡æ¿</h3><p>æš‚å¿½ç•¥</p>
<h2 id="HTTP2-server-æœåŠ¡å™¨-æ¨é€"><a href="#HTTP2-server-æœåŠ¡å™¨-æ¨é€" class="headerlink" title="HTTP2 server æœåŠ¡å™¨ æ¨é€"></a>HTTP2 server æœåŠ¡å™¨ æ¨é€</h2><p>æœåŠ¡å™¨æ¨é€ï¼šè¿˜æ²¡æœ‰æ”¶åˆ°æµè§ˆå™¨çš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨å°±æŠŠå„ç§èµ„æºæ¨é€ç»™æµè§ˆå™¨ã€‚æ¯”å¦‚ï¼Œæµè§ˆå™¨åªè¯·æ±‚äº† index.htmlï¼Œä½†æ˜¯æœåŠ¡å™¨æŠŠ index.htmlã€style.cssã€example.png å…¨éƒ¨å‘é€ç»™æµè§ˆå™¨ã€‚è¿™æ ·çš„è¯ï¼Œåªéœ€è¦ä¸€è½® HTTP é€šä¿¡ï¼Œæµè§ˆå™¨å°±å¾—åˆ°äº†å…¨éƒ¨èµ„æºï¼Œæé«˜äº†æ€§èƒ½</p>
<pre><code class="go">var html = template.Must(template.New(&quot;https&quot;).Parse(`
&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Https Test&lt;/title&gt;
  &lt;script src=&quot;/assets/app.js&quot;&gt;&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1 style=&quot;color:red;&quot;&gt;Welcome, Ginner!&lt;/h1&gt;
&lt;/body&gt;
&lt;/html&gt;
`))
r.GET(&quot;/&quot;, func(c *gin.Context) &#123;
  if pusher := c.Writer.Pusher(); pusher != nil &#123;
    // ä½¿ç”¨ pusher.Push() åšæœåŠ¡å™¨æ¨é€
    if err := pusher.Push(&quot;/assets/app.js&quot;, nil); err != nil &#123;
      log.Printf(&quot;Failed to push: %v&quot;, err)
    &#125;
  &#125;
  c.HTML(200, &quot;https&quot;, gin.H&#123;
    &quot;status&quot;: &quot;success&quot;,
  &#125;)
&#125;)
</code></pre>
<h2 id="JSONP"><a href="#JSONP" class="headerlink" title="JSONP"></a>JSONP</h2><p>ç”¨æ¥è§£å†³è·¨åŸŸé—®é¢˜:å¦‚æœæŸ¥è¯¢å‚æ•°å­˜åœ¨å›è°ƒï¼Œåˆ™å°†å›è°ƒæ·»åŠ åˆ°å“åº”ä½“ä¸­</p>
<pre><code class="go">data := map[string]interface&#123;&#125;&#123;
  &quot;foo&quot;: &quot;bar&quot;,
&#125;
// è¯·æ±‚ï¼š/JSONP?callback=x
// è¾“å‡ºdata:x(&#123;\&quot;foo\&quot;:\&quot;bar\&quot;&#125;)
c.JSONP(http.StatusOK, data)
</code></pre>
<h2 id="Multipart-x2F-Urlencoded-ç»‘å®š"><a href="#Multipart-x2F-Urlencoded-ç»‘å®š" class="headerlink" title="Multipart&#x2F;Urlencoded ç»‘å®š"></a>Multipart&#x2F;Urlencoded ç»‘å®š</h2><pre><code class="go">type LoginForm struct &#123;
    User     string `form:&quot;user&quot; binding:&quot;required&quot;`
    Password string `form:&quot;password&quot; binding:&quot;required&quot;`
&#125;
// æ˜¾å¼ç»‘å®šå£°æ˜ç»‘å®šmultipart formï¼š
c.ShouldBindWith(&amp;form, binding.Form)
// ä½¿ç”¨ShouldBind æ–¹æ³•è‡ªåŠ¨ç»‘å®š
var form LoginForm
if c.ShouldBind(&amp;form) == nil &#123;
  if form.User == &quot;user&quot; &amp;&amp; form.Password == &quot;password&quot; &#123;
    c.JSON(200, gin.H&#123;&quot;status&quot;: &quot;you are logged in&quot;&#125;)
  &#125; else &#123;
    c.JSON(401, gin.H&#123;&quot;status&quot;: &quot;unauthorized&quot;&#125;)
  &#125;
&#125;
// curlæµ‹è¯•
// curl -v --form user=user --form password=password http://localhost:8080/login
</code></pre>
<h2 id="Multipart-x2F-Urlencoded-è¡¨å•"><a href="#Multipart-x2F-Urlencoded-è¡¨å•" class="headerlink" title="Multipart&#x2F;Urlencoded è¡¨å•"></a>Multipart&#x2F;Urlencoded è¡¨å•</h2><pre><code class="go">    router.POST(&quot;/form_post&quot;, func(c *gin.Context) &#123;
        message := c.PostForm(&quot;message&quot;)
        nick := c.DefaultPostForm(&quot;nick&quot;, &quot;anonymous&quot;)
        c.JSON(200, gin.H&#123;
            &quot;status&quot;:  &quot;posted&quot;,
            &quot;message&quot;: message,
            &quot;nick&quot;:    nick,
        &#125;)
    &#125;)
</code></pre>
<h2 id="å¯¹ç‰¹æ®Š-HTML-å­—ç¬¦è¿›è¡Œç¼–ç â€”â€”PureJSON"><a href="#å¯¹ç‰¹æ®Š-HTML-å­—ç¬¦è¿›è¡Œç¼–ç â€”â€”PureJSON" class="headerlink" title="å¯¹ç‰¹æ®Š HTML å­—ç¬¦è¿›è¡Œç¼–ç â€”â€”PureJSON"></a>å¯¹ç‰¹æ®Š HTML å­—ç¬¦è¿›è¡Œç¼–ç â€”â€”PureJSON</h2><p>JSON ä½¿ç”¨ unicode æ›¿æ¢ç‰¹æ®Š HTML å­—ç¬¦ï¼Œä¾‹å¦‚ &lt; å˜ä¸º \ u003cã€‚å¦‚æœè¦æŒ‰å­—é¢å¯¹è¿™äº›å­—ç¬¦è¿›è¡Œç¼–ç ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ PureJSON</p>
<pre><code class="go">// æä¾› unicode å®ä½“
r.GET(&quot;/json&quot;, func(c *gin.Context) &#123;
  c.JSON(200, gin.H&#123;
    &quot;html&quot;: &quot;&lt;b&gt;Hello, world!&lt;/b&gt;&quot;,
  &#125;)
&#125;)
// æä¾›å­—é¢å­—ç¬¦
r.GET(&quot;/pureJson&quot;, func(c *gin.Context) &#123;
  c.PureJSON(200, gin.H&#123;
    &quot;html&quot;: &quot;&lt;b&gt;Hello, world!&lt;/b&gt;&quot;,
  &#125;)
&#125;)
</code></pre>
<h2 id="Query-å’Œ-post-form"><a href="#Query-å’Œ-post-form" class="headerlink" title="Query å’Œ post form"></a>Query å’Œ post form</h2><p>è¯·æ±‚å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>POST &#x2F;post?id&#x3D;1234&amp;page&#x3D;1 HTTP&#x2F;1.1<br>Content-Type: application&#x2F;x-www-form-urlencoded<br>name&#x3D;mau&amp;message&#x3D;this_is_great</p>
</blockquote>
<pre><code class="go">id := c.Query(&quot;id&quot;)
page := c.DefaultQuery(&quot;page&quot;, &quot;0&quot;)
name := c.PostForm(&quot;name&quot;)
message := c.PostForm(&quot;message&quot;)
fmt.Printf(&quot;id: %s; page: %s; name: %s; message: %s&quot;, id, page, name, message)
// ç»“æœï¼šid: 1234; page: 1; name: mau; message: this_is_great
</code></pre>
<h2 id="é˜²æ­¢-JSON-åŠ«æŒâ€”â€”SecureJSON"><a href="#é˜²æ­¢-JSON-åŠ«æŒâ€”â€”SecureJSON" class="headerlink" title="é˜²æ­¢ JSON åŠ«æŒâ€”â€”SecureJSON"></a>é˜²æ­¢ JSON åŠ«æŒâ€”â€”SecureJSON</h2><p>å¦‚æœç»™å®šçš„ç»“æ„æ˜¯æ•°ç»„å€¼ï¼Œåˆ™é»˜è®¤é¢„ç½® â€œwhile(1),â€ åˆ°å“åº”ä½“</p>
<pre><code class="go">names := []string&#123;&quot;lena&quot;, &quot;austin&quot;, &quot;foo&quot;&#125;
// è‡ªå®šä¹‰SecureJSON å‰ç¼€
r.SecureJsonPrefix(&quot;)]&#125;&#39;,\n&quot;)
// ç»“æœï¼šwhile(1);[&quot;lena&quot;,&quot;austin&quot;,&quot;foo&quot;]
c.SecureJSON(http.StatusOK, names)
</code></pre>
<h2 id="XML-x2F-JSON-x2F-YAML-x2F-ProtoBuf-æ¸²æŸ“"><a href="#XML-x2F-JSON-x2F-YAML-x2F-ProtoBuf-æ¸²æŸ“" class="headerlink" title="XML&#x2F;JSON&#x2F;YAML&#x2F;ProtoBuf æ¸²æŸ“"></a>XML&#x2F;JSON&#x2F;YAML&#x2F;ProtoBuf æ¸²æŸ“</h2><pre><code class="go">// JSON
r.GET(&quot;/someJSON&quot;, func(c *gin.Context) &#123;
  c.JSON(http.StatusOK, gin.H&#123;&quot;message&quot;: &quot;hey&quot;, &quot;status&quot;: http.StatusOK&#125;)
&#125;)
// JSON-ä½¿ç”¨ç»“æ„ä½“
r.GET(&quot;/moreJSON&quot;, func(c *gin.Context) &#123;
  // ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸€ä¸ªç»“æ„ä½“
  var msg struct &#123;
    Name    string `json:&quot;user&quot;`
    Message string
    Number  int
  &#125;
  msg.Name = &quot;Lena&quot;
  msg.Message = &quot;hey&quot;
  msg.Number = 123
  // è¾“å‡ºï¼š&#123;&quot;user&quot;: &quot;Lena&quot;, &quot;Message&quot;: &quot;hey&quot;, &quot;Number&quot;: 123&#125;
  c.JSON(http.StatusOK, msg)
&#125;)
// XML
r.GET(&quot;/someXML&quot;, func(c *gin.Context) &#123;
  c.XML(http.StatusOK, gin.H&#123;&quot;message&quot;: &quot;hey&quot;, &quot;status&quot;: http.StatusOK&#125;)
&#125;)
// Yaml
r.GET(&quot;/someYAML&quot;, func(c *gin.Context) &#123;
  c.YAML(http.StatusOK, gin.H&#123;&quot;message&quot;: &quot;hey&quot;, &quot;status&quot;: http.StatusOK&#125;)
&#125;)
// ProtoBuf
r.GET(&quot;/someProtoBuf&quot;, func(c *gin.Context) &#123;
  reps := []int64&#123;int64(1), int64(2)&#125;
  label := &quot;test&quot;
  // protobuf çš„å…·ä½“å®šä¹‰å†™åœ¨ testdata/protoexample æ–‡ä»¶ä¸­
  data := &amp;protoexample.Test&#123;
    Label: &amp;label,
    Reps:  reps,
  &#125;
  // æ•°æ®åœ¨å“åº”ä¸­å˜ä¸ºäºŒè¿›åˆ¶æ•°æ®
  // å°†è¾“å‡ºè¢« protoexample.Test protobuf åºåˆ—åŒ–äº†çš„æ•°æ®
  c.ProtoBuf(http.StatusOK, data)
&#125;)
</code></pre>
<h2 id="ä¸Šä¼ æ–‡ä»¶"><a href="#ä¸Šä¼ æ–‡ä»¶" class="headerlink" title="ä¸Šä¼ æ–‡ä»¶"></a>ä¸Šä¼ æ–‡ä»¶</h2><h3 id="å•æ–‡ä»¶"><a href="#å•æ–‡ä»¶" class="headerlink" title="å•æ–‡ä»¶"></a>å•æ–‡ä»¶</h3><pre><code class="go">// ä¸º multipart forms è®¾ç½®è¾ƒä½çš„å†…å­˜é™åˆ¶ (é»˜è®¤æ˜¯ 32 MiB)
router.MaxMultipartMemory = 8 &lt;&lt; 20  // 8 MiB,8å³ç§»20ä½
router.POST(&quot;/upload&quot;, func(c *gin.Context) &#123;
  // å•æ–‡ä»¶
  file, _ := c.FormFile(&quot;file&quot;)
  log.Println(file.Filename)
  dst := &quot;./&quot; + file.Filename
  // ä¸Šä¼ æ–‡ä»¶è‡³æŒ‡å®šçš„å®Œæ•´æ–‡ä»¶è·¯å¾„
  c.SaveUploadedFile(file, dst)
  c.String(http.StatusOK, fmt.Sprintf(&quot;&#39;%s&#39; uploaded!&quot;, file.Filename))
&#125;)
//curl -X POST http://localhost:8080/upload \
// -F &quot;file=@/Users/appleboy/test.zip&quot; \
// -H &quot;Content-Type: multipart/form-data&quot;
</code></pre>
<h3 id="å¤šæ–‡ä»¶"><a href="#å¤šæ–‡ä»¶" class="headerlink" title="å¤šæ–‡ä»¶"></a>å¤šæ–‡ä»¶</h3><pre><code class="go">router.POST(&quot;/upload&quot;, func(c *gin.Context) &#123;
  // Multipart form
  form, _ := c.MultipartForm()
  files := form.File[&quot;upload[]&quot;]
  for _, file := range files &#123;
    log.Println(file.Filename)
    // ä¸Šä¼ æ–‡ä»¶è‡³æŒ‡å®šç›®å½•
    c.SaveUploadedFile(file, dst)
  &#125;
  c.String(http.StatusOK, fmt.Sprintf(&quot;%d files uploaded!&quot;, len(files)))
&#125;)
// curl -X POST http://localhost:8080/upload \
//   -F &quot;upload[]=@/Users/appleboy/test1.zip&quot; \
//   -F &quot;upload[]=@/Users/appleboy/test2.zip&quot; \
//   -H &quot;Content-Type: multipart/form-data&quot;
</code></pre>
<h2 id="ä¸ä½¿ç”¨é»˜è®¤çš„ä¸­é—´ä»¶"><a href="#ä¸ä½¿ç”¨é»˜è®¤çš„ä¸­é—´ä»¶" class="headerlink" title="ä¸ä½¿ç”¨é»˜è®¤çš„ä¸­é—´ä»¶"></a>ä¸ä½¿ç”¨é»˜è®¤çš„ä¸­é—´ä»¶</h2><p>gin.Default()é»˜è®¤ä½¿ç”¨ Logger å’Œ Recovery ä¸­é—´ä»¶<br>gin.New()å¯ä»¥ç”¨äºä¸éœ€è¦ä½¿ç”¨é»˜è®¤çš„ä¸­é—´ä»¶çš„åœºæ™¯ä¸‹</p>
<h2 id="ä»-reader-è¯»å–æ•°æ®"><a href="#ä»-reader-è¯»å–æ•°æ®" class="headerlink" title="ä» reader è¯»å–æ•°æ®"></a>ä» reader è¯»å–æ•°æ®</h2><pre><code class="go">response, err := http.Get(&quot;https://raw.githubusercontent.com/gin-gonic/logo/master/color.png&quot;)
if err != nil || response.StatusCode != http.StatusOK &#123;
  c.Status(http.StatusServiceUnavailable)
  return
&#125;
reader := response.Body
contentLength := response.ContentLength
contentType := response.Header.Get(&quot;Content-Type&quot;)
extraHeaders := map[string]string&#123;
  &quot;Content-Disposition&quot;: `attachment; filename=&quot;gopher.png&quot;`,
&#125;
c.DataFromReader(http.StatusOK, contentLength, contentType, reader, extraHeaders)
</code></pre>
<h2 id="é‡å¯æˆ–åœæ­¢-web-æœåŠ¡å™¨"><a href="#é‡å¯æˆ–åœæ­¢-web-æœåŠ¡å™¨" class="headerlink" title="é‡å¯æˆ–åœæ­¢ web æœåŠ¡å™¨"></a>é‡å¯æˆ–åœæ­¢ web æœåŠ¡å™¨</h2><p>ä½¿ç”¨<code>fvbock/endless</code>ä»£æ›¿<code>ListenAndServe</code></p>
<pre><code class="go">router := gin.Default()
router.GET(&quot;/&quot;, handler)
// [...]
endless.ListenAndServe(&quot;:4242&quot;, router)
</code></pre>
<h2 id="ä½¿ç”¨-BasicAuth-ä¸­é—´ä»¶"><a href="#ä½¿ç”¨-BasicAuth-ä¸­é—´ä»¶" class="headerlink" title="ä½¿ç”¨ BasicAuth ä¸­é—´ä»¶"></a>ä½¿ç”¨ BasicAuth ä¸­é—´ä»¶</h2><p>gin.BasicAuth() ä¸­é—´ä»¶</p>
<pre><code class="go">var secrets = gin.H&#123;
    &quot;foo&quot;:    gin.H&#123;&quot;email&quot;: &quot;foo@bar.com&quot;, &quot;phone&quot;: &quot;123433&quot;&#125;,
    &quot;austin&quot;: gin.H&#123;&quot;email&quot;: &quot;austin@example.com&quot;, &quot;phone&quot;: &quot;666&quot;&#125;,
    &quot;lena&quot;:   gin.H&#123;&quot;email&quot;: &quot;lena@guapa.com&quot;, &quot;phone&quot;: &quot;523443&quot;&#125;,
&#125;
authorized := r.Group(&quot;/admin&quot;, gin.BasicAuth(gin.Accounts&#123;
 &quot;foo&quot;:    &quot;bar&quot;,
 &quot;austin&quot;: &quot;1234&quot;,
 &quot;lena&quot;:   &quot;hello2&quot;,
 &quot;manu&quot;:   &quot;4321&quot;,
&#125;))

// /admin/secrets ç«¯ç‚¹
// è§¦å‘ &quot;localhost:8080/admin/secrets
authorized.GET(&quot;/secrets&quot;, func(c *gin.Context) &#123;
  // è·å–ç”¨æˆ·ï¼Œå®ƒæ˜¯ç”± BasicAuth ä¸­é—´ä»¶è®¾ç½®çš„
  user := c.MustGet(gin.AuthUserKey).(string)
  if secret, ok := secrets[user]; ok &#123;
    c.JSON(http.StatusOK, gin.H&#123;&quot;user&quot;: user, &quot;secret&quot;: secret&#125;)
  &#125; else &#123;
    c.JSON(http.StatusOK, gin.H&#123;&quot;user&quot;: user, &quot;secret&quot;: &quot;NO SECRET :(&quot;&#125;)
  &#125;
&#125;)
</code></pre>
<h2 id="ä½¿ç”¨-http-æ–¹æ³•"><a href="#ä½¿ç”¨-http-æ–¹æ³•" class="headerlink" title="ä½¿ç”¨ http æ–¹æ³•"></a>ä½¿ç”¨ http æ–¹æ³•</h2><pre><code class="go">    // ä½¿ç”¨é»˜è®¤ä¸­é—´ä»¶ï¼ˆlogger å’Œ recovery ä¸­é—´ä»¶ï¼‰åˆ›å»º gin è·¯ç”±
    router := gin.Default()
    router.GET(&quot;/someGet&quot;, getting)
    router.POST(&quot;/somePost&quot;, posting)
    router.PUT(&quot;/somePut&quot;, putting)
    router.DELETE(&quot;/someDelete&quot;, deleting)
    router.PATCH(&quot;/somePatch&quot;, patching)
    router.HEAD(&quot;/someHead&quot;, head)
    router.OPTIONS(&quot;/someOptions&quot;, options)
    // é»˜è®¤åœ¨ 8080 ç«¯å£å¯åŠ¨æœåŠ¡ï¼Œé™¤éå®šä¹‰äº†ä¸€ä¸ª PORT çš„ç¯å¢ƒå˜é‡ã€‚
    router.Run()
</code></pre>
<h2 id="ä½¿ç”¨ä¸­é—´ä»¶"><a href="#ä½¿ç”¨ä¸­é—´ä»¶" class="headerlink" title="ä½¿ç”¨ä¸­é—´ä»¶"></a>ä½¿ç”¨ä¸­é—´ä»¶</h2><pre><code class="go">// Logger ä¸­é—´ä»¶å°†æ—¥å¿—å†™å…¥ gin.DefaultWriterï¼Œ
r.Use(gin.Logger())
// Recovery ä¸­é—´ä»¶ä¼š recover ä»»ä½• panicã€‚å¦‚æœæœ‰ panic çš„è¯ï¼Œä¼šå†™å…¥ 500ã€‚
r.Use(gin.Recovery())
// å¯ä»¥ä¸ºæ¯ä¸ªè·¯ç”±æ·»åŠ ä»»æ„æ•°é‡çš„ä¸­é—´ä»¶ã€‚
r.GET(&quot;/benchmark&quot;, MyBenchLogger(), benchEndpoint)
</code></pre>
<h3 id="è·¯ç”±ç»„"><a href="#è·¯ç”±ç»„" class="headerlink" title="è·¯ç”±ç»„"></a>è·¯ç”±ç»„</h3><pre><code class="go">authorized := r.Group(&quot;/&quot;, AuthRequired())
&#123;
  authorized.POST(&quot;/login&quot;, loginEndpoint)
  authorized.POST(&quot;/submit&quot;, submitEndpoint)
  authorized.POST(&quot;/read&quot;, readEndpoint)
  // åµŒå¥—è·¯ç”±ç»„
  testing := authorized.Group(&quot;testing&quot;)
  testing.GET(&quot;/analytics&quot;, analyticsEndpoint)
&#125;
</code></pre>
<p>åŒä¸‹é¢çš„å®Œå…¨ä¸€æ ·</p>
<pre><code class="go">authorized := r.Group(&quot;/&quot;)
authorized.Use(AuthRequired())
&#123;
  authorized.POST(&quot;/login&quot;, loginEndpoint)
  authorized.POST(&quot;/submit&quot;, submitEndpoint)
  authorized.POST(&quot;/read&quot;, readEndpoint)
&#125;
</code></pre>
<h2 id="åªç»‘å®š-url-æŸ¥è¯¢å­—ç¬¦ä¸²"><a href="#åªç»‘å®š-url-æŸ¥è¯¢å­—ç¬¦ä¸²" class="headerlink" title="åªç»‘å®š url æŸ¥è¯¢å­—ç¬¦ä¸²"></a>åªç»‘å®š url æŸ¥è¯¢å­—ç¬¦ä¸²</h2><p>åªç»‘å®š url æŸ¥è¯¢å‚æ•°ï¼Œè€Œå¿½ç•¥ post å‚æ•°ï¼š<code>ShouldBindQuery</code></p>
<pre><code class="go">type Person struct &#123;
    Name    string `form:&quot;name&quot;`
    Address string `form:&quot;address&quot;`
&#125;
route.PUT(&quot;/testing&quot;, startPage)
func startPage(c *gin.Context) &#123;
    var person Person
    if c.ShouldBindQuery(&amp;person) == nil &#123;
        log.Println(&quot;====== Only Bind By Query String ======&quot;)
        log.Println(person.Name)
        log.Println(person.Address)
    &#125;
    c.String(200, &quot;Success&quot;)
&#125;
</code></pre>
<h2 id="åœ¨ä¸­é—´ä»¶ä½¿ç”¨-go-routine"><a href="#åœ¨ä¸­é—´ä»¶ä½¿ç”¨-go-routine" class="headerlink" title="åœ¨ä¸­é—´ä»¶ä½¿ç”¨ go routine"></a>åœ¨ä¸­é—´ä»¶ä½¿ç”¨ go routine</h2><p>å½“åœ¨ä¸­é—´ä»¶æˆ– handler ä¸­å¯åŠ¨æ–°çš„ Goroutine æ—¶ï¼Œä¸èƒ½ä½¿ç”¨åŸå§‹çš„ä¸Šä¸‹æ–‡ï¼Œå¿…é¡»ä½¿ç”¨åªè¯»å‰¯æœ¬ã€‚</p>
<pre><code class="go">r.GET(&quot;/long_async&quot;, func(c *gin.Context) &#123;
  // åˆ›å»ºåœ¨ goroutine ä¸­ä½¿ç”¨çš„å‰¯æœ¬
  cCp := c.Copy()
  go func() &#123;
    // ç”¨ time.Sleep() æ¨¡æ‹Ÿä¸€ä¸ªé•¿ä»»åŠ¡ã€‚
    time.Sleep(5 * time.Second)
    // ä½¿ç”¨çš„æ˜¯å¤åˆ¶çš„ä¸Šä¸‹æ–‡ &quot;cCp&quot;ï¼Œè¿™ä¸€ç‚¹å¾ˆé‡è¦
    log.Println(&quot;Done! in path &quot; + cCp.Request.URL.Path)
  &#125;()
&#125;)
r.GET(&quot;/long_sync&quot;, func(c *gin.Context) &#123;
  // ç”¨ time.Sleep() æ¨¡æ‹Ÿä¸€ä¸ªé•¿ä»»åŠ¡ã€‚
  time.Sleep(5 * time.Second)
  // å› ä¸ºæ²¡æœ‰ä½¿ç”¨ goroutineï¼Œä¸éœ€è¦ä½¿ç”¨ä¸Šä¸‹æ–‡å‰¯æœ¬
  log.Println(&quot;Done! in path &quot; + c.Request.URL.Path)
&#125;)
</code></pre>
<h2 id="è®°å½•æ—¥å¿—"><a href="#è®°å½•æ—¥å¿—" class="headerlink" title="è®°å½•æ—¥å¿—"></a>è®°å½•æ—¥å¿—</h2><pre><code class="go">// åªå°†æ—¥å¿—å†™å…¥æ–‡ä»¶
f, _ := os.Create(&quot;gin.log&quot;)
gin.DefaultWriter = io.MultiWriter(f)
// éœ€è¦åŒæ—¶å°†æ—¥å¿—å†™å…¥æ–‡ä»¶å’Œæ§åˆ¶å°
gin.DefaultWriter = io.MultiWriter(f, os.Stdout)
</code></pre>
<h2 id="å®šä¹‰è·¯ç”±æ—¥å¿—çš„æ ¼å¼"><a href="#å®šä¹‰è·¯ç”±æ—¥å¿—çš„æ ¼å¼" class="headerlink" title="å®šä¹‰è·¯ç”±æ—¥å¿—çš„æ ¼å¼"></a>å®šä¹‰è·¯ç”±æ—¥å¿—çš„æ ¼å¼</h2><p>é»˜è®¤çš„è·¯ç”±æ—¥å¿—æ ¼å¼</p>
<pre><code class="bash">[GIN-debug] POST   /foo                      --&gt; main.main.func1 (3 handlers)
[GIN-debug] GET    /bar                      --&gt; main.main.func2 (3 handlers)
[GIN-debug] GET    /status                   --&gt; main.main.func3 (3 handlers)
</code></pre>
<p>è‡ªå®šä¹‰æ—¥å¿—æ ¼å¼ï¼šJSONï¼Œkey-value ç­‰-&gt;<code>gin.DebugPrintRouteFunc</code></p>
<pre><code class="go">gin.DebugPrintRouteFunc = func(httpMethod, absolutePath, handlerName string, nuHandlers int) &#123;
  log.Printf(&quot;endpoint %v %v %v %v\n&quot;, httpMethod, absolutePath, handlerName, nuHandlers)
&#125;
</code></pre>
<h2 id="å°†-request-body-ç»‘å®šåˆ°ä¸åŒçš„ç»“æ„ä½“ä¸­"><a href="#å°†-request-body-ç»‘å®šåˆ°ä¸åŒçš„ç»“æ„ä½“ä¸­" class="headerlink" title="å°† request body ç»‘å®šåˆ°ä¸åŒçš„ç»“æ„ä½“ä¸­"></a>å°† request body ç»‘å®šåˆ°ä¸åŒçš„ç»“æ„ä½“ä¸­</h2><p><code>c.ShouldBind</code>é€šè¿‡<code>c.Request.Body</code>ç»‘å®šæ•°æ®ï¼Œä½†æ˜¯åœ¨éƒ¨åˆ†æ ¼å¼ä¸èƒ½å¤šæ¬¡è°ƒç”¨ï¼š</p>
<ul>
<li>JSON</li>
<li>XML</li>
<li>MsgPack</li>
<li>ProtoBuf<br>å¦‚æœéœ€è¦å¤šæ¬¡ç»‘å®šåˆ°ä¸åŒç»“æ„ä½“,éœ€è¦ä½¿ç”¨<code>c.ShouldBindBodyWith</code><br>å¯ä»¥å¤šæ¬¡è°ƒç”¨<code>c.ShouldBind</code>çš„æ ¼å¼ï¼š</li>
<li>Query</li>
<li>Form</li>
<li>FormPost</li>
<li>FormMultipart</li>
</ul>
<pre><code class="go">type formA struct &#123;
  Foo string `json:&quot;foo&quot; xml:&quot;foo&quot; binding:&quot;required&quot;`
&#125;
type formB struct &#123;
  Bar string `json:&quot;bar&quot; xml:&quot;bar&quot; binding:&quot;required&quot;`
&#125;
func SomeHandler(c *gin.Context) &#123;
  objA := formA&#123;&#125;
  objB := formB&#123;&#125;
  // c.ShouldBind ä½¿ç”¨äº† c.Request.Bodyï¼Œä¸å¯é‡ç”¨ã€‚
  if errA := c.ShouldBind(&amp;objA); errA == nil &#123;
    c.String(http.StatusOK, `the body should be formA`)
  // å› ä¸ºç°åœ¨ c.Request.Body æ˜¯ EOFï¼Œæ‰€ä»¥è¿™é‡Œä¼šæŠ¥é”™ã€‚
  &#125; else if errB := c.ShouldBind(&amp;objB); errB == nil &#123;
    c.String(http.StatusOK, `the body should be formB`)
  &#125;
&#125;
// è¯»å– c.Request.Body å¹¶å°†ç»“æœå­˜å…¥ä¸Šä¸‹æ–‡ã€‚
if errA := c.ShouldBindBodyWith(&amp;objA, binding.JSON); errA == nil &#123;
  c.String(http.StatusOK, `the body should be formA`)
// è¿™æ—¶, å¤ç”¨å­˜å‚¨åœ¨ä¸Šä¸‹æ–‡ä¸­çš„ bodyã€‚
&#125; else if errB := c.ShouldBindBodyWith(&amp;objB, binding.JSON); errB == nil &#123;
  c.String(http.StatusOK, `the body should be formB JSON`)
// å¯ä»¥æ¥å—å…¶ä»–æ ¼å¼
&#125; else if errB2 := c.ShouldBindBodyWith(&amp;objB, binding.XML); errB2 == nil &#123;
  c.String(http.StatusOK, `the body should be formB XML`)
&#125;
</code></pre>
<h2 id="æ§åˆ¶æ—¥å¿—è¾“å‡ºé¢œè‰²"><a href="#æ§åˆ¶æ—¥å¿—è¾“å‡ºé¢œè‰²" class="headerlink" title="æ§åˆ¶æ—¥å¿—è¾“å‡ºé¢œè‰²"></a>æ§åˆ¶æ—¥å¿—è¾“å‡ºé¢œè‰²</h2><p>è¾“å‡ºåˆ°æ§åˆ¶å°çš„æ—¥å¿—é»˜è®¤æ˜¯æœ‰é¢œè‰²çš„</p>
<pre><code class="go">// ç¦æ­¢æ—¥å¿—çš„é¢œè‰²
gin.DisableConsoleColor()
// å¼ºåˆ¶æ—¥å¿—é¢œè‰²åŒ–
gin.ForceConsoleColor()
</code></pre>
<h2 id="æ˜ å°„æŸ¥è¯¢å­—ç¬¦ä¸²æˆ–è¡¨å•å‚æ•°"><a href="#æ˜ å°„æŸ¥è¯¢å­—ç¬¦ä¸²æˆ–è¡¨å•å‚æ•°" class="headerlink" title="æ˜ å°„æŸ¥è¯¢å­—ç¬¦ä¸²æˆ–è¡¨å•å‚æ•°"></a>æ˜ å°„æŸ¥è¯¢å­—ç¬¦ä¸²æˆ–è¡¨å•å‚æ•°</h2><pre><code class="bash">POST /post?ids[a]=1234&amp;ids[b]=hello HTTP/1.1
Content-Type: application/x-www-form-urlencoded

names[first]=thinkerou&amp;names[second]=tianou
</code></pre>
<pre><code class="go">ids := c.QueryMap(&quot;ids&quot;)
names := c.PostFormMap(&quot;names&quot;)
fmt.Printf(&quot;ids: %v; names: %v&quot;, ids, names)

// queryå‚æ•°â€”â€”ids: map[b:hello a:1234],
// è¡¨å•å‚æ•°â€”â€”names: map[second:tianou first:thinkerou]
</code></pre>
<h2 id="æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°"><a href="#æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°" class="headerlink" title="æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°"></a>æŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°</h2><p>&#x2F;&#x2F; ä½¿ç”¨ç°æœ‰çš„åŸºç¡€è¯·æ±‚å¯¹è±¡è§£ææŸ¥è¯¢å­—ç¬¦ä¸²å‚æ•°ã€‚<br>ç¤ºä¾‹ URLï¼š &#x2F;welcome?firstname&#x3D;Jane&amp;lastname&#x3D;Doe</p>
<pre><code class="go">router.GET(&quot;/welcome&quot;, func(c *gin.Context) &#123;
  firstname := c.DefaultQuery(&quot;firstname&quot;, &quot;Guest&quot;)
  lastname := c.Query(&quot;lastname&quot;) // c.Request.URL.Query().Get(&quot;lastname&quot;) çš„ä¸€ç§å¿«æ·æ–¹å¼

  c.String(http.StatusOK, &quot;Hello %s %s&quot;, firstname, lastname)
&#125;)
</code></pre>
<h2 id="model-binding-ç»‘å®šå’ŒéªŒè¯"><a href="#model-binding-ç»‘å®šå’ŒéªŒè¯" class="headerlink" title="model binding ç»‘å®šå’ŒéªŒè¯"></a>model binding ç»‘å®šå’ŒéªŒè¯</h2><p>åœ¨ç»‘å®šçš„æ‰€æœ‰å­—æ®µä¸Šï¼Œè®¾ç½®ç›¸åº”çš„ tagï¼Œæ¯”å¦‚ä½¿ç”¨ json ç»‘å®šçš„æ—¶å€™ï¼Œè®¾ç½®å­—æ®µæ ‡ç­¾ä¸º <code>json:&quot;filename&quot;</code><br>æ–¹æ³•ï¼šShouldBind, ShouldBindJSON, ShouldBindXML, ShouldBindQuery, ShouldBindYAML<br>è¡Œä¸ºï¼š å¦‚æœå‘ç”Ÿç»‘å®šé”™è¯¯ï¼ŒGin ä¼šè¿”å›é”™è¯¯å¹¶ç”±å¼€å‘è€…å¤„ç†é”™è¯¯å’Œè¯·æ±‚ã€‚</p>
<pre><code class="go">type Login struct &#123;
    User     string `form:&quot;user&quot; json:&quot;user&quot; xml:&quot;user&quot;  binding:&quot;required&quot;`
    Password string `form:&quot;password&quot; json:&quot;password&quot; xml:&quot;password&quot; binding:&quot;required&quot;`
&#125;
// ç»‘å®š JSON (&#123;&quot;user&quot;: &quot;manu&quot;, &quot;password&quot;: &quot;123&quot;&#125;)
router.POST(&quot;/loginJSON&quot;, func(c *gin.Context) &#123;
  var json Login
  if err := c.ShouldBindJSON(&amp;json); err != nil &#123;
    c.JSON(http.StatusBadRequest, gin.H&#123;&quot;error&quot;: err.Error()&#125;)
    return
  &#125;

  if json.User != &quot;manu&quot; || json.Password != &quot;123&quot; &#123;
    c.JSON(http.StatusUnauthorized, gin.H&#123;&quot;status&quot;: &quot;unauthorized&quot;&#125;)
    return
  &#125;

  c.JSON(http.StatusOK, gin.H&#123;&quot;status&quot;: &quot;you are logged in&quot;&#125;)
&#125;)
// ç»‘å®šXML
//	&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
//	&lt;root&gt;
//		&lt;user&gt;manu&lt;/user&gt;
//		&lt;password&gt;123&lt;/password&gt;
//	&lt;/root&gt;)
router.POST(&quot;/loginXML&quot;, func(c *gin.Context) &#123;
  var xml Login
  if err := c.ShouldBindXML(&amp;xml); err != nil &#123;
    c.JSON(http.StatusBadRequest, gin.H&#123;&quot;error&quot;: err.Error()&#125;)
    return
  &#125;

  if xml.User != &quot;manu&quot; || xml.Password != &quot;123&quot; &#123;
    c.JSON(http.StatusUnauthorized, gin.H&#123;&quot;status&quot;: &quot;unauthorized&quot;&#125;)
    return
  &#125;

  c.JSON(http.StatusOK, gin.H&#123;&quot;status&quot;: &quot;you are logged in&quot;&#125;)
&#125;)
// ç»‘å®š HTML è¡¨å• (user=manu&amp;password=123)
router.POST(&quot;/loginForm&quot;, func(c *gin.Context) &#123;
  var form Login
  // æ ¹æ® Content-Type Header æ¨æ–­ä½¿ç”¨å“ªä¸ªç»‘å®šå™¨ã€‚
  if err := c.ShouldBind(&amp;form); err != nil &#123;
    c.JSON(http.StatusBadRequest, gin.H&#123;&quot;error&quot;: err.Error()&#125;)
    return
  &#125;
  if form.User != &quot;manu&quot; || form.Password != &quot;123&quot; &#123;
    c.JSON(http.StatusUnauthorized, gin.H&#123;&quot;status&quot;: &quot;unauthorized&quot;&#125;)
    return
  &#125;
  c.JSON(http.StatusOK, gin.H&#123;&quot;status&quot;: &quot;you are logged in&quot;&#125;)
&#125;)
</code></pre>
<h2 id="ç»‘å®š-uri"><a href="#ç»‘å®š-uri" class="headerlink" title="ç»‘å®š uri"></a>ç»‘å®š uri</h2><pre><code class="go">type Person struct &#123;
    ID   string `uri:&quot;id&quot; binding:&quot;required,uuid&quot;`
    Name string `uri:&quot;name&quot; binding:&quot;required&quot;`
&#125;
route.GET(&quot;/:name/:id&quot;, func(c *gin.Context) &#123;
  var person Person
  if err := c.ShouldBindUri(&amp;person); err != nil &#123;
    c.JSON(400, gin.H&#123;&quot;msg&quot;: err.Error()&#125;)
    return
  &#125;
  c.JSON(200, gin.H&#123;&quot;name&quot;: person.Name, &quot;uuid&quot;: person.ID&#125;)
&#125;)
</code></pre>
<h2 id="ç»‘å®šæŸ¥è¯¢å­—ç¬¦ä¸²æˆ–è€…è¡¨å•æ•°æ®"><a href="#ç»‘å®šæŸ¥è¯¢å­—ç¬¦ä¸²æˆ–è€…è¡¨å•æ•°æ®" class="headerlink" title="ç»‘å®šæŸ¥è¯¢å­—ç¬¦ä¸²æˆ–è€…è¡¨å•æ•°æ®"></a>ç»‘å®šæŸ¥è¯¢å­—ç¬¦ä¸²æˆ–è€…è¡¨å•æ•°æ®</h2><pre><code class="go">
type Person struct &#123;
    Name     string    `form:&quot;name&quot;`
    Address  string    `form:&quot;address&quot;`
    Birthday time.Time `form:&quot;birthday&quot; time_format:&quot;2006-01-02&quot; time_utc:&quot;1&quot;`
&#125;
route.GET(&quot;/testing&quot;, startPage)
func startPage(c *gin.Context) &#123;
    var person Person
    // å¦‚æœæ˜¯ `GET` è¯·æ±‚ï¼Œåªä½¿ç”¨ `Form` ç»‘å®šå¼•æ“ï¼ˆ`query`ï¼‰ã€‚
    // å¦‚æœæ˜¯ `POST` è¯·æ±‚ï¼Œé¦–å…ˆæ£€æŸ¥ `content-type` æ˜¯å¦ä¸º `JSON` æˆ– `XML`ï¼Œç„¶åå†ä½¿ç”¨ `Form`ï¼ˆ`form-data`ï¼‰ã€‚
    // æŸ¥çœ‹æ›´å¤šï¼šhttps://github.com/gin-gonic/gin/blob/master/binding/binding.go#L88
    if c.ShouldBind(&amp;person) == nil &#123;
        log.Println(person.Name)
        log.Println(person.Address)
        log.Println(person.Birthday)
    &#125;

    c.String(200, &quot;Success&quot;)
&#125;
</code></pre>
<h2 id="ç»‘å®šè¡¨å•æ•°æ®åˆ°è‡ªå®šä¹‰-struct"><a href="#ç»‘å®šè¡¨å•æ•°æ®åˆ°è‡ªå®šä¹‰-struct" class="headerlink" title="ç»‘å®šè¡¨å•æ•°æ®åˆ°è‡ªå®šä¹‰ struct"></a>ç»‘å®šè¡¨å•æ•°æ®åˆ°è‡ªå®šä¹‰ struct</h2><p>ä¸æ”¯æŒåµŒå¥—çš„ struct</p>
<pre><code class="go">type StructA struct &#123;
    FieldA string `form:&quot;field_a&quot;`
&#125;

type StructB struct &#123;
    NestedStruct StructA
    FieldB string `form:&quot;field_b&quot;`
&#125;
func GetDataB(c *gin.Context) &#123;
  var b StructB
  c.Bind(&amp;b)
  c.JSON(200, gin.H&#123;
      &quot;a&quot;: b.NestedStruct,
      &quot;b&quot;: b.FieldB,
  &#125;)
&#125;
</code></pre>
<h2 id="è‡ªå®šä¹‰-http-é…ç½®"><a href="#è‡ªå®šä¹‰-http-é…ç½®" class="headerlink" title="è‡ªå®šä¹‰ http é…ç½®"></a>è‡ªå®šä¹‰ http é…ç½®</h2><pre><code class="go">http.ListenAndServe(&quot;:8080&quot;, router)
// è‡ªå®šä¹‰
s := &amp;http.Server&#123;
  Addr:           &quot;:8080&quot;,
  Handler:        router,
  ReadTimeout:    10 * time.Second,
  WriteTimeout:   10 * time.Second,
  MaxHeaderBytes: 1 &lt;&lt; 20,
&#125;
s.ListenAndServe()
</code></pre>
<h2 id="è‡ªå®šä¹‰ä¸­é—´ä»¶"><a href="#è‡ªå®šä¹‰ä¸­é—´ä»¶" class="headerlink" title="è‡ªå®šä¹‰ä¸­é—´ä»¶"></a>è‡ªå®šä¹‰ä¸­é—´ä»¶</h2><pre><code class="go">func Logger() gin.HandlerFunc &#123;
    return func(c *gin.Context) &#123;
        t := time.Now()

        // è®¾ç½® example å˜é‡
        c.Set(&quot;example&quot;, &quot;12345&quot;)

        // è¯·æ±‚å‰

        c.Next()

        // è¯·æ±‚å
        latency := time.Since(t)
        log.Print(latency)

        // è·å–å‘é€çš„ status
        status := c.Writer.Status()
        log.Println(status)
    &#125;
&#125;
//
r := gin.New()
r.Use(Logger())

r.GET(&quot;/test&quot;, func(c *gin.Context) &#123;
  example := c.MustGet(&quot;example&quot;).(string)
  // æ‰“å°ï¼š&quot;12345&quot;
  log.Println(example)
&#125;)
</code></pre>
<h2 id="è‡ªå®šä¹‰éªŒè¯"><a href="#è‡ªå®šä¹‰éªŒè¯" class="headerlink" title="è‡ªå®šä¹‰éªŒè¯"></a>è‡ªå®šä¹‰éªŒè¯</h2><pre><code class="go">type Booking struct &#123;
    CheckIn  time.Time `form:&quot;check_in&quot; binding:&quot;required,bookabledate&quot; time_format:&quot;2006-01-02&quot;`
    CheckOut time.Time `form:&quot;check_out&quot; binding:&quot;required,gtfield=CheckIn,bookabledate&quot; time_format:&quot;2006-01-02&quot;`
&#125;
var bookableDate validator.Func = func(fl validator.FieldLevel) bool &#123;
    date, ok := fl.Field().Interface().(time.Time)
    if ok &#123;
        today := time.Now()
        if today.After(date) &#123;
            return false
        &#125;
    &#125;
    return true
&#125;
    if v, ok := binding.Validator.Engine().(*validator.Validate); ok &#123;
        v.RegisterValidation(&quot;bookabledate&quot;, bookableDate)
    &#125;
</code></pre>
<h2 id="è®¾ç½®-x2F-è·å–-cookie"><a href="#è®¾ç½®-x2F-è·å–-cookie" class="headerlink" title="è®¾ç½®&#x2F;è·å– cookie"></a>è®¾ç½®&#x2F;è·å– cookie</h2><p>è·å–:<code>cookie, err := c.Cookie(&quot;gin_cookie&quot;)</code><br>è®¾ç½®:<code>c.SetCookie(&quot;gin_cookie&quot;, &quot;test&quot;, 3600, &quot;/&quot;, &quot;localhost&quot;, false, true)</code></p>
<h2 id="è·¯ç”±å‚æ•°"><a href="#è·¯ç”±å‚æ•°" class="headerlink" title="è·¯ç”±å‚æ•°"></a>è·¯ç”±å‚æ•°</h2><p>åŒ¹é… &#x2F;user&#x2F;john ä½†ä¸ä¼šåŒ¹é… &#x2F;user&#x2F; æˆ–è€… &#x2F;user:</p>
<pre><code class="go">router.GET(&quot;/user/:name&quot;, func(c *gin.Context) &#123;
  name := c.Param(&quot;name&quot;)
  c.String(http.StatusOK, &quot;Hello %s&quot;, name)
&#125;)
</code></pre>
<p>åŒ¹é… &#x2F;user&#x2F;john&#x2F; å’Œ &#x2F;user&#x2F;john&#x2F;send:</p>
<pre><code class="go">//  å¦‚æœæ²¡æœ‰å…¶ä»–è·¯ç”±åŒ¹é… /user/johnï¼Œå®ƒå°†é‡å®šå‘åˆ° /user/john/
router.GET(&quot;/user/:name/*action&quot;, func(c *gin.Context) &#123;
  name := c.Param(&quot;name&quot;)
  action := c.Param(&quot;action&quot;)
  message := name + &quot; is &quot; + action
  c.String(http.StatusOK, message)
&#125;)
</code></pre>
<h2 id="è·¯ç”±ç»„-1"><a href="#è·¯ç”±ç»„-1" class="headerlink" title="è·¯ç”±ç»„"></a>è·¯ç”±ç»„</h2><pre><code class="go">v1 := router.Group(&quot;/v1&quot;)
&#123;
  v1.POST(&quot;/login&quot;, loginEndpoint)
  v1.POST(&quot;/submit&quot;, submitEndpoint)
  v1.POST(&quot;/read&quot;, readEndpoint)
&#125;
</code></pre>
<h2 id="è¿è¡Œå¤šä¸ªæœåŠ¡"><a href="#è¿è¡Œå¤šä¸ªæœåŠ¡" class="headerlink" title="è¿è¡Œå¤šä¸ªæœåŠ¡"></a>è¿è¡Œå¤šä¸ªæœåŠ¡</h2><p>GO </p>
<pre><code class="go">var (
    g errgroup.Group
)

func router01() http.Handler &#123;
    e := gin.New()
    e.Use(gin.Recovery())
    e.GET(&quot;/&quot;, func(c *gin.Context) &#123;
        c.JSON(
            http.StatusOK,
            gin.H&#123;
                &quot;code&quot;:  http.StatusOK,
                &quot;error&quot;: &quot;Welcome server 01&quot;,
            &#125;,
        )
    &#125;)
    return e
&#125;
func router02() http.Handler &#123;
    e := gin.New()
    e.Use(gin.Recovery())
    e.GET(&quot;/&quot;, func(c *gin.Context) &#123;
        c.JSON(
            http.StatusOK,
            gin.H&#123;
                &quot;code&quot;:  http.StatusOK,
                &quot;error&quot;: &quot;Welcome server 02&quot;,
            &#125;,
        )
    &#125;)

    return e
&#125;

server01 := &amp;http.Server&#123;
  Addr:         &quot;:8080&quot;,
  Handler:      router01(),
  ReadTimeout:  5 * time.Second,
  WriteTimeout: 10 * time.Second,
&#125;

server02 := &amp;http.Server&#123;
  Addr:         &quot;:8081&quot;,
  Handler:      router02(),
  ReadTimeout:  5 * time.Second,
  WriteTimeout: 10 * time.Second,
&#125;

g.Go(func() error &#123;
  return server01.ListenAndServe()
&#125;)

g.Go(func() error &#123;
  return server02.ListenAndServe()
&#125;)

if err := g.Wait(); err != nil &#123;
  log.Fatal(err)
&#125;
</code></pre>
<h2 id="é‡å®šå‘"><a href="#é‡å®šå‘" class="headerlink" title="é‡å®šå‘"></a>é‡å®šå‘</h2><h3 id="geté‡å®šå‘"><a href="#geté‡å®šå‘" class="headerlink" title="geté‡å®šå‘"></a>geté‡å®šå‘</h3><pre><code class="go">r.GET(&quot;/test&quot;, func(c *gin.Context) &#123;
    c.Redirect(http.StatusMovedPermanently, &quot;http://www.google.com/&quot;)
&#125;)
</code></pre>
<h3 id="post-é‡å®šå‘"><a href="#post-é‡å®šå‘" class="headerlink" title="post é‡å®šå‘"></a>post é‡å®šå‘</h3><pre><code class="go">r.POST(&quot;/test&quot;, func(c *gin.Context) &#123;
    c.Redirect(http.StatusFound, &quot;/foo&quot;)
&#125;)
</code></pre>
<h3 id="è·¯ç”±é‡å®šå‘"><a href="#è·¯ç”±é‡å®šå‘" class="headerlink" title="è·¯ç”±é‡å®šå‘"></a>è·¯ç”±é‡å®šå‘</h3><p>ä½¿ç”¨<code>HandleContext</code></p>
<pre><code class="go">r.GET(&quot;/test&quot;, func(c *gin.Context) &#123;
    c.Request.URL.Path = &quot;/test2&quot;
    r.HandleContext(c)
&#125;)
r.GET(&quot;/test2&quot;, func(c *gin.Context) &#123;
    c.JSON(200, gin.H&#123;&quot;hello&quot;: &quot;world&quot;&#125;)
&#125;)
</code></pre>
<h2 id="é™æ€æ–‡ä»¶"><a href="#é™æ€æ–‡ä»¶" class="headerlink" title="é™æ€æ–‡ä»¶"></a>é™æ€æ–‡ä»¶</h2><pre><code class="go">router.Static(&quot;/assets&quot;, &quot;./assets&quot;)
router.StaticFS(&quot;/more_static&quot;, http.Dir(&quot;my_file_system&quot;))
router.StaticFile(&quot;/favicon.ico&quot;, &quot;./resources/favicon.ico&quot;)
</code></pre>
<h2 id="é™æ€èµ„æºåµŒå…¥"><a href="#é™æ€èµ„æºåµŒå…¥" class="headerlink" title="é™æ€èµ„æºåµŒå…¥"></a>é™æ€èµ„æºåµŒå…¥</h2><pre><code class="go">// loadTemplate åŠ è½½ç”± go-assets-builder åµŒå…¥çš„æ¨¡æ¿
func loadTemplate() (*template.Template, error) &#123;
    t := template.New(&quot;&quot;)
    for name, file := range Assets.Files &#123;
        if file.IsDir() || !strings.HasSuffix(name, &quot;.tmpl&quot;) &#123;
            continue
        &#125;
        h, err := ioutil.ReadAll(file)
        if err != nil &#123;
            return nil, err
        &#125;
        t, err = t.New(name).Parse(string(h))
        if err != nil &#123;
            return nil, err
        &#125;
    &#125;
    return t, nil
&#125;
t, err := loadTemplate()
if err != nil &#123;
  panic(err)
&#125;
r.SetHTMLTemplate(t)

r.GET(&quot;/&quot;, func(c *gin.Context) &#123;
  c.HTML(http.StatusOK, &quot;/html/index.tmpl&quot;, nil)
&#125;)
</code></pre>

    </div>

    <div class="post-meta">
        <i>
        
            <span>2023-03-23</span>
            
                <span>è¯¥ç¯‡æ–‡ç« è¢« Moon</span>
            
            
                <span>æ‰“ä¸Šæ ‡ç­¾:
                    
                    
                        <a href='/tags/GoLang/'>
                            GoLang
                        </a>
                    
                </span>
             
             
                <span>å½’ä¸ºåˆ†ç±»:
                    
                    
                        <a href='/categories/%E5%90%8E%E7%AB%AF/'>
                            åç«¯
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    
        
    <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        ä»¥ä¸Šã€‚ 
    </div>
    
        

    <div id="waline"></div>
    <script type="module"  >
        import { init } from 'https://npm.elemecdn.com/hexo-theme-a4@latest/source/js/waline.mjs'; 
        function loadWaline() {
            init({
                el: '#waline',
                serverURL: 'https://comment-hexo-waline.vercel.app/',
                lang: 'zh-CN',
                dark: 'body[class~="dark-mode"]',
                requiredMeta: ['nick','mail'], // cannot customize by theme config, change it yourself
                search: false, // ç¦æ­¢è¡¨æƒ…åŒ…æœç´¢
                reaction: false, // å¯¹æ–‡ç« æ‰“åˆ†
                pageview: false, // æµè§ˆé‡ç»Ÿè®¡
                comment: false, // è¯„è®ºæ•°ç»Ÿè®¡

                locale: {
                    placeholder: 'æ­£ç¡®çš„é‚®ç®±åœ°å€ï¼Œå›å¤å°†èƒ½å¾—åˆ°é‚®ä»¶é€šçŸ¥ã€‚', 
                    sofa: ''
                },
            });
            
        }
        window.addEventListener('DOMContentLoaded', loadWaline);
    </script>



    
    
    
    </div>


     
</div>



                    
                    
                    <div class="footer">
    
        <span> 
            Â©2021-2023 China 

            
                

            
        </span>
    
</div>
<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>ğŸŒŠçœ‹è¿‡å¤§æµ·çš„äººä¸ä¼šå¿˜è®°æµ·çš„å¹¿é˜”ğŸŒŠ</span>
            
    
</div>


    
<link rel="stylesheet" href="/css/a11y-dark.min.css">

    
<script src="/js/highlight.min.js"></script>

    
<script src="/js/highlightjs-line-numbers.js"></script>



<script>
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
</script>
                </div>
            
    </body>
</html>