<!DOCTYPE html>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0,  viewport-fit=cover" name="viewport" />
    <meta name="description" content="翻译-whats-new-in-http3" />
    <meta name="hexo-theme-A4" content="v1.7.1" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.webp">
    <title>Diary</title>

    
        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--注意：首页既不是post也不是page-->
        
            
<link rel="stylesheet" href="/css/waline.css">

        
    
    
<link rel="stylesheet" href="/css/ui.css">
 
    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"></head>
    
    <body>
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    
<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/favicon.webp" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Diary</a> 
            <span class="description">备忘录/笔记本</span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">首页</a></li>
            
        
            
                <li><a href="/list/">文章</a></li>
            
        
            
                <li><a href="/categories/">分类</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--说明是文章post页面-->
                    
                        <div class="post-main">

    
        <div class="post-main-title">
            翻译-whats-new-in-http3
        </div>
      
    

    <div class="post-md">
        
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#HTTP-x2F-3-%E4%B8%AD%E7%9A%84%E6%96%B0%E7%89%B9%E6%80%A7"><span class="post-toc-text">HTTP&#x2F;3 中的新特性?</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%BC%AB%E6%B8%B8-HTTP-x2F-0-9-HTTP-x2F-1-0-HTTP-x2F-1-1-HTTP-x2F-2-and-HTTP-x2F-3"><span class="post-toc-text">漫游 HTTP&#x2F;0.9, HTTP&#x2F;1.0, HTTP&#x2F;1.1, HTTP&#x2F;2, and HTTP&#x2F;3</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#HTTP-x2F-0-9"><span class="post-toc-text">HTTP&#x2F;0.9</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#HTTP-x2F-1-0"><span class="post-toc-text">HTTP&#x2F;1.0</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#HTTP-x2F-1-1"><span class="post-toc-text">HTTP&#x2F;1.1</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#HTTP-x2F-2"><span class="post-toc-text">HTTP&#x2F;2</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#HTTP-x2F-3"><span class="post-toc-text">HTTP&#x2F;3</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#HTTP-x2F-3-%E6%94%AF%E6%8C%81%E5%BA%A6"><span class="post-toc-text">HTTP&#x2F;3 支持度</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%94%AF%E6%8C%81"><span class="post-toc-text">服务器支持</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E6%94%AF%E6%8C%81"><span class="post-toc-text">浏览器支持</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%8D%8F%E8%AE%AE%E6%A3%80%E6%9F%A5"><span class="post-toc-text">协议检查</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#HTTP-x2F-1-1-%E6%A1%88%E4%BE%8B"><span class="post-toc-text">HTTP&#x2F;1.1 案例</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#HTTP-x2F-2-%E6%A1%88%E4%BE%8B"><span class="post-toc-text">HTTP&#x2F;2 案例</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#HTTP-x2F-3-%E6%A1%88%E4%BE%8B"><span class="post-toc-text">HTTP&#x2F;3 案例</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%80%BB%E7%BB%93"><span class="post-toc-text">总结</span></a></li></ol>
        
        <p>原文地址：<a target="_blank" rel="noopener" href="https://medium.com/better-programming/whats-new-in-http-3-10c2455a4f8c">https://medium.com/better-programming/whats-new-in-http-3-10c2455a4f8c</a></p>
<h2 id="HTTP-x2F-3-中的新特性"><a href="#HTTP-x2F-3-中的新特性" class="headerlink" title="HTTP&#x2F;3 中的新特性?"></a>HTTP&#x2F;3 中的新特性?</h2><h3 id="漫游-HTTP-x2F-0-9-HTTP-x2F-1-0-HTTP-x2F-1-1-HTTP-x2F-2-and-HTTP-x2F-3"><a href="#漫游-HTTP-x2F-0-9-HTTP-x2F-1-0-HTTP-x2F-1-1-HTTP-x2F-2-and-HTTP-x2F-3" class="headerlink" title="漫游 HTTP&#x2F;0.9, HTTP&#x2F;1.0, HTTP&#x2F;1.1, HTTP&#x2F;2, and HTTP&#x2F;3"></a>漫游 HTTP&#x2F;0.9, HTTP&#x2F;1.0, HTTP&#x2F;1.1, HTTP&#x2F;2, and HTTP&#x2F;3</h3><blockquote>
<p>“超文本传输协议（HTTP）是应用层协议，用于分布式、协作式超媒体信息系统。它是一个通用的、无状态的协议，可以用于超文本以外的很多任务，比如：name server 和分布式对象管理系统。-<a target="_blank" rel="noopener" href="https://www.w3.org/Protocols/rfc2616/rfc2616.html">W3</a></p>
</blockquote>
<p>HTTP 使浏览器和服务器能够通信。它构成了 web 服务器执行最基础的操作所必须有的基础。HTTP 经历了多个阶段。最新的草案 <a target="_blank" rel="noopener" href="https://quicwg.org/base-drafts/draft-ietf-quic-http.html">超文本传输协议版本 3</a> (HTTP&#x2F;3)在 2021 年 5 月 27 日发布。</p>
<p>接下来我们了解下 HTTP 的历史，并探索 HTTP&#x2F;3 中的新特性。</p>
<h2 id="HTTP-x2F-0-9"><a href="#HTTP-x2F-0-9" class="headerlink" title="HTTP&#x2F;0.9"></a>HTTP&#x2F;0.9</h2><p><a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Tim_Berners-Lee">Sir Timothy John Berners-Lee</a> , 也被称为 TimBL,是英国的计算机科学家，同时也是万维网的发明者。他在 1989 年创建了一行的 HTTP 协议 . 简单地返回了一个网页。这个协议在 1991 年被命名为 HTTP&#x2F;0.9。</p>
<p>它只是一个简单的<a target="_blank" rel="noopener" href="https://www.w3.org/Protocols/HTTP/AsImplemented.html">单页规范</a>。只有一种方法：GET,后面跟着文档地址和可选端口地址，以回车(CR)和换行(LF)作为结束：</p>
<pre><code class="bash">    GET /aWebpage.html
</code></pre>
<p>响应可能是被请求的 HTML 文件:</p>
<pre><code class="html">&lt;html&gt;
  The Webpage content
&lt;/html&gt;
</code></pre>
<p>或者也有可能是一个错误页面:</p>
<pre><code class="html">&lt;html&gt;
  Cannot get the page
&lt;/html&gt;
</code></pre>
<p>HTTP&#x2F;0.9 有 4 个术语：连接，断开连接，请求和响应。没有 HTTP 头，状态码、错误码，也没有 cookie 以及其他的现代特性。HTTP&#x2F;0.9 是基于 TCP——传输控制协议 构建的。connection 会在响应后立刻终止。</p>
<h2 id="HTTP-x2F-1-0"><a href="#HTTP-x2F-1-0" class="headerlink" title="HTTP&#x2F;1.0"></a>HTTP&#x2F;1.0</h2><p>1996 年 HTTP&#x2F;1.0 发布。<a target="_blank" rel="noopener" href="https://datatracker.ietf.org/doc/html/rfc1945">规范</a>显著扩展，支持三种方法：GET, Head 和 POST。增加了术语： 消息, 资源, 实体, 客户端, 用户代理, 服务端, 源服务器, 代理, 网关, 隧道和 缓存。</p>
<p>下面是在 HTTP&#x2F;0.9 基础上 HTTP&#x2F;1.0 做出的改进：</p>
<ul>
<li>每个请求都附加 HTTP 版本。</li>
<li>状态码在响应的开头被发送。</li>
<li>请求和响应都包括 HTTP 头。</li>
<li>头部的元数据让协议更加灵活和易扩展。</li>
<li>头部的 content type 使得 http 有能力传输 HTML 文件以外的文档。</li>
</ul>
<p>但是，HTTP&#x2F;1.0 不是官方标准。</p>
<h2 id="HTTP-x2F-1-1"><a href="#HTTP-x2F-1-1" class="headerlink" title="HTTP&#x2F;1.1"></a>HTTP&#x2F;1.1</h2><p>HTTP 第一个标准化版本 HTTP&#x2F;1.1 (<a target="_blank" rel="noopener" href="https://datatracker.ietf.org/doc/html/rfc2068">RFC 2068</a>)发布于 1997 年初，距离 HTTP&#x2F;1.0 只有几个月。 HTTP&#x2F;1.1 支持 7 种方法：OPTIONS, GET, HEAD, POST, PUT, DELETE 和 TRACE。2010 年<a target="_blank" rel="noopener" href="https://datatracker.ietf.org/doc/html/rfc5789">RFC 5789</a>增加了 PATCH,2014 年<a target="_blank" rel="noopener" href="https://datatracker.ietf.org/doc/html/rfc7231">RFC 7231</a> 增加了 CONNECT。</p>
<p>HTTP&#x2F;1.1 附加的术语：representation, content negotiation, variant, cachable, first-hand, explicit expiration time, heuristic expiration time, age, freshness lifetime, fresh, stale, semantically transparent 和 validator.</p>
<p>HTTP&#x2F;1.1 是 HTTP 1.0 的增强版：</p>
<ul>
<li>虚拟主机允许多个从单个 ip 提供多个域。</li>
<li>持久化和流水线连接使得 web 浏览器可以通过单个的持久化连接发送多个请求。</li>
<li>缓存能够支持节省带宽，让响应更加快速。</li>
<li>分块传输编码可以在知道总长度之前就发送响应。这使得动态生成页面成为可能。</li>
<li>包括语言，编码或者类型在内多种方式的内容协商，使得客户端和服务端就要交换的最适合的内容达成一致。</li>
</ul>
<p>HTTP&#x2F;1.1 在接下来的 15 年左右非常稳定。在那期间，HTTPS（安全超文本传输协议）出现了。它是 HTTP 的安全版本，使用 SSL&#x2F;TLS 进行安全的加密通信。</p>
<p>2000 年以来，web API 的真实潜力被认可。Roy Fielding 带领一组专家发明了 REST：REpresentational State Transfer。 REST 是一种软件架构风格，定义了创建 web 服务时必须遵守的一系列的约束和标准。REST API 在 HTTP&#x2F;1.1 及以上生效。</p>
<h2 id="HTTP-x2F-2"><a href="#HTTP-x2F-2" class="headerlink" title="HTTP&#x2F;2"></a>HTTP&#x2F;2</h2><p>HTTP&#x2F;2 旨在更高效的使用网络资源，减少对延迟的感知。它引入了新的二进制分帧，该层不能向后兼容 HTTP&#x2F;1.x 的服务端和客户端。</p>
<p>HTTP&#x2F;2 的第一个草案使用 SPDY 作为规范草案的工作基础。<a target="_blank" rel="noopener" href="https://datatracker.ietf.org/doc/html/rfc7540">这个规范</a>于 2015 年发布。增加了术语： connection error, endpoint, frame, peer, receiver, sender, stream, stream error, intermediary, 和 payload body。</p>
<p>HTTP&#x2F;2 在流上构建了并行化、优先级和流量控制：</p>
<ul>
<li>stream 是在已建立的 TCP 连接中的双向字节流，可以携带一条或多条消息。</li>
<li>通信通过具有任意数量的双向流的单个TCP连接完成。</li>
<li>这是一个多路复用协议。可以让多个并行请求在同一个连接上处理。</li>
<li>它拥有优先排序一个资源而不是另一个资源的能力,因此可以把他放在响应行头部。</li>
<li>允许未经请求就将representation从服务端推送到客户端。</li>
<li>它使用了二进制协议而不是文本。这让它可以被机器读取,性能得到提高。同时也提高了总体上的安全性。</li>
<li>请求头和响应头都是被压缩的。</li>
<li>帧在流上传输,数据帧的载荷受到流控制。</li>
</ul>
<h2 id="HTTP-x2F-3"><a href="#HTTP-x2F-3" class="headerlink" title="HTTP&#x2F;3"></a>HTTP&#x2F;3</h2><p>由于 TCP 保证发送和接收数据包的顺序，因此丢失的数据包将停止所有流，即使它可能只影响其中一个流。HTTP&#x2F;2 没有强制加密，它容易受到流重用攻击以及压缩页面标题和 cookie 攻击。</p>
<p>HTTP&#x2F;3可以解决下面这些问题。</p>
<p>HTTP&#x2F;3是继HTTP&#x2F;1.1 和HTTP&#x2F;2后的第三大版本。目前，这仍然只是一个草案。<a target="_blank" rel="noopener" href="https://quicwg.org/base-drafts/draft-ietf-quic-http.html">最新规范</a>在2021年5月27日发布。它增加了术语：abort,HTTP&#x2F;3 connection和content。</p>
<p>HTTP&#x2F;3 是一种新的、快速的、可靠的、安全的协议，适用于所有形式的设备。</p>
<ul>
<li>HTTP&#x2F;3采用了新的协议——QUIC而不是TCP，这款协议由谷歌在2013年开发。QUIC基于UDP——用户数据报协议运行，</li>
<li>QUIC提供本地的多路服用，丢的包只会影响数据已经丢失的流。这解决了HTTP&#x2F;2中的线端阻塞问题。</li>
<li>QUIC为流数据和在流上发送的 HTTP&#x2F;3帧类型提供流控制。因此所有帧的header和payload都受流控制的约束。</li>
<li>请求头和响应头都是通过QPACK压缩而不是通过HTTP&#x2F;2的HPACK。</li>
<li>多个HTTP&#x2F;3帧用于管理服务器推送。</li>
<li>HTTP&#x2F;3包括了 TLS 1.3 加密。事实上，它担任了HTTPS的角色。</li>
</ul>
<h2 id="HTTP-x2F-3-支持度"><a href="#HTTP-x2F-3-支持度" class="headerlink" title="HTTP&#x2F;3 支持度"></a>HTTP&#x2F;3 支持度</h2><p>HTTP&#x2F;3 brings revolutionary changes to improve web performance and security. Setting up an HTTP&#x2F;3 website requires both server and browser support.<br>HTTP&#x2F;3为提升web性能和安全带来了革命性变革。建立HTTP&#x2F;3 网站需要服务器和浏览器同时支持。</p>
<h3 id="服务器支持"><a href="#服务器支持" class="headerlink" title="服务器支持"></a>服务器支持</h3><p>目前，<a target="_blank" rel="noopener" href="https://cloud.google.com/">Google Cloud</a>, <a target="_blank" rel="noopener" href="https://www.cloudflare.com/">Cloudflare</a> 和<a target="_blank" rel="noopener" href="https://www.fastly.com/">Fastly</a>支持 HTTP&#x2F;3。</p>
<h3 id="浏览器支持"><a href="#浏览器支持" class="headerlink" title="浏览器支持"></a>浏览器支持</h3><p>Chrome, Firefox, Edge, Opera和部分移动端浏览器支持HTTP&#x2F;3。我们可以去<a target="_blank" rel="noopener" href="https://caniuse.com/?search=http3">https://caniuse.com/?search=http3</a> 检查更新后的浏览器的支持度。绿色单元格列出了支持的浏览器版本。</p>
<p><img src="https://cdn-images-1.medium.com/max/2896/1*3m1FjB_lXyS2y1kBiZ8sEg.png" alt="HTTP/3 browser support table by [Can I use...](https://caniuse.com/?search=http3)"></p>
<p>在Chrome中，HTTP&#x2F;3 可以作为一个试验性协议被启用。当我们在浏览器url输入chrome:&#x2F;&#x2F;flags的时候，可以看见QUIC 默认是启用的。<br><img src="https://cdn-images-1.medium.com/max/2000/1*KsBjkghHX0kQdeAEtjx-ow.png"></p>
<h2 id="协议检查"><a href="#协议检查" class="headerlink" title="协议检查"></a>协议检查</h2><p>请求&#x2F;响应的协议可以通过NetWork标签页检查。打开谷歌开发者工具，选中Network标签。当右键点击表头的时候，协议列可以被选中而展示该列。</p>
<p><img src="https://cdn-images-1.medium.com/max/2274/1*Km5elHxixk9Y5jhaFkRQbg.png"></p>
<p>根据<a target="_blank" rel="noopener" href="https://w3techs.com/technologies/overview/site_element%EF%BC%8C%E6%88%AA%E6%AD%A2%E5%88%B02021">https://w3techs.com/technologies/overview/site_element，截止到2021</a> 年 7 月，45.7% 的网站使用 HTTP&#x2F;2，20% 的网站使用 HTTP&#x2F;3。<br><img src="https://cdn-images-1.medium.com/max/2000/1*LvJFI64o1rI44tVyfNoffg.png" alt="An image generated by [W3Techs](https://w3techs.com/technologies/overview/site_element)"></p>
<h3 id="HTTP-x2F-1-1-案例"><a href="#HTTP-x2F-1-1-案例" class="headerlink" title="HTTP&#x2F;1.1 案例"></a>HTTP&#x2F;1.1 案例</h3><p>目前没有太多的公开网站仍然还在使用HTTP&#x2F;1.1协议。AT&amp;T的登录页属于其中之一。<br><img src="https://cdn-images-1.medium.com/max/2846/1*iJBck-4B0YoEgQigzxy8nQ.png" alt="AT&amp;T 登陆页"></p>
<h3 id="HTTP-x2F-2-案例"><a href="#HTTP-x2F-2-案例" class="headerlink" title="HTTP&#x2F;2 案例"></a>HTTP&#x2F;2 案例</h3><p>大部分公开网站都运行在HTTP&#x2F;2,AT&amp;T官网也是如此：<br><img src="https://cdn-images-1.medium.com/max/2846/1*oQ162JFnETIOGmkc3NpghQ.png" alt="AT&amp;T官网"></p>
<h3 id="HTTP-x2F-3-案例"><a href="#HTTP-x2F-3-案例" class="headerlink" title="HTTP&#x2F;3 案例"></a>HTTP&#x2F;3 案例</h3><p>HTTP&#x2F;3的YouTube页面。</p>
<p><img src="https://cdn-images-1.medium.com/max/2846/1*QgDSM-J_oDAyKwfKtTXQKw.png" alt="Youtube官方页面"></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>我们了解了HTTP&#x2F;0.9, HTTP&#x2F;1.0, HTTP&#x2F;1.1, HTTP&#x2F;2, 和 HTTP&#x2F;3. HTTP&#x2F;3 使用QUIC，它基于UDP运行。这是一种新的，快速可靠的跨设备安全协议。<br>你正在考虑把你的应用迁移到HTTP&#x2F;3服务器上？或者已经更新浏览器通过HTTP&#x2F;3来查看web应用?</p>

    </div>

    <div class="post-meta">
        <i>
        
            <span>2023-04-16</span>
            
                <span>该篇文章被 Moon</span>
            
            
                <span>打上标签:
                    
                    
                        <a href='/tags/http/'>
                            http
                        </a>
                    
                </span>
             
             
                <span>归为分类:
                    
                    
                        <a href='/categories/%E7%BF%BB%E8%AF%91/'>
                            翻译
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    
        
    <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        以上。 
    </div>
    
        

    <div id="waline"></div>
    <script type="module"  >
        import { init } from 'https://npm.elemecdn.com/hexo-theme-a4@latest/source/js/waline.mjs'; 
        function loadWaline() {
            init({
                el: '#waline',
                serverURL: 'https://comment-hexo-waline.vercel.app/',
                lang: 'zh-CN',
                dark: 'body[class~="dark-mode"]',
                requiredMeta: ['nick','mail'], // cannot customize by theme config, change it yourself
                search: false, // 禁止表情包搜索
                reaction: false, // 对文章打分
                pageview: false, // 浏览量统计
                comment: false, // 评论数统计

                locale: {
                    placeholder: '正确的邮箱地址，回复将能得到邮件通知。', 
                    sofa: ''
                },
            });
            
        }
        window.addEventListener('DOMContentLoaded', loadWaline);
    </script>



    
    
    
    </div>


     
</div>



                    
                    
                    <div class="footer">
    
        <span> 
            ©2021-2023 China 

            
                

            
        </span>
    
</div>
<!--这是指一条线往下的内容-->
<div class="footer-last">
    
            <span>🌊看过大海的人不会忘记海的广阔🌊</span>
            
    
</div>


    
<link rel="stylesheet" href="/css/a11y-dark.min.css">

    
<script src="/js/highlight.min.js"></script>

    
<script src="/js/highlightjs-line-numbers.js"></script>



<script>
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
</script>
                </div>
            
    </body>
</html>