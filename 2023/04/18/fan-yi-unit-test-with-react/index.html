<!DOCTYPE html>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0,  viewport-fit=cover" name="viewport" />
    <meta name="description" content="unit-test-with-react" />
    <meta name="hexo-theme-A4" content="v1.7.1" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.webp">
    <title>Diary</title>

    
        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
            
<link rel="stylesheet" href="/css/waline.css">

        
    
    
<link rel="stylesheet" href="/css/ui.css">
 
    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"></head>
    
    <body>
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    
<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/favicon.webp" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Diary</a> 
            <span class="description">å¤‡å¿˜å½•/ç¬”è®°æœ¬</span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">æ–‡ç« </a></li>
            
        
            
                <li><a href="/categories/">åˆ†ç±»</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">

    
        <div class="post-main-title">
            unit-test-with-react
        </div>
      
    

    <div class="post-md">
        
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#%E4%BD%BF%E7%94%A8-React-Testing-Library-%E8%BF%9B%E8%A1%8C%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95"><span class="post-toc-text">ä½¿ç”¨ React Testing Library è¿›è¡Œå•å…ƒæµ‹è¯•</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#React-Testing-Library"><span class="post-toc-text">React Testing Library</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%BD%BF%E7%94%A8-React-testing-library%E5%9C%A8React%E4%B8%AD%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E7%9A%84%E6%9E%84%E5%BB%BA%E5%9D%97"><span class="post-toc-text">ä½¿ç”¨ React testing libraryåœ¨Reactä¸­å•å…ƒæµ‹è¯•çš„æ„å»ºå—</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%BD%BF%E7%94%A8-React-Testing-Library%E7%BC%96%E5%86%99%E6%9C%89%E6%95%88%E7%9A%84%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E7%9A%84%E6%AD%A5%E9%AA%A4"><span class="post-toc-text">ä½¿ç”¨ React- Testing Libraryç¼–å†™æœ‰æ•ˆçš„å•å…ƒæµ‹è¯•çš„æ­¥éª¤</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%86%99%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95"><span class="post-toc-text">å†™å•å…ƒæµ‹è¯•</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E8%BF%90%E8%A1%8C%E6%B5%8B%E8%AF%95"><span class="post-toc-text">è¿è¡Œæµ‹è¯•</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%86%99%E6%9C%89%E6%95%88%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E7%9A%84%E4%B8%80%E4%BA%9B%E5%BB%BA%E8%AE%AE"><span class="post-toc-text">å†™æœ‰æ•ˆå•å…ƒæµ‹è¯•ç”¨ä¾‹çš„ä¸€äº›å»ºè®®</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%80%BB%E7%BB%93"><span class="post-toc-text">æ€»ç»“</span></a></li></ol></li></ol>
        
        <p>åŸæ–‡åœ°å€ï¼š<br><a target="_blank" rel="noopener" href="https://blog.openreplay.com/unit-testing-with-the-react-testing-library/">https://blog.openreplay.com/unit-testing-with-the-react-testing-library/</a></p>
<h1 id="ä½¿ç”¨-React-Testing-Library-è¿›è¡Œå•å…ƒæµ‹è¯•"><a href="#ä½¿ç”¨-React-Testing-Library-è¿›è¡Œå•å…ƒæµ‹è¯•" class="headerlink" title="ä½¿ç”¨ React Testing Library è¿›è¡Œå•å…ƒæµ‹è¯•"></a>ä½¿ç”¨ React Testing Library è¿›è¡Œå•å…ƒæµ‹è¯•</h1><p>å•å…ƒæµ‹è¯•æ˜¯ä¸€ç§ç”¨æ¥æµ‹è¯•å•ç‹¬çš„ä»£ç ç‰‡æ®µçš„æµ‹è¯•æ–¹æ³•ï¼Œæ¯”å¦‚ function æˆ–è€… class,é€šè¿‡è¿™ç§æµ‹è¯•æ–¹æ³•æ¥ç¡®ä¿ä»£ç æ­£å¸¸å·¥ä½œã€‚å½“åœ¨ React ä¸­æ‰§è¡Œå•å…ƒæµ‹è¯•æ—¶ï¼Œæˆ‘ä»¬å°†ç»„ä»¶ä¸åº”ç”¨å…¶ä»–éƒ¨åˆ†éš”ç¦»ï¼Œå¯¹è¿™ä¸ªç»„ä»¶è¿›è¡Œå•ç‹¬æµ‹è¯•ã€‚å•å…ƒæµ‹è¯•ç›®çš„æ˜¯åœ¨å¼€å‘è¿›ç¨‹æ—©æœŸå°±å¯ä»¥æ•è· bugï¼Œé¿å…é—®é¢˜å‡ºç°åœ¨æœ€ç»ˆçš„ç”Ÿäº§ç¯å¢ƒä¸­ã€‚å®ƒç»™æˆ‘ä»¬å¸¦æ¥äº†è®¸å¤šå¥½å¤„ï¼Œè¿™è®©å•å…ƒæµ‹è¯•åœ¨ web å¼€å‘è¿›ç¨‹ä¸­å˜æˆäº†å¿…éœ€å“ã€‚ä¸‹é¢æ˜¯æ‰§è¡Œè¿™ä¸ªè¿‡ç¨‹çš„ä¸€äº›åŸå› ï¼š</p>
<ul>
<li><strong>æ—©æœŸ bug æ£€æµ‹</strong>: å•å…ƒæµ‹è¯•å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨å¼€å‘è¿‡ç¨‹æ—©æœŸè¯†åˆ«å‡º bugï¼Œé¿å…å˜å¾—æ›´å¤æ‚å’Œä¸å®¹æ˜“ä¿®å¤ã€‚</li>
<li><strong>å¢å¼ºå¯¹ä¿®æ”¹çš„ä¿¡å¿ƒ</strong>:å•å…ƒæµ‹è¯•æä¾›äº†ä¸€ä¸ªç®€å•çš„é€”å¾„è¯æ˜ä»£ç ä¿®æ”¹ä¸ä¼šç ´åå·²å­˜åœ¨çš„åŠŸèƒ½ã€‚</li>
<li><strong>èƒ½å¤Ÿèµ·åˆ°æ–‡æ¡£çš„ä½œç”¨</strong>: å•å…ƒæµ‹è¯•ä½œä¸ºä»£ç æ–‡æ¡£çš„ä¸€ç§å½¢å¼è€Œå­˜åœ¨ï¼Œä¸ºæˆ‘ä»¬å¯¹äºä»£ç å¦‚ä½•å·¥ä½œæä¾›äº†æ¸…æ™°çš„è®¤è¯†ã€‚</li>
<li><strong>ä½¿å¼€å‘æ›´å¿«</strong>: å•å…ƒæµ‹è¯•æä¾›äº†åœ¨æŸæ®µæ—¶é—´å†…åªæµ‹è¯•ä¸€å°éƒ¨åˆ†ä»£ç çš„æ–¹æ³•ã€‚è¿™è®©å¼€å‘è€…åœ¨æŸä¸€æ—¶é—´å†…åªéœ€è¦ä¸“æ³¨äºé‚£ä¸€æ®µä»£ç ï¼Œä¹Ÿè®©debugæ›´ç®€å•ã€‚</li>
<li><strong>æŒç»­é›†æˆ</strong>: å•å…ƒæµ‹è¯•å¯ä»¥åŒ…å«åœ¨å¯æŒç»­é›†æˆç³»ç»Ÿä¸­ï¼Œè¿™ä¸ªç³»ç»Ÿå¯ä»¥è‡ªåŠ¨è¿›è¡Œæµ‹è¯•å¹¶ä¸”å½“ä»£ç å‘ç”Ÿå˜åŒ–æ—¶æä¾›åé¦ˆï¼Œä»¥ç¡®ä¿ä»£ç ä¿®æ”¹åœ¨éƒ¨ç½²ä¹‹å‰æ€»æ˜¯è¢«æµ‹è¯•è¿‡çš„ã€‚</li>
</ul>
<p>å¼€å‘äººå‘˜çŸ¥é“å¦‚ä½•åœ¨ä»–ä»¬çš„åº”ç”¨ä¸­æ‰§è¡Œæµ‹è¯•ï¼Œè¿™æ˜¯å†æ€ä¹ˆå¼ºè°ƒä¹Ÿä¸è¿‡åˆ†çš„ï¼Œå› ä¸ºæµ‹è¯•å¯ä»¥è¯†åˆ«ä»»ä½•å’Œå®é™…éœ€æ±‚ç›¸åçš„å·®è·ï¼Œé”™è¯¯æˆ–è€…ç¼ºå¤±çš„éœ€æ±‚ï¼Œä»è€Œç¡®è®¤åº”ç”¨ä¸ºå…¬ä¼—ä½¿ç”¨åšå¥½å‡†å¤‡ã€‚å€ŸåŠ©ä¸‹é¢è¿™äº›ä¾‹å­ï¼Œè¿™ç¯‡æ–‡ç« æ—¨åœ¨æ•™ä¼šä½ å¦‚ä½•åœ¨Reactåº”ç”¨ä¸­ä½¿ç”¨React Testing Libraryæ‰§è¡Œå•å…ƒæµ‹è¯•   </p>
<h2 id="React-Testing-Library"><a href="#React-Testing-Library" class="headerlink" title="React Testing Library"></a>React Testing Library</h2><p><a target="_blank" rel="noopener" href="https://testing-library.com/docs/react-testing-library/intro/">React Testing Library</a> æ˜¯ä¸€ä¸ªReactåº“ï¼Œä¸ºæµ‹è¯•Reactç»„ä»¶æä¾›ç›´è§‚å’Œé«˜æ•ˆçš„APIã€‚å®ƒåŸºäº<a target="_blank" rel="noopener" href="https://testing-library.com/docs/ecosystem-jest-dom/">DOM Testing Library</a>æ„å»ºï¼Œå¹¶ä¸”æä¾›äº†æ›´åŠ ä»¥ç”¨æˆ·ä¸ºä¸­å¿ƒçš„æµ‹è¯•Reactç»„ä»¶çš„æ–¹å¼ã€‚è¿™ä¸ªåº“æä¾›äº†ä¸€ç³»åˆ—å·¥å…·å‡½æ•°ï¼Œè¿™äº›è®©å†™æµ‹è¯•æ–­è¨€Reactç»„ä»¶çš„è¡Œä¸ºæ›´åŠ å®¹æ˜“ã€‚RTLå‡½æ•°è¢«è®¾è®¡æˆå’ŒReactæ¸²æŸ“çš„çœŸå®DOMå…ƒç´ ä¸€èµ·ä½¿ç”¨è€Œä¸æ˜¯è™šæ‹ŸDOMï¼Œæ‰€ä»¥æµ‹è¯•ä¼šæ¨¡ä»¿ç”¨æˆ·å¦‚ä½•å’Œåº”ç”¨äº¤äº’ã€‚ä½ å¯ä»¥åœ¨<a target="_blank" rel="noopener" href="https://testing-library.com/docs/react-testing-library/intro/">è¿™é‡Œ</a>äº†è§£æ›´å¤šå…³äºReact testing libraryçš„çŸ¥è¯†ã€‚</p>
<h2 id="ä½¿ç”¨-React-testing-libraryåœ¨Reactä¸­å•å…ƒæµ‹è¯•çš„æ„å»ºå—"><a href="#ä½¿ç”¨-React-testing-libraryåœ¨Reactä¸­å•å…ƒæµ‹è¯•çš„æ„å»ºå—" class="headerlink" title="ä½¿ç”¨ React testing libraryåœ¨Reactä¸­å•å…ƒæµ‹è¯•çš„æ„å»ºå—"></a>ä½¿ç”¨ React testing libraryåœ¨Reactä¸­å•å…ƒæµ‹è¯•çš„æ„å»ºå—</h2><p>Reactä¸­ä½¿ç”¨React testing libraryçš„å•å…ƒæµ‹è¯•å¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<pre><code class="javascript">import &#123; render, screen &#125; from &#39;@testing-library/react&#39;;
import App from &#39;./App&#39;;

test(&#39;renders learn react link&#39;, () =&gt; &#123;
  render(&lt;App /&gt;);
  const linkElement = screen.getByText(/learn react/i);
  expect(linkElement).toBeInTheDocument();
&#125;);
</code></pre>
<ul>
<li>ä»ä¸Šé¢çš„ä¾‹å­å¯ä»¥çœ‹å‡ºï¼Œé¦–å…ˆçœ‹åˆ°çš„å°±æ˜¯ä¸€äº›å¿…è¦çš„æ¨¡å—å¿…é¡»è¢«å¯¼å…¥ï¼Œæ¯”å¦‚render,screenå’Œè¢«æµ‹è¯•çš„ç»„ä»¶(App)ã€‚renderæ–¹æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æä¾›å¯¹æ¸²æŸ“ç»„ä»¶çš„è®¿é—®ï¼Œä»¥åŠå¤šä¸ªå¯ä»¥æŸ¥è¯¢ç»„ä»¶å’Œä¸ç»„ä»¶äº¤äº’çš„å·¥å…·å‡½æ•°</li>
<li>å…¶æ¬¡ï¼Œæµ‹è¯•å—åŒ…å«ä¸¤éƒ¨åˆ†ï¼›ç¬¬ä¸€éƒ¨åˆ†æ˜¯æè¿°æµ‹è¯•çš„æ–‡æœ¬å†…å®¹ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚</li>
<li>åœ¨æµ‹è¯•å—ä¸­ï¼Œä½¿ç”¨renderæ–¹æ³•æ¸²æŸ“å°†è¦è¢«æµ‹è¯•çš„ç»„ä»¶ã€‚</li>
<li>æ¸²æŸ“å®Œç»„ä»¶åï¼Œæˆ‘ä»¬éœ€è¦åœ¨å¾…æµ‹è¯•çš„ç»„ä»¶ä¸­æ‰¾åˆ°ç‰¹å®šçš„å…ƒç´ ã€‚åœ¨ä¸€ä¸ªæ¸²æŸ“çš„ç»„ä»¶ä¸­æŸ¥æ‰¾å…ƒç´ ä¸»è¦æœ‰ä¸‰ç§æ–¹æ³•ï¼šgetBy, findByå’Œ queryByã€‚<ul>
<li><ul>
<li>getBy æ–¹æ³•è¢«ç”¨æ¥è·å–ç¬¦åˆæ¡ä»¶çš„å•ä¸ªå…ƒç´ ã€‚å¦‚æœä½¿ç”¨åŒä¸€ä¸ªå±æ€§æ‰¾ä¸åˆ°æˆ–è€…æ‰¾åˆ°å¤šä¸ªå…ƒç´ ï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚å½“æµ‹è¯•ä¸€ä¸ªå…ƒç´ æ˜¯å¦åœ¨DOMä¸Šæ—¶è¿™ä¸ªæ–¹æ³•éå¸¸æœ‰ç”¨ï¼Œæˆ‘ä»¬å¸Œæœ›åªæœ‰ä¸€ä¸ªå…ƒç´ æ»¡è¶³è¿™ä¸ªæ¡ä»¶ã€‚æ¯”å¦‚ï¼š<br> This method is useful when testing if an element is present in the DOM and we expect only one element to match the condition. For example:</li>
</ul>
</li>
</ul>
</li>
</ul>
<pre><code class="javascript">const &#123; getByText &#125; = render(&lt;MyComponent /&gt;);
const element = getByText(&#39;Hello World&#39;);
</code></pre>
<p>åœ¨ä¸Šè¿°ä¾‹å­ä¸­ï¼ŒgetByTextä¼šæŸ¥è¯¢DOMæ‰¾ä¸€ä¸ªåŒ…å« â€˜Hello Worldâ€™æ–‡æœ¬å†…å®¹ çš„å…ƒç´ ï¼Œè¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„å…ƒç´ ã€‚å¦‚æœæ²¡æœ‰ä¸€ä¸ªå…ƒç´ åŒ…å«â€˜Hello Worldâ€™æˆ–è€…æœ‰å¤šä¸ªå…ƒç´ åŒ…å«å®ƒï¼Œå°±ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</p>
<ul>
<li>findByæ–¹æ³•è¢«ç”¨æ¥è·å–æ»¡è¶³æ¡ä»¶çš„å•ä¸ªå…ƒç´ ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°åˆ™è¿”å›null,å¦‚æœæ‰¾åˆ°å¤šä¸ªå°±æŠ›å‡ºé”™è¯¯ã€‚å½“ä½ ä¸ç¡®å®šè¿™ä¸ªå…ƒç´ æ˜¯å¦åœ¨DOMä¸­æˆ–è€…ä½ å¸Œæœ›åªæœ‰ä¸€ä¸ªå…ƒç´ ç¬¦åˆæ¡ä»¶çš„æ—¶å€™è¿™ä¸ªæ–¹æ³•éå¸¸æœ‰ç”¨ï¼Œæ¯”å¦‚ï¼š</li>
</ul>
<pre><code class="javascript">const &#123; findByText &#125; = render(&lt;MyComponent /&gt;);
const element = await findByText(&#39;Hello World&#39;);
</code></pre>
<p>åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼ŒfindByTextä¼šæŸ¥è¯¢DOMæ‰¾ä¸€ä¸ªåŒ…å« â€˜Hello Worldâ€™æ–‡æœ¬å†…å®¹ çš„å…ƒç´ ï¼Œè¿”å›ç¬¬ä¸€ä¸ªç¬¦åˆçš„å…ƒç´ æˆ–è€…å¦‚æœå…ƒç´ æœªæ‰¾åˆ°çš„è¯è¿”å›nullã€‚å¦‚æœæœ‰å¤šä¸ªåˆ™ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p>
<ul>
<li>queryByè¢«ç”¨æ¥è·å–æ»¡è¶³æ¡ä»¶çš„æ‰€æœ‰å…ƒç´ ã€‚å¦‚æœæ²¡æœ‰æ‰¾åˆ°å…ƒç´ åˆ™è¿”å›null,å¦åˆ™ä»¥æ•°ç»„çš„å½¢å¼è¿”å›ã€‚å½“ä½ å¸Œæœ›æ‰¾åˆ°å¤šä¸ªæ»¡è¶³æ¡ä»¶çš„å…ƒç´ æ—¶å€™ï¼Œè¿™ä¸ªæ–¹æ³•éå¸¸æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼š</li>
</ul>
<pre><code class="javascript">const &#123; queryByText &#125; = render(&lt;MyComponent /&gt;);
const elements = queryByText(&#39;Hello World&#39;);
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒqueryByTextä¼šæŸ¥è¯¢DOMå¯»æ‰¾åŒ…å«æ–‡æœ¬ â€˜Hello Worldâ€™çš„æ‰€æœ‰å…ƒç´ ï¼Œè¿”å›ä¸€ç»„ç¬¦åˆæ¡ä»¶çš„å…ƒç´ ï¼Œæˆ–è€…å¦‚æœæ²¡æœ‰æ‰¾åˆ°çš„è¯ä¼šè¿”å›nullã€‚è¿™äº›æ–¹æ³•éƒ½æ¥å—ä¸€ä¸ªæ¡ä»¶ä½œä¸ºå‚æ•°ï¼Œè¿™ä¸ªæ¡ä»¶å¯ä»¥æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼ˆæŒ‰å…ƒç´ æ–‡æœ¬æœç´¢ï¼‰ï¼Œç»„ä»¶ï¼Œè§’è‰²æˆ–è€…ä½ éœ€è¦æŸ¥è¯¢çš„å…¶ä»–å±æ€§ã€‚ä½ ä¹Ÿå¯ä»¥ä¸²è”å¤šä¸ªæ¡ä»¶æ¥è¿›è¡Œæ›´ç²¾ç¡®çš„æœç´¢ã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªä¾‹å­ï¼š</p>
<pre><code class="javascript">const &#123; getByRole, getByLabelText &#125; = render(&lt;MyComponent /&gt;);
const element = getByRole(&#39;button&#39;, &#123; name: &#39;Save&#39; &#125;).getByLabelText(&#39;Save&#39;);
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼ŒgetByRoleå°†ä¼šæŸ¥è¯¢DOMå¯»æ‰¾è§’è‰²ä¸ºbuttonï¼Œnameæ˜¯Saveçš„å…ƒç´ ã€‚ç„¶ågetByLabelTextä¼šéå†getByRoleè¿”å›çš„æ‰€æœ‰å…ƒç´ ï¼›å®ƒå°†è¿”å›labelæ–‡æœ¬ä¸ºâ€˜Saveâ€™çš„ç›¸åŒå…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°å…ƒç´ æˆ–æ‰¾åˆ°å¤šä¸ªå…ƒç´ ï¼Œå°±æŠ›å‡ºé”™è¯¯ã€‚</p>
<ul>
<li>æ‰¾åˆ°å…ƒç´ åï¼Œæµ‹è¯•æœŸé—´æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ¥è‡ª @testing-library&#x2F;react åº“çš„fireEvent å‡½æ•°åœ¨Reactç»„ä»¶çš„å…ƒç´ ä¸Šæ¨¡æ‹Ÿç”¨æˆ·äº‹ä»¶ï¼ˆå¦‚ï¼šclick,inputç­‰ï¼‰ã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªä½¿ç”¨fireEventæ¨¡æ‹Ÿç‚¹å‡»æŒ‰é’®äº‹ä»¶çš„ä¾‹å­ï¼š</li>
</ul>
<pre><code class="javascript">import &#123; render, fireEvent &#125; from &#39;@testing-library/react&#39;;
import MyComponent from &#39;./MyComponent&#39;;

test(&#39;clicking the button calls the onClick prop&#39;, () =&gt; &#123;
  const onClick = jest.fn();
  const &#123; getByText &#125; = render(&lt;MyComponent onClick=&#123;onClick&#125; /&gt;);
  const button = getByText(&#39;Click me&#39;);
  fireEvent.click(button);
  expect(onClick).toHaveBeenCalled();
&#125;);
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä»@testing-library&#x2F;reactå¯¼å…¥äº†renderå’ŒfireEvent åŠŸèƒ½ï¼Œç„¶åæˆ‘ä»¬å¯¼å…¥æƒ³è¦æµ‹è¯•çš„ç»„ä»¶ã€‚åœ¨æµ‹è¯•å‡½æ•°ä¸­ï¼Œæˆ‘ä»¬åˆ›å»ºäº†mockå‡½æ•°æ¥ä½œä¸ºç»„ä»¶çš„onClickå±æ€§ä½¿ç”¨ã€‚ç„¶åä½¿ç”¨renderå‡½æ•°æ¥æ¸²æŸ“ç»„ä»¶ï¼Œä½¿ç”¨getByText æ–¹æ³•æ¥æ‰¾åˆ°åŒ…å«æ–‡æœ¬â€click meâ€çš„æŒ‰é’®å…ƒç´ ã€‚é€šè¿‡ä½¿ç”¨fireEvent.clickå‡½æ•°ï¼Œæˆ‘ä»¬æ¨¡æ‹Ÿäº†ç‚¹å‡»æŒ‰é’®ï¼Œæœ€ç»ˆï¼Œé¢„æœŸæ£€æŸ¥mockçš„å‡½æ•°åº”è¯¥è¢«è°ƒç”¨ã€‚ä½ å¯ä»¥ä½¿ç”¨fireEvent.changeæ¨¡æ‹Ÿinputçš„change äº‹ä»¶ï¼Œä½¿ç”¨fireEvent.submitæ¨¡æ‹Ÿè¡¨å•çš„æäº¤äº‹ä»¶ä»¥åŠå…¶ä»–äº‹ä»¶ã€‚</p>
<ul>
<li>éšç€æ‰¾åˆ°å…ƒç´ å’Œäº‹ä»¶fire,æˆ‘ä»¬éšåæ£€æŸ¥ä»–ä»¬è¡Œä¸ºæ˜¯å¦ä¸é¢„æœŸä¸€è‡´æˆ–è€…ä»–ä»¬åº”è¯¥åœ¨å“ªé‡Œè¢«æ‰¾åˆ°ã€‚è¿™ä¸ªæ£€æŸ¥è¢«ç§°ä¸ºæ–­è¨€ï¼Œæ–­è¨€è¢«ç”¨æ¥æµ‹è¯•åœ¨æ¸²æŸ“çš„ç»„ä»¶é‡ŒæŸä¸ªæ¡ä»¶æ˜¯å¦æ»¡è¶³ã€‚è¿™äº›æ–­è¨€å…¸å‹çš„ç”¨æ³•æ˜¯æ£€æŸ¥å…ƒç´ çŠ¶æ€ï¼Œæ–‡æœ¬æˆ–è€…å±æ€§ä»¥åŠç»„ä»¶è¡Œä¸ºã€‚RTLæä¾›äº†ä¸€ç³»åˆ—å†…ç½®çš„æ–­è¨€æ¯”å¦‚toHaveBeenCalledï¼ŒtoHaveBeenCalledTimes, å’Œ toHaveBeenCalledWithï¼Œæ–­è¨€å‡½æ•°è¡Œä¸ºæ¯”å¦‚äº‹ä»¶å¤„ç†å™¨ã€‚ä¸¾ä¸ªä¾‹å­ï¼š</li>
</ul>
<pre><code class="javascript">test(&#39;simulate and test click event on a button&#39;, () =&gt; &#123;
  const handleClick = jest.fn();
  const &#123; getByTestId &#125; = render(&lt;MyComponent onClick=&#123;handleClick&#125; /&gt;);
  fireEvent.click(getByTestId(&#39;my-button&#39;));
  expect(handleClick).toHaveBeenCalled();
  expect(handleClick).toHaveBeenCalledTimes(1);
  expect(handleClick).toHaveBeenCalledWith(expect.anything());
&#125;);
</code></pre>
<p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨jest.fn() åˆ›å»ºä¸€ä¸ªæˆ‘ä»¬å¯ä»¥æ–­è¨€çš„mockå‡½æ•°ã€‚ç„¶åæˆ‘ä»¬å°†å®ƒä½œä¸ºpropä¼ é€’ç»™ç»„ä»¶ï¼Œæ¥ç€ä½¿ç”¨fireEvent.click æ¨¡æ‹Ÿç‚¹å‡»æŒ‰é’®ã€‚å†æ–­è¨€ã€‚ä½¿ç”¨ toHaveBeenCalled()æ–¹æ³•ï¼Œæ£€æŸ¥å½“ç‚¹å‡»æŒ‰é’®æ—¶ï¼Œå‡½æ•°handleClickæ˜¯å¦è¢«è°ƒç”¨ã€‚ ä½¿ç”¨toHaveBeenCalledTimes(1)ï¼Œæˆ‘ä»¬æµ‹è¯•å½“æŒ‰é’®ç‚¹å‡»çš„æ—¶å€™ï¼ŒhandleClickæ˜¯å¦åªè¢«è°ƒç”¨è¿‡ä¸€æ¬¡ã€‚æœ€åï¼Œä½¿ç”¨toHaveBeenCalledWith()æµ‹è¯•ä»–æ˜¯å¦åªè¢«è°ƒç”¨ä¸€æ¬¡ä¸”å¸¦æœ‰å‚æ•°çš„è°ƒç”¨ã€‚</p>
<p>æ³¨æ„RTLç›®çš„æ˜¯æä¾›æœ€å°ä¸”çµæ´»çš„ä¸€ç³»åˆ—æ–­è¨€ï¼Œå¹¶ä¸”ä½ å¯ä»¥ä½¿ç”¨ä»»ä½•æ–­è¨€åº“ï¼Œç±»ä¼¼chaiï¼Œjestç­‰æ–­è¨€ç»„ä»¶çŠ¶æ€ã€‚</p>
<h2 id="ä½¿ç”¨-React-Testing-Libraryç¼–å†™æœ‰æ•ˆçš„å•å…ƒæµ‹è¯•çš„æ­¥éª¤"><a href="#ä½¿ç”¨-React-Testing-Libraryç¼–å†™æœ‰æ•ˆçš„å•å…ƒæµ‹è¯•çš„æ­¥éª¤" class="headerlink" title="ä½¿ç”¨ React- Testing Libraryç¼–å†™æœ‰æ•ˆçš„å•å…ƒæµ‹è¯•çš„æ­¥éª¤"></a>ä½¿ç”¨ React- Testing Libraryç¼–å†™æœ‰æ•ˆçš„å•å…ƒæµ‹è¯•çš„æ­¥éª¤</h2><p>è¿™é‡Œæ˜¯ä½¿ç”¨React Testing Libraryç¼–å†™ç»¼åˆæœ‰æ•ˆçš„å•å…ƒæµ‹è¯•éœ€è¦éµå¾ªçš„æ­¥éª¤ï¼š</p>
<ul>
<li>å¯¼å…¥éœ€è¦çš„æ¨¡å—ï¼šä½ å¿…é¡»å¯¼å…¥Reactå’ŒReact Testing Libraryã€‚ä½ ä¹Ÿéœ€è¦å¯¼å…¥ä½ æƒ³æµ‹è¯•çš„ç»„ä»¶ã€‚</li>
<li>å†™æµ‹è¯•ï¼šä½¿ç”¨Jestçš„æè¿°å’Œä»–çš„æ–¹æ³•æ¥ä¸ºç»„ä»¶å†™æµ‹è¯•ã€‚ä½ ä¼šä½¿ç”¨React Testing Libraryçš„renderæ–¹æ³•æ¥æ¸²æŸ“æµ‹è¯•ä¸­çš„ç»„ä»¶ã€‚</li>
<li>ä»ç»„ä»¶è·å–å…ƒç´ ï¼šä½¿ç”¨æ¥è‡ªè¿”å›çš„æ¸²æŸ“å¯¹è±¡getBy å’ŒqueryByæ–¹æ³•ä»å·²ç»æ¸²æŸ“çš„ç»„ä»¶ä¸­è·å–å…ƒç´ ã€‚ä½ å¯ä»¥ä½¿ç”¨è¿™äº›æ–¹æ³•é€šè¿‡æ–‡æœ¬ï¼Œå±•ç¤ºå€¼ï¼Œlabelæ–‡æœ¬æˆ–è€…è”åˆä½“è·å–å…ƒç´ ã€‚</li>
<li>å’Œç»„ä»¶äº¤äº’ï¼šä½¿ç”¨fireEvent æ–¹æ³•å’Œç»„ä»¶äº¤äº’ã€‚ä½ å¯ä»¥ä½¿ç”¨fireEvenæ¨¡æ‹Ÿç±»ä¼¼ç‚¹å‡»æŒ‰é’®ï¼Œæäº¤è¡¨å•æˆ–è€…ä¿®æ”¹è¾“å…¥å€¼è¿™æ ·çš„ç”¨æˆ·äº‹ä»¶ã€‚</li>
<li>åšå‡ºæ–­è¨€ï¼šä½¿ç”¨Jestçš„expectæ–¹æ³•å¯¹ç»„ä»¶çš„çŠ¶æ€åšå‡ºæ–­è¨€ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œä½ å¯èƒ½ä¼šæ–­è¨€è¡¨å•å·²ç»æˆåŠŸæäº¤æˆ–è€…å±•ç¤ºé”™è¯¯ä¿¡æ¯ã€‚</li>
<li>æ¸…ç†ï¼šåœ¨è¿›å…¥ä¸‹ä¸€ä¸ªæµ‹è¯•ä¹‹å‰ï¼Œç¡®ä¿æ¸…ç†å¹²å‡€ä»»æ„çš„spy,mockæˆ–è€…ç»™ç»„ä»¶æ·»åŠ çš„äº‹ä»¶ç›‘å¬å™¨ã€‚</li>
<li>ä¸ºæ¯ä¸ªç»„ä»¶é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼šä¸ºæ¯ä¸€ä¸ªä½ æƒ³æµ‹è¯•çš„ç»„ä»¶å†™ä¸€ä¸ªå•ç‹¬çš„æµ‹è¯•ã€‚ä¸ºæ¯ä¸ªæµ‹è¯•é‡å¤ä¸Šè¿°æ­¥éª¤ã€‚ç°åœ¨æˆ‘ä»¬è‡ªå·±æ¥å†™ä¸€äº›æµ‹è¯•ã€‚</li>
</ul>
<h2 id="å†™å•å…ƒæµ‹è¯•"><a href="#å†™å•å…ƒæµ‹è¯•" class="headerlink" title="å†™å•å…ƒæµ‹è¯•"></a>å†™å•å…ƒæµ‹è¯•</h2><p>ä¸ºäº†æµ‹è¯•ï¼Œæˆ‘ä»¬è¿˜ä¼šåˆ›å»ºç®€å•çš„è”ç³»è¡¨å•ï¼Œæ ¡éªŒæ¯ä¸€ä¸ªfieldã€‚<br><img src="https://blog.openreplay.com/images/unit-testing-with-the-react-testing-library/images/UHSZlyc.png"><br>ä¸ºäº†æµ‹è¯•ï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªç®€å•çš„è¡¨å•ï¼Œæ ¡éªŒæ¯ä¸€ä¸ªfieldã€‚å¦‚æœç©ºç™½è¡¨å•è¢«æäº¤å°±ä¼šå±•ç¤ºé”™è¯¯ä¿¡æ¯ã€‚<br><img src="https://blog.openreplay.com/images/unit-testing-with-the-react-testing-library/images/yHK5HIa.png"></p>
<p>åšå®Œè¿™äº›ä¹‹åï¼Œæˆ‘ä»¬å°†ä¸ºè¿™ä¸ªè¡¨å•å†™ä¸€äº›å•å…ƒæµ‹è¯•ï¼š</p>
<ul>
<li>æµ‹è¯•labelå’Œè¾“å…¥åŸŸæ˜¯å¦æ­£ç¡®æ¸²æŸ“ï¼š</li>
</ul>
<pre><code class="javascript">it(&#39;renders the form with correct labels and inputs&#39;, () =&gt; &#123;
  const &#123; getByLabelText, getByRole &#125; = render(&lt;App /&gt;);
  expect(getByLabelText(&#39;Name:&#39;)).toBeInTheDocument();
  expect(getByLabelText(&#39;Email:&#39;)).toBeInTheDocument();
  expect(getByLabelText(&#39;Message:&#39;)).toBeInTheDocument();
  expect(getByRole(&#39;textbox&#39;, &#123; name: &#39;Name:&#39; &#125;)).toBeInTheDocument();
  expect(getByRole(&#39;textbox&#39;, &#123; name: &#39;Email:&#39; &#125;)).toBeInTheDocument();
  expect(getByRole(&#39;textbox&#39;, &#123; name: &#39;Message:&#39; &#125;)).toBeInTheDocument();
&#125;);
</code></pre>
<p>è¿™ä¸ªæµ‹è¯•ç”¨æ¥æ£€æµ‹è¡¨å•çš„labelå’Œè¾“å…¥å€¼æ˜¯å¦æ­£ç¡®ã€‚æ¥è‡ªreact-testing-libraryçš„renderå‡½æ•°è¢«ç”¨æ¥æ¸²æŸ“Appç»„ä»¶ã€‚ä¹‹åï¼ŒgetByLabelTextå’ŒgetByRoleå‡½æ•°ç”¨æ¥æ‰¾è¡¨å•é‡Œçš„å…ƒç´ ï¼Œå¹¶æ–­è¨€ä»–ä»¬åœ¨æ–‡æ¡£ä¸­ã€‚</p>
<ul>
<li>æµ‹è¯•æ˜¯å¦ä¼šå±•ç¤ºç©ºåŸŸçš„é”™è¯¯ä¿¡æ¯ï¼š</li>
</ul>
<pre><code class="javascript">it(&#39;displays errors for empty fields&#39;, () =&gt; &#123;
  const &#123; getByText, getByRole &#125; = render(&lt;App /&gt;);
  const submitButton = getByRole(&#39;button&#39;, &#123; type: &#39;submit&#39; &#125;);
  fireEvent.click(submitButton);
  expect(getByText(&#39;Name is required&#39;)).toBeInTheDocument();
  expect(getByText(&#39;Email is required&#39;)).toBeInTheDocument();
  expect(getByText(&#39;Message is required&#39;)).toBeInTheDocument();
&#125;);
</code></pre>
<p>è¿™ä¸ªæµ‹è¯•æ£€æŸ¥å½“ç”¨æˆ·å°è¯•æäº¤ç©ºç™½è¡¨å•çš„æ—¶å€™æ˜¯å¦ä¼šå±•ç¤ºæ­£ç¡®çš„é”™è¯¯ä¿¡æ¯ã€‚æˆ‘ä»¬çš„è¡¨å•æ˜¯ä½¿ç”¨renderå‡½æ•°æ¸²æŸ“çš„ï¼Œä½¿ç”¨getByRoleæ–¹æ³•æ‰¾åˆ°æŒ‰é’®å…ƒç´ ã€‚fireEventå‡½æ•°æ¨¡æ‹Ÿç‚¹å‡»æäº¤æŒ‰é’®ã€‚getByTextå‡½æ•°æ‰¾åˆ°é”™è¯¯ä¿¡æ¯å¹¶ä¸”æ–­è¨€ä»–ä»¬åœ¨æ–‡æ¡£é‡Œã€‚</p>
<ul>
<li>æµ‹è¯•åœ¨emailåœ°å€ä¸åˆæ³•çš„æƒ…å†µä¸‹æ˜¯å¦ä¼šå±•ç¤ºé”™è¯¯ä¿¡æ¯:</li>
</ul>
<pre><code class="javascript">it(&#39;display error for invalid email&#39;, () =&gt; &#123;
  const &#123; getByLabelText, getByText, getByRole &#125; = render(&lt;App /&gt;);
  const emailInput = getByRole(&#39;textbox&#39;, &#123; name: &#39;Email:&#39; &#125;);
  fireEvent.change(emailInput, &#123; target: &#123; value: &#39;wdwkfb.com@&#39; &#125; &#125;);
  const submitButton = getByRole(&#39;button&#39;, &#123; type: &#39;submit&#39; &#125;);
  fireEvent.click(submitButton);
  expect(getByLabelText(&#39;Email:&#39;)).toBeInTheDocument();
  expect(getByText(&#39;Email is not valid&#39;)).toBeInTheDocument();
&#125;);
</code></pre>
<p>è¿™ä¸ªæµ‹è¯•æ£€æµ‹åŒ…å«ä¸åˆæ³•çš„é‚®ä»¶åœ°å€çš„è¡¨å•æ˜¯å¦ä¼šåœ¨ç”¨æˆ·å°è¯•æäº¤è¡¨å•ä¼šå±•ç¤ºé”™è¯¯ä¿¡æ¯ã€‚è¡¨å•æ¸²æŸ“ä»¥åï¼Œé€šè¿‡getByRoleæ–¹æ³•æ‰¾åˆ°é‚®ç®±è¾“å…¥ã€‚fireEventå‡½æ•°è¢«ç”¨æ¥æ¨¡æ‹Ÿå°†é‚®ä»¶åœ°å€å˜æˆä¸åˆæ³•çš„å€¼ã€‚æäº¤æŒ‰é’®æ‰¾åˆ°ä»¥ååƒä»¥å‰çš„æµ‹è¯•ä¸€æ ·ä½¿ç”¨åŒæ ·çš„æ­¥éª¤ç‚¹å‡»ã€‚ä½¿ç”¨getByTextæ–¹æ³•æ‰¾åˆ°é”™è¯¯ä¿¡æ¯å¹¶æ–­è¨€å­˜åœ¨äºæ–‡æ¡£ä¸­ã€‚</p>
<ul>
<li>å½“å³è¾¹çš„è¾“å…¥è¢«ç»™å®šçš„æ—¶å€™ï¼Œæµ‹è¯•æˆ‘ä»¬çš„è¡¨å•æ˜¯å¦è¢«æäº¤ï¼š</li>
</ul>
<pre><code class="javascript">it(&#39;submit the form with correct data when the submit button is clicked&#39;, () =&gt; &#123;
  const spy = jest.spyOn(console, &#39;log&#39;).mockImplementation(() =&gt; &#123;&#125;);
  const &#123; getByLabelText, getByText &#125; = render(&lt;App /&gt;);
  const nameInput = getByLabelText(&#39;Name:&#39;);
  const emailInput = getByLabelText(&#39;Email:&#39;);
  const messageInput = getByLabelText(&#39;Message:&#39;);
  const submitButton = getByText(&#39;Submit&#39;);
  fireEvent.change(nameInput, &#123; target: &#123; value: &#39;John Doe&#39; &#125; &#125;);
  fireEvent.change(emailInput, &#123; target: &#123; value: &#39;johndoe@example.com&#39; &#125; &#125;);
  fireEvent.change(messageInput, &#123;
    target: &#123; value: &#39;Hello, I would like to get in touch.&#39; &#125;,
  &#125;);
  fireEvent.click(submitButton);
  expect(console.log).toHaveBeenCalledWith(&#123;
    name: &#39;John Doe&#39;,
    email: &#39;johndoe@example.com&#39;,
    message: &#39;Hello, I would like to get in touch.&#39;,
  &#125;);
  spy.mockRestore();
&#125;);
</code></pre>
<p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨Jestçš„spyOnæ–¹æ³•åˆ›å»ºå¯¹console.logæ–¹æ³•çš„ç›‘å¬ï¼Œç„¶åä½¿ç”¨ mockImplementationæ¥ç”¨mockå‡½æ•°æ›¿ä»£çœŸæ­£çš„æ–¹æ³•ã€‚è¿™å…è®¸æˆ‘ä»¬éªŒè¯ console.log æ–¹æ³•å¯ä»¥åœ¨ä¸å¾€æ§åˆ¶å°è®°å½•ä»»ä½•ä¿¡æ¯çš„æƒ…å†µä¸‹è¢«è°ƒç”¨ã€‚ç„¶åæˆ‘ä»¬ä½¿ç”¨æ¥è‡ª@testing-library&#x2F;reactçš„renderæ–¹æ³•æ¸²æŸ“Appç»„ä»¶ï¼Œä½¿ç”¨getByTextä»å·²ç»æ¸²æŸ“çš„ç»„ä»¶ä¸­è·å–åˆ°æŒ‰é’®å…ƒç´ ã€‚ä½¿ç”¨fireEvent.changeï¼Œæˆ‘ä»¬å¯ä»¥ç»™è¾“å…¥åŸŸæä¾›è¾“å…¥ã€‚æ¥ä¸‹æ¥ä½¿ç”¨fireEvent.clickæ¥æ¨¡æ‹Ÿç‚¹å‡»æŒ‰é’®ï¼Œæ–­è¨€æœ‰é¢„æœŸæ¶ˆæ¯çš„console.logæ–¹æ³•è¢«è°ƒç”¨ã€‚æœ€åä½¿ç”¨mockRestoreæ¥æ¢å¤åŸå§‹çš„console.logæ–¹æ³•ï¼Œæ‰€ä»¥spyä¸ä¼šå½±å“ä»»ä½•æœªæ¥çš„æµ‹è¯•ã€‚</p>
<h2 id="è¿è¡Œæµ‹è¯•"><a href="#è¿è¡Œæµ‹è¯•" class="headerlink" title="è¿è¡Œæµ‹è¯•"></a>è¿è¡Œæµ‹è¯•</h2><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»å­¦ä¹ äº†å¦‚ä½•ä¸ºReactåº”ç”¨æ­å»ºå•å…ƒæµ‹è¯•ã€‚ä¸ºäº†è¿è¡Œæˆ‘ä»¬å·²ç»å†™å¥½çš„æµ‹è¯•ï¼Œéœ€è¦åšä»¥ä¸‹è¿™äº›äº‹ï¼š</p>
<ul>
<li><p>å°†ä½ çš„æµ‹è¯•æ–‡ä»¶ä¿å­˜åœ¨ç»„ä»¶æ–‡ä»¶çš„åŒçº§ç›®å½•ï¼Œå‘½åä¸º[component-name].test.jsã€‚</p>
</li>
<li><p>åœ¨ä½ çš„ç»ˆç«¯ï¼Œå¯¼èˆªåˆ°é¡¹ç›®çš„æ ¹ç›®å½•ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼šnpm run testï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯yarn,å¯ä»¥è¿è¡Œyarn test</p>
</li>
<li><p>test runnerä¼šè‡ªåŠ¨æ‰¾åˆ°ä½ é¡¹ç›®é‡Œçš„æ‰€æœ‰æµ‹è¯•æ–‡ä»¶å¹¶è¿è¡Œï¼Œåœ¨ç»ˆç«¯å±•ç¤ºç»“æœã€‚</p>
</li>
<li><p>å¦‚æœä½ æƒ³è¦è¿è¡ŒæŒ‡å®šçš„æµ‹è¯•æ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ npm run test [test-file-path]æˆ–è€…yarn test [test-file-path]å‘½ä»¤ã€‚</p>
</li>
<li><p>ç»ˆç«¯ä¸Šå±•ç¤ºäº†æˆ‘ä»¬æµ‹è¯•çš„ç»“æœï¼ŒåŒ…å«äº†æ‰€æœ‰çš„æµ‹è¯•å’Œä»–ä»¬çš„ç»“æœã€‚è¿™æ˜¯å½“æµ‹è¯•å…¨éƒ¨é€šè¿‡çš„æ—¶å€™çš„è¾“å‡ºï¼š</p>
<p><img src="https://blog.openreplay.com/images/unit-testing-with-the-react-testing-library/images/Z92HEh8.png"></p>
<p>ç°åœ¨æˆ‘ä»¬è®©å…¶ä¸­ä¸€ä¸ªæµ‹è¯•å¤±è´¥ï¼Œçœ‹çœ‹æ˜¯ä»€ä¹ˆæ ·å­ï¼›</p>
<p><img src="https://blog.openreplay.com/images/unit-testing-with-the-react-testing-library/images/iYziRAC.png"><br>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°React Testing Library å‘æˆ‘ä»¬ç²¾ç¡®åœ°å±•ç¤ºäº†ä»€ä¹ˆåŸå› å¯¼è‡´äº†é”™è¯¯ï¼Œå› æ­¤æˆ‘ä»¬èƒ½å¤Ÿå¿«é€Ÿçº æ­£é”™è¯¯ã€‚</p>
</li>
</ul>
<h2 id="å†™æœ‰æ•ˆå•å…ƒæµ‹è¯•ç”¨ä¾‹çš„ä¸€äº›å»ºè®®"><a href="#å†™æœ‰æ•ˆå•å…ƒæµ‹è¯•ç”¨ä¾‹çš„ä¸€äº›å»ºè®®" class="headerlink" title="å†™æœ‰æ•ˆå•å…ƒæµ‹è¯•ç”¨ä¾‹çš„ä¸€äº›å»ºè®®"></a>å†™æœ‰æ•ˆå•å…ƒæµ‹è¯•ç”¨ä¾‹çš„ä¸€äº›å»ºè®®</h2><ul>
<li><strong>ä¿æŒæµ‹è¯•å†…å®¹å°ä¸”é›†ä¸­</strong>: æ¯ä¸ªæµ‹è¯•åº”è¯¥åªæµ‹è¯•ç»„ä»¶ç‰¹å®šçš„è¡Œä¸ºæˆ–è€…æ–¹é¢ï¼Œé¿å…åœ¨å•ä¸ªtestä¸­æµ‹è¯•å¤šä¸ªè¡Œä¸ºã€‚è¿™å¯ä»¥æé«˜ä½ çš„æµ‹è¯•åŒ…çš„å¯é æ€§ï¼Œå¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªåé¢ä¾‹å­ï¼š</li>
</ul>
<pre><code class="javascript">import React from &#39;react&#39;;
import MyComponent from &#39;./MyComponent&#39;;
import &#123; render, fireEvent &#125; from &#39;@testing-library/react&#39;;

describe(&#39;MyComponent&#39;, () =&gt; &#123;
  it(&#39;tests multiple behaviors&#39;, () =&gt; &#123;
    const &#123; getByText, getByRole &#125; = render(&lt;MyComponent title=&quot;Test title&quot; /&gt;);
    expect(getByText(&#39;Test title&#39;)).toBeInTheDocument();
    fireEvent.click(getByRole(&#39;button&#39;));
    expect(getByText(&#39;Button clicked&#39;)).toBeInTheDocument();
  &#125;);
&#125;);
</code></pre>
<p>è¿™åŒæ—¶æµ‹è¯•äº†æ ‡é¢˜çš„å±•ç¤ºå’ŒæŒ‰é’®ç‚¹å‡»çš„è¡Œä¸ºï¼Œè¿™ä½¿å¾—å®ƒåœ¨å¤±è´¥çš„æ—¶å€™éš¾ä»¥ç†è§£å’Œdebugã€‚è¿™é‡Œæ˜¯åŒæ ·çš„æµ‹è¯•æ›´å¥½çš„å†™æ³•ï¼š</p>
<pre><code class="javascript">import React from &#39;react&#39;;
import MyComponent from &#39;./MyComponent&#39;;
import &#123; render, fireEvent &#125; from &#39;@testing-library/react&#39;;

describe(&#39;MyComponent&#39;, () =&gt; &#123;
  it(&#39;renders the title&#39;, () =&gt; &#123;
    const &#123; getByText &#125; = render(&lt;MyComponent title=&quot;Test title&quot; /&gt;);
    expect(getByText(&#39;Test title&#39;)).toBeInTheDocument();
  &#125;);

  it(&#39;handles button click&#39;, () =&gt; &#123;
    const &#123; getByText, getByRole &#125; = render(&lt;MyComponent title=&quot;Test title&quot; /&gt;);
    fireEvent.click(getByRole(&#39;button&#39;));
    expect(getByText(&#39;Button clicked&#39;)).toBeInTheDocument();
  &#125;);
&#125;);
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ¥è‡ª@testing-library&#x2F;reactçš„renderæ–¹æ³•æ¸²æŸ“ç»„ä»¶å’Œæ¥è‡ªjestçš„fireEvent.clickæ¨¡æ‹ŸæŒ‰é’®ç‚¹å‡»äº‹ä»¶ã€‚ç„¶ågetByText å’Œ getByRoleå‡½æ•°è¢«ç”¨æ¥åœ¨é¡µé¢ä¸­å®šä½å…ƒç´ ã€‚è¿™äº›æµ‹è¯•è¢«å†™åœ¨å•ç‹¬çš„testå—ä¸­ï¼Œéµå¾ªå»ºè®®çš„åšæ³•ï¼Œè¿™è®©ä»–ä»¬å³ä½¿éšç€æ—¶é—´çš„æµé€ä¹Ÿèƒ½æ˜“äºç†è§£å’Œç»´æŠ¤ã€‚</p>
<ul>
<li><strong>æµ‹è¯•ç‰¹å®šç»“æœ</strong>: å½“æˆ‘ä»¬ä¸“æ³¨äºæµ‹è¯•ç»„ä»¶ç‰¹å®šçš„ç»“æœæˆ–è€…æŸäº›æ–¹é¢çš„è¡Œä¸ºï¼Œè€Œä¸æ˜¯ä¸“æ³¨äºæ¸²æŸ“çš„æ•´ä½“æ­£ç¡®æ€§ï¼Œå•å…ƒæµ‹è¯•ä¼šæ›´é«˜æ•ˆã€‚é€šè¿‡æµ‹è¯•ç‰¹å®šçš„ç»“æœï¼Œæˆ‘ä»¬å¯ä»¥ç¡®ä¿ç»„ä»¶åŠŸèƒ½åœ¨ä¸€äº›ç‰¹æ®Šçš„åœºæ™¯ä¸‹èƒ½æŒ‰ç…§é¢„æœŸè¿è¡Œã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œä½ å¯ä»¥æµ‹è¯•å½“ä¼ å…¥æŒ‡å®špropçš„æ—¶å€™è¿™ä¸ªç»„ä»¶æ˜¯å¦ä¼šæ­£ç¡®å±•ç¤ºæŒ‡å®šçš„æ•°æ®ï¼Œæˆ–è€…ä¹Ÿå¯ä»¥æµ‹è¯•å½“ç‚¹å‡»æŒ‡å®šçš„æŒ‰é’®æ—¶è§¦å‘æ“ä½œã€‚è¿™äº›ç±»å‹çš„æµ‹è¯•æä¾›äº†å…³äºç»„ä»¶çš„è¡Œä¸ºæ›´ç‰¹å®šçš„å’Œæ›´æœ‰æ„ä¹‰çš„ä¿¡æ¯ï¼Œè¿™ä½¿å¾—æ•è·å¯èƒ½å‘ç”Ÿçš„é—®é¢˜æˆ–è€…bugæ›´åŠ å®¹æ˜“ã€‚</li>
<li><strong>åŒæ—¶æµ‹è¯•ç¬¦åˆé¢„æœŸå’Œä¸ç¬¦åˆé¢„æœŸçš„è¡Œä¸º</strong>: æµ‹è¯•ç»„ä»¶åœ¨ç»™å®šåˆæ³•è¾“å…¥çš„æ—¶å€™æ˜¯å¦è¡Œä¸ºæ­£å¸¸ï¼ŒåŒæ—¶æµ‹è¯•å®ƒæ˜¯å¦èƒ½å¤„ç†ä¸åˆæ³•çš„è¾“å…¥å’Œè¾¹ç¼˜ç”¨ä¾‹ã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªä¾‹å­ï¼›å‡è®¾æœ‰è¿™æ ·ä¸€ä¸ªReactç»„ä»¶ï¼Œæœ‰ä¸€ä¸ªæ•°å­—valueä½œä¸ºprop,è¿”å›åŸºäºå€¼çš„ä¿¡æ¯ï¼š</li>
</ul>
<pre><code class="javascript">import React from &quot;react&quot;;

const ValueMessage = (&#123; value &#125;) =&gt; &#123;
  let message = &quot;&quot;;
  if (value &gt; 10) &#123;
    message = &quot;Value is greater than 10&quot;;
  &#125; else if (value &lt; 0) &#123;
    message = &quot;Value is negative&quot;;
  &#125; else &#123;
    message = &quot;Value is between 0 and 10&quot;;
  &#125;
  return &lt;div&gt;&#123;message&#125;&lt;/div&gt;;
&#125;;

export default ValueMessage;
</code></pre>
<p>ä¸ºäº†ç»™è¿™ä¸ªç»„ä»¶å†™æœ‰æ•ˆçš„å•å…ƒæµ‹è¯•ï¼Œæˆ‘ä»¬åº”è¯¥åŒæ—¶æµ‹è¯•ç¬¦åˆé¢„æœŸå’Œä¸ç¬¦åˆé¢„æœŸçš„è¡Œä¸ºï¼šæµ‹è¯•ç¬¦åˆé¢„æœŸçš„è¡Œä¸ºï¼›</p>
<pre><code class="javascript">import React from &#39;react&#39;;
import &#123; render &#125; from &#39;@testing-library/react&#39;;
import ValueMessage from &#39;./ValueMessage&#39;;

test(&#39;displays &quot;Value is greater than 10&quot; when value is greater than 10&#39;, () =&gt; &#123;
  const value = 11;
  const &#123; getByText &#125; = render(&lt;ValueMessage value=&#123;value&#125; /&gt;);
  expect(getByText(&#39;Value is greater than 10&#39;)).toBeInTheDocument();
&#125;);

test(&#39;displays &quot;Value is between 0 and 10&quot; when value is between 0 and 10&#39;, () =&gt; &#123;
  const value = 5;
  const &#123; getByText &#125; = render(&lt;ValueMessage value=&#123;value&#125; /&gt;);
  expect(getByText(&#39;Value is between 0 and 10&#39;)).toBeInTheDocument();
&#125;);

test(&#39;displays &quot;Value is negative&quot; when value is negative&#39;, () =&gt; &#123;
  const value = -5;
  const &#123; getByText &#125; = render(&lt;ValueMessage value=&#123;value&#125; /&gt;);
  expect(getByText(&#39;Value is negative&#39;)).toBeInTheDocument();
&#125;);
</code></pre>
<p>ç°åœ¨æ¥æµ‹è¯•ä¸€äº›ä¸ç¬¦åˆé¢„æœŸçš„è¡Œä¸ºï¼›</p>
<pre><code class="javascript">import React from &#39;react&#39;;
import &#123; render &#125; from &#39;@testing-library/react&#39;;
import ValueMessage from &#39;./ValueMessage&#39;;

test(&#39;displays &quot;Value is between 0 and 10&quot; when value is undefined&#39;, () =&gt; &#123;
  const &#123; getByText &#125; = render(&lt;ValueMessage value=&#123;undefined&#125; /&gt;);
  expect(getByText(&#39;Value is between 0 and 10&#39;)).toBeInTheDocument();
&#125;);

test(&#39;displays &quot;Value is between 0 and 10&quot; when value is null&#39;, () =&gt; &#123;
  const &#123; getByText &#125; = render(&lt;ValueMessage value=&#123;null&#125; /&gt;);
  expect(getByText(&#39;Value is between 0 and 10&#39;)).toBeInTheDocument();
&#125;);

test(&#39;displays &quot;Value is between 0 and 10&quot; when value is NaN&#39;, () =&gt; &#123;
  const &#123; getByText &#125; = render(&lt;ValueMessage value=&#123;NaN&#125; /&gt;);
  expect(getByText(&#39;Value is between 0 and 10&#39;)).toBeInTheDocument();
&#125;);
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡æä¾›ç»™ç»„ä»¶åˆæ³•çš„è¾“å…¥ï¼ˆå¤§äº10ï¼Œ1-10ï¼Œè´Ÿæ•°çš„æ•°å­—ï¼‰æµ‹è¯•ç¬¦åˆé¢„æœŸçš„è¡Œä¸ºã€‚æˆ‘ä»¬ä¹Ÿæµ‹è¯•äº†ä¸ç¬¦åˆé¢„æœŸçš„è¡Œä¸ºï¼Œæ¯”å¦‚ç»™ç»„ä»¶çš„valueçš„propsæä¾›undefinedï¼Œnullå’ŒNaNã€‚è¾¹ç¼˜ç”¨ä¾‹å¸®åŠ©ç¡®ä¿ç»„ä»¶å¯ä»¥ä¼˜é›…å¤„ç†ä¸åˆæ³•è¾“å…¥ï¼Œé¿å…appå´©æºƒã€‚</p>
<ul>
<li><p><strong>ä½¿ç”¨åˆç†çš„æµ‹è¯•æ–¹å¼</strong>: React Testing Library æä¾›äº†ä¸åŒçš„æµ‹è¯•ç»„ä»¶çš„æ–¹æ³•ï¼Œæ¯”å¦‚ï¼šrender,fireEventå’Œwaitã€‚ä¸ºä½ è¦æµ‹è¯•çš„è¡Œä¸ºé€‰æ‹©åˆç†çš„æ–¹æ³•ã€‚</p>
</li>
<li><p><strong>é¿å…æµ‹è¯•è¿˜æ²¡æœ‰å®ç°çš„ç»†èŠ‚</strong>: ç»„ä»¶ä¹Ÿè®¸å†…éƒ¨ä¼šå˜åŒ–ï¼Œä½†æ˜¯åªè¦ä»–ä»¬çš„è¡Œä¸ºä¸å˜ï¼Œæˆ‘ä»¬çš„æµ‹è¯•ä»ç„¶å¯ä»¥é€šè¿‡ã€‚é¿å…æµ‹è¯•å†…éƒ¨çš„å®ç°ç»†èŠ‚ï¼Œè€Œæ˜¯ä¸“æ³¨äºæµ‹è¯•ç»„ä»¶çš„å…¬å…±APIã€‚ä¸¾ä¾‹æ¥è¯´,å‡è®¾ä½ æœ‰ä¸€ä¸ª<Counter /> ç»„ä»¶,åœ¨å±å¹•ä¸Šæ˜¾ç¤ºä¸€ä¸ªæ•°å­—,å…è®¸ç”¨æˆ·å¢åŠ æˆ–å‡å°‘è¿™ä¸ªæ•°å­—.è¿™é‡Œæ˜¯ä¸€ä¸ªä¾‹å­å±•ç¤ºäº†ä½ åœ¨<Counter />ç»„ä»¶ä¹Ÿè®¸æƒ³è¦æµ‹è¯•ä»€ä¹ˆ:</p>
</li>
</ul>
<pre><code class="javascript">it(&quot;renders the correct number&quot;, () =&gt; &#123;
  const wrapper = shallow(&lt;Counter value=&#123;3&#125; /&gt;);
  expect(wrapper.text()).toEqual(&quot;3&quot;);
&#125;);

it(&quot;increments the value correctly&quot;, () =&gt; &#123;
  const wrapper = shallow(&lt;Counter value=&#123;3&#125; /&gt;);
  wrapper.find(&quot;[data-test=&#39;increment-button&#39;]&quot;).simulate(&quot;click&quot;);
  expect(wrapper.text()).toEqual(&quot;4&quot;);
&#125;);

it(&quot;decrements the value correctly&quot;, () =&gt; &#123;
  const wrapper = shallow(&lt;Counter value=&#123;3&#125; /&gt;);
  wrapper.find(&quot;[data-test=&#39;decrement-button&#39;]&quot;).simulate(&quot;click&quot;);
  expect(wrapper.text()).toEqual(&quot;2&quot;);
&#125;);
</code></pre>
<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­,æµ‹è¯•ä¸“æ³¨äº<Counter />ç»„ä»¶çš„è¡Œä¸ºã€‚ä»–ä»¬æ£€æµ‹ç»„ä»¶æ˜¯å¦æ¸²æŸ“äº†æ­£ç¡®çš„æ•°å­—ï¼ŒåŒæ—¶ä¹Ÿæ£€æµ‹ç”¨æˆ·æ˜¯å¦å¯ä»¥å¢åŠ æˆ–å‡å°‘æ•°å­—ã€‚å³ä½¿ç»„ä»¶çš„æ‰§è¡Œå˜äº†ï¼Œåªè¦è¡Œä¸ºä¸å˜ï¼Œæµ‹è¯•åº”è¯¥ä»ç„¶ä¼šé€šè¿‡ã€‚é¿å…æµ‹è¯•å†…éƒ¨å®ç°ç»†èŠ‚éå¸¸é‡è¦ï¼Œæ¯”å¦‚ç”¨äºå±•ç¤ºä¸€ä¸ªæ•°å­—æˆ–è€…æŒ‰é’®çš„ç‰¹å®šHTMLå…ƒç´ ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œç»„ä»¶ä¹Ÿè®¸ä¼šä»ä½¿ç”¨<p> å…ƒç´ å±•ç¤ºæ•°å­—å˜æˆä½¿ç”¨è‡ªå®šä¹‰çš„<Display>ç»„ä»¶å±•ç¤ºã€‚åªè¦ç»„ä»¶è¡¨ç°ä¸€è‡´ï¼Œæµ‹è¯•åº”è¯¥ä»ç„¶ä¼šé€šè¿‡ï¼›å°±ä¸éœ€è¦æ›´æ–°æµ‹è¯•ã€‚</p>
<ul>
<li><strong>ä½¿ç”¨æµ‹è¯•æ›¿èº«</strong>:<br>ä½¿ç”¨æµ‹è¯•æ›¿èº«ï¼Œæ¯”å¦‚mock,spyå’Œstubæ¥éš”ç¦»ä»–ä»¬çš„ä¾èµ–å’Œç»„ä»¶ï¼Œè®©æµ‹è¯•æ›´å¿«å’Œæ›´å¯é ã€‚æµ‹è¯•æ›¿èº«å¯ä»¥éš”ç¦»ç»„ä»¶å’Œä¾èµ–ï¼Œè®©æµ‹è¯•æ›´åŠ å¿«é€Ÿå’Œå¯é ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå‡è®¾ä½ æœ‰<FetchData />ç»„ä»¶ï¼Œå®ƒä»APIè·å–æ•°æ®å¹¶ä¸”åœ¨å±å¹•ä¸Šå±•ç¤ºã€‚å½“æµ‹è¯•<FetchData />ç»„ä»¶çš„æ—¶å€™ï¼Œä½ ä¸æƒ³å‘é€ä¸€ä¸ªAPIçš„ç½‘ç»œè¯·æ±‚ï¼Œå› ä¸ºè¿™ä¼šå‡ç¼“æµ‹è¯•é€Ÿåº¦ï¼Œå¹¶ä¸”æ²¡æœ‰é‚£ä¹ˆå¯é ï¼ˆæ¯”å¦‚ï¼ŒAPIä¼šæŒ‚æ‰ï¼Œå“åº”åœ¨æ¯æ¬¡è¿”å›éƒ½ä¸åŒï¼‰ã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œä½ å¯ä»¥ä½¿ç”¨æµ‹è¯•æ›¿èº«æ¥æ¨¡æ‹ŸAPIå“åº”ã€‚è¿™é‡Œæ¼”ç¤ºäº†å¦‚ä½•ä½¿ç”¨mockæ¥æµ‹è¯•<FetchData /> ç»„ä»¶ï¼š</li>
</ul>
<pre><code class="javascript">it(&quot;renders data correctly&quot;, () =&gt; &#123;
  const apiResponse = [
    &#123; id: 1, name: &quot;John&quot; &#125;,
    &#123; id: 2, name: &quot;Jane&quot; &#125;,
  ];
  const mockFetchData = jest.fn().mockResolvedValue(apiResponse);
  const wrapper = shallow(&lt;FetchData fetchData=&#123;mockFetchData&#125; /&gt;);

  // ç­‰å¾…ç»„ä»¶æ¸²æŸ“
  setTimeout(() =&gt; &#123;
    expect(wrapper.text()).toContain(&quot;John&quot;);
    expect(wrapper.text()).toContain(&quot;Jane&quot;);
  &#125;, 0);
&#125;);
</code></pre>
<p>è¿™ä¸ªä¾‹å­ä¸­ï¼Œ mockFetchDataå‡½æ•°æ¨¡ä»¿APIå“åº”ã€‚mockFetchDataå‡½æ•°ä½œä¸ºpropä¼ é€’ç»™<FetchData />ç»„ä»¶ï¼Œæ‰€ä»¥ä¼šè°ƒç”¨mockFetchDataè€Œä¸æ˜¯çœŸæ­£çš„ç½‘ç»œè¯·æ±‚ã€‚è¿™è®©æµ‹è¯•æ›´åŠ å¿«æ·ä¸”å¯é ï¼Œå› ä¸ºæµ‹è¯•ä¸å†ä¾èµ–APIã€‚<br>ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨spieså’Œstubsæ¥éš”ç¦»ç»„ä»¶å’Œä»–ä»¬çš„ä¾èµ–ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œä½ ä¹Ÿè®¸ä¼šä½¿ç”¨spyæ£€æµ‹æŸä¸ªåŠŸèƒ½æ˜¯å¦è¢«è°ƒç”¨æˆ–è€…ä½¿ç”¨stubç”¨ç®€å•ç‰ˆæœ¬çš„å¯¹è±¡ä»£æ›¿çœŸæ­£çš„å¯¹è±¡æ¥æµ‹è¯•ã€‚ä½¿ç”¨æµ‹è¯•æ›¿èº«æ˜¯æŠŠç»„ä»¶å’Œä¾èµ–æœ‰æ•ˆçš„éš”ç¦»å¼€æ¥ï¼Œè®©æµ‹è¯•æ›´åŠ å¿«æ·å’Œå¯é ã€‚è¿™æ˜¯æµ‹è¯•å·¥å…·åŒ…ä¸­çš„ä¸€é¡¹çè´µçš„æŠ€æœ¯ã€‚</p>
<ul>
<li>ä¿æŒæµ‹è¯•ç”¨ä¾‹æœ€æ–°:è®©æµ‹è¯•ç”¨ä¾‹è·Ÿéšä»£ç çš„æœ€æ–°ä¿®æ”¹è€Œæ›´æ–°ã€‚è¿™å¯ä»¥ç¡®ä¿æµ‹è¯•ç”¨ä¾‹ä¸€ç›´åˆæ³•å’Œæœ‰ä½œç”¨ã€‚</li>
<li>éš”ç¦»æµ‹è¯•ï¼š å°½å¯èƒ½éš”ç¦»æµ‹è¯•ç»„ä»¶é¿å…æµ‹è¯•ä¾èµ–é¡¹ã€‚</li>
</ul>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>å•å…ƒæµ‹è¯•å¸®åŠ©æˆ‘ä»¬ç¡®ä¿ç»„ä»¶æ­£å¸¸å·¥ä½œä»¥åŠå¯¹ä»£ç åº“åšçš„ä¿®æ”¹ä¸ä¼šç ´åå·²æœ‰åŠŸèƒ½ã€‚è¿™å¯ä»¥æ˜¾è‘—æé«˜Reactåº”ç”¨çš„æ•´ä½“è´¨é‡å’Œå¯é æ€§ã€‚ é™¤æ­¤ä¹‹å¤–ï¼ŒReact testing library ä¹Ÿå¾ˆå®¹æ˜“ä½¿ç”¨ã€‚å®ƒèƒ½å’Œå…¶ä»–æµ‹è¯•æ¡†æ¶å¾ˆå¥½çš„é›†æˆï¼Œè¿™å¯¹ä»»ä½•ä¸€ä¸ªæœŸæœ›åœ¨ä»–ä»¬é¡¹ç›®é‡Œå®ç°å•å…ƒæµ‹è¯•çš„Reactå¼€å‘è€…éƒ½æ˜¯ä¸€ä¸ªå¥½çš„é€‰æ‹©ã€‚</p>

    </div>

    <div class="post-meta">
        <i>
        
            <span>2023-04-18</span>
            
                <span>è¯¥ç¯‡æ–‡ç« è¢« Moon</span>
            
            
                <span>æ‰“ä¸Šæ ‡ç­¾:
                    
                    
                        <a href='/tags/React/'>
                            React
                        </a>
                    
                </span>
             
             
                <span>å½’ä¸ºåˆ†ç±»:
                    
                    
                        <a href='/categories/%E7%BF%BB%E8%AF%91/'>
                            ç¿»è¯‘
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    
        
    <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        ä»¥ä¸Šã€‚ 
    </div>
    
        

    <div id="waline"></div>
    <script type="module"  >
        import { init } from 'https://npm.elemecdn.com/hexo-theme-a4@latest/source/js/waline.mjs'; 
        function loadWaline() {
            init({
                el: '#waline',
                serverURL: 'https://comment-hexo-waline.vercel.app/',
                lang: 'zh-CN',
                dark: 'body[class~="dark-mode"]',
                requiredMeta: ['nick','mail'], // cannot customize by theme config, change it yourself
                search: false, // ç¦æ­¢è¡¨æƒ…åŒ…æœç´¢
                reaction: false, // å¯¹æ–‡ç« æ‰“åˆ†
                pageview: false, // æµè§ˆé‡ç»Ÿè®¡
                comment: false, // è¯„è®ºæ•°ç»Ÿè®¡

                locale: {
                    placeholder: 'æ­£ç¡®çš„é‚®ç®±åœ°å€ï¼Œå›å¤å°†èƒ½å¾—åˆ°é‚®ä»¶é€šçŸ¥ã€‚', 
                    sofa: ''
                },
            });
            
        }
        window.addEventListener('DOMContentLoaded', loadWaline);
    </script>



    
    
    
    </div>


     
</div>



                    
                    
                    <div class="footer">
    
        <span> 
            Â©2021-2023 China 

            
                

            
        </span>
    
</div>
<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>ğŸŒŠçœ‹è¿‡å¤§æµ·çš„äººä¸ä¼šå¿˜è®°æµ·çš„å¹¿é˜”ğŸŒŠ</span>
            
    
</div>


    
<link rel="stylesheet" href="/css/a11y-dark.min.css">

    
<script src="/js/highlight.min.js"></script>

    
<script src="/js/highlightjs-line-numbers.js"></script>



<script>
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
</script>
                </div>
            
    </body>
</html>