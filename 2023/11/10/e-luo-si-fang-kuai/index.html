<!DOCTYPE html>
<html lang="zh-CN">
    <head>
    <meta charset="utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0,  viewport-fit=cover" name="viewport" />
    <meta name="description" content="ä¿„ç½—æ–¯æ–¹å—" />
    <meta name="hexo-theme-A4" content="v1.7.1" />
    <link rel="alternate icon" type="image/webp" href="/img/favicon.webp">
    <title>Diary</title>

    
        
<link rel="stylesheet" href="/css/reset.css">

        
<link rel="stylesheet" href="/css/markdown.css">

        
<link rel="stylesheet" href="/css/fonts.css">
 
         <!--æ³¨æ„ï¼šé¦–é¡µæ—¢ä¸æ˜¯postä¹Ÿä¸æ˜¯page-->
        
            
<link rel="stylesheet" href="/css/waline.css">

        
    
    
<link rel="stylesheet" href="/css/ui.css">
 
    
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 6.3.0"></head>
    
    <body>
        <div class="paper">
            
            
            
            
                <div class="shadow-drop-2-bottom paper-main">
                    
<div class="header">
    <div class="header-container">
        <img style="
        width: 56px;
        height: auto;" alt="^-^" cache-control="max-age=86400" class="header-img" src="/img/favicon.webp" width="10%"></img>
        <div class="header-content">
            <a class="logo" href="/">Diary</a> 
            <span class="description">å¤‡å¿˜å½•/ç¬”è®°æœ¬</span> 
        </div>
        
    </div>
    
   
    <ul class="nav">
        
            
                <li><a href="/">é¦–é¡µ</a></li>
            
        
            
                <li><a href="/list/">æ–‡ç« </a></li>
            
        
            
                <li><a href="/categories/">åˆ†ç±»</a></li>
            
        
    </ul>
</div> 
        
                    
                    

                    
                    
                    
                    <!--è¯´æ˜æ˜¯æ–‡ç« posté¡µé¢-->
                    
                        <div class="post-main">

    
        <div class="post-main-title">
            ä¿„ç½—æ–¯æ–¹å—
        </div>
      
    

    <div class="post-md">
        
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96-pygame"><span class="post-toc-text">åˆå§‹åŒ– pygame</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%B8%BB%E5%BE%AA%E7%8E%AF"><span class="post-toc-text">ä¸»å¾ªç¯</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#pygame-event-get-%E6%96%B9%E6%B3%95"><span class="post-toc-text">pygame.event.get()æ–¹æ³•</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%88%9B%E5%BB%BA%E7%94%BB%E9%9D%A2"><span class="post-toc-text">åˆ›å»ºç”»é¢</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%98%BE%E7%A4%BA%E5%9B%BE%E7%89%87"><span class="post-toc-text">æ˜¾ç¤ºå›¾ç‰‡</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#get-rect-%E6%96%B9%E6%B3%95"><span class="post-toc-text">get_rect()æ–¹æ³•</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#blit-image-position-%E6%96%B9%E6%B3%95"><span class="post-toc-text">blit(image,position)æ–¹æ³•</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E8%AE%A9%E5%9B%BE%E7%89%87%E5%8A%A8%E8%B5%B7%E6%9D%A5"><span class="post-toc-text">è®©å›¾ç‰‡åŠ¨èµ·æ¥</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%8E%BB%E6%8E%89%E6%AE%8B%E5%BD%B1"><span class="post-toc-text">å»æ‰æ®‹å½±</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%8E%A7%E5%88%B6%E7%A7%BB%E5%8A%A8"><span class="post-toc-text">æ§åˆ¶ç§»åŠ¨</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#get-pressed-%E6%96%B9%E6%B3%95"><span class="post-toc-text">get_pressed()æ–¹æ³•</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Rect-move-ip-x-y-%E6%96%B9%E6%B3%95"><span class="post-toc-text">Rect.move_ip(x,y)æ–¹æ³•</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%A2%9E%E5%8A%A0%E4%B8%8A%E4%B8%8B%E6%96%B9%E5%90%91%E7%A7%BB%E5%8A%A8"><span class="post-toc-text">å¢åŠ ä¸Šä¸‹æ–¹å‘ç§»åŠ¨</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%9D%97%E7%B1%BB"><span class="post-toc-text">å®ç°æ–¹å—ç±»</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%9C%A8%E4%B8%BB%E5%87%BD%E6%95%B0%E4%B8%AD%E8%BF%9B%E8%A1%8C%E8%B0%83%E7%94%A8"><span class="post-toc-text">åœ¨ä¸»å‡½æ•°ä¸­è¿›è¡Œè°ƒç”¨</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%A4%9A%E5%AE%9E%E4%BE%8B"><span class="post-toc-text">å¤šå®ä¾‹</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%8B%86%E5%88%86%E6%96%87%E4%BB%B6"><span class="post-toc-text">æ‹†åˆ†æ–‡ä»¶</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E9%80%BB%E8%BE%91%E5%92%8C%E8%A1%A8%E7%8E%B0%E5%88%86%E7%A6%BB"><span class="post-toc-text">é€»è¾‘å’Œè¡¨ç°åˆ†ç¦»</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#transform-scale"><span class="post-toc-text">transform.scale()</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E7%94%9F%E6%88%90%E5%A4%9A%E4%B8%AA%E6%96%B9%E5%9D%97"><span class="post-toc-text">ç”Ÿæˆå¤šä¸ªæ–¹å—</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%B8%BB%E6%B5%81%E7%A8%8B%E6%B8%B2%E6%9F%93%E6%96%B9%E5%9D%97"><span class="post-toc-text">ä¸»æµç¨‹æ¸²æŸ“æ–¹å—</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#relPos"><span class="post-toc-text">relPos</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E7%BB%84%E5%90%88%E6%96%B9%E5%9D%97"><span class="post-toc-text">ç»„åˆæ–¹å—</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#BlockGroup-%E7%B1%BB"><span class="post-toc-text">BlockGroup ç±»</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%A8%A1%E6%8B%9F%E4%B8%8B%E8%90%BD"><span class="post-toc-text">æ¨¡æ‹Ÿä¸‹è½</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%A1%86%E6%9E%B6%E4%BB%A3%E7%A0%81"><span class="post-toc-text">æ¡†æ¶ä»£ç </span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E7%A1%AE%E5%AE%9A%E6%B8%B8%E6%88%8F%E4%B8%BB%E9%80%BB%E8%BE%91"><span class="post-toc-text">ç¡®å®šæ¸¸æˆä¸»é€»è¾‘</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#BlockGroup-%E7%9A%84%E5%A4%9A%E6%80%81"><span class="post-toc-text">BlockGroup çš„å¤šæ€</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%A8%A1%E6%8B%9F%E7%A2%B0%E6%92%9E"><span class="post-toc-text">æ¨¡æ‹Ÿç¢°æ’</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%8E%A7%E5%88%B6%E5%B7%A6%E5%8F%B3%E7%A7%BB%E5%8A%A8"><span class="post-toc-text">æ§åˆ¶å·¦å³ç§»åŠ¨</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%8E%A7%E5%88%B6%E5%B7%A6%E5%8F%B3%E7%A7%BB%E5%8A%A8%E9%80%9F%E5%BA%A6"><span class="post-toc-text">æ§åˆ¶å·¦å³ç§»åŠ¨é€Ÿåº¦</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%8E%A7%E5%88%B6%E4%B8%8B%E8%90%BD%E9%80%9F%E5%BA%A6"><span class="post-toc-text">æ§åˆ¶ä¸‹è½é€Ÿåº¦</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%96%B9%E5%9D%97%E6%97%8B%E8%BD%AC"><span class="post-toc-text">æ–¹å—æ—‹è½¬</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%96%B9%E5%9D%97%E6%B6%88%E9%99%A4"><span class="post-toc-text">æ–¹å—æ¶ˆé™¤</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E7%BB%93%E6%9D%9F%E6%B6%88%E9%99%A4"><span class="post-toc-text">ç»“æŸæ¶ˆé™¤</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%A4%B1%E8%B4%A5%E5%88%A4%E5%AE%9A"><span class="post-toc-text">å¤±è´¥åˆ¤å®š</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E8%AE%A1%E5%88%86%E8%A7%84%E5%88%99"><span class="post-toc-text">è®¡åˆ†è§„åˆ™</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%B8%8B%E4%B8%AA%E6%96%B9%E5%9D%97"><span class="post-toc-text">ä¸‹ä¸ªæ–¹å—</span></a></li></ol>
        
        <h2 id="åˆå§‹åŒ–-pygame"><a href="#åˆå§‹åŒ–-pygame" class="headerlink" title="åˆå§‹åŒ– pygame"></a>åˆå§‹åŒ– pygame</h2><ol>
<li>å¼•å…¥ pygame åŒ…</li>
<li>è°ƒç”¨ pygame çš„ init æ–¹æ³•è¿›è¡Œåˆå§‹åŒ–</li>
</ol>
<pre><code class="py">import pygame
from pygame.locals import *

pygame.init()
</code></pre>
<p>2 ä¸ª import çš„åŒºåˆ«æ˜¯ï¼šç¬¬äºŒä¸ª import å¯¼å‡ºçš„å˜é‡å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œä¸éœ€è¦åŠ åŒ…åå‰ç¼€</p>
<h2 id="ä¸»å¾ªç¯"><a href="#ä¸»å¾ªç¯" class="headerlink" title="ä¸»å¾ªç¯"></a>ä¸»å¾ªç¯</h2><ol>
<li>ä½¿ç”¨ set_mode æ–¹æ³•å®šä¹‰ä¸€ä¸ªæ¸¸æˆçª—å£</li>
<li>ä½¿ç”¨ while åšä¸€ä¸ªæ­»å¾ªç¯ï¼Œä½¿ç”¨ udpate æ–¹æ³•ä¸æ–­æ›´æ–°æ¸¸æˆçª—å£</li>
<li>æ·»åŠ é€€å‡ºæœºåˆ¶</li>
</ol>
<pre><code class="py">pygame.init()
while True:
    for event in pygame.event.get():
        if event.type== QUIT:
            pygame.quit()
            sys.exit()
    pygame.display.update()
</code></pre>
<h3 id="pygame-event-get-æ–¹æ³•"><a href="#pygame-event-get-æ–¹æ³•" class="headerlink" title="pygame.event.get()æ–¹æ³•"></a>pygame.event.get()æ–¹æ³•</h3><p>ä½œç”¨ï¼šä»äº‹ä»¶é˜Ÿåˆ—ä¸­è·å–å½“å‰æ‰€æœ‰<em>æŒ‚èµ·çš„äº‹ä»¶</em>(äº‹ä»¶é˜Ÿåˆ—ä¸­ç­‰å¾…å¤„ç†çš„äº‹ä»¶)ï¼Œå¹¶å°†å…¶ä»äº‹ä»¶é˜Ÿåˆ—ä¸­ç§»é™¤<br>åœ¨è°ƒç”¨ pygame.event.get() æ–¹æ³•åï¼Œäº‹ä»¶é˜Ÿåˆ—ä¸­ä¸å†ä¿ç•™è¿™äº›äº‹ä»¶ï¼Œä¼šè¢«ç›´æ¥æ¸…ç©º</p>
<h2 id="åˆ›å»ºç”»é¢"><a href="#åˆ›å»ºç”»é¢" class="headerlink" title="åˆ›å»ºç”»é¢"></a>åˆ›å»ºç”»é¢</h2><p>ä½¿ç”¨ set_mode æ–¹æ³•åˆ›å»ºä¸€ä¸ªæ¸¸æˆçª—å£</p>
<pre><code class="py">pygame.init()
DISPLAYSURF=pygame.display.set_mode((800,600))
while True:
    for event in pygame.event.get():
        if event.type== QUIT:
            pygame.quit()
            sys.exit()
    pygame.display.update()
</code></pre>
<h2 id="æ˜¾ç¤ºå›¾ç‰‡"><a href="#æ˜¾ç¤ºå›¾ç‰‡" class="headerlink" title="æ˜¾ç¤ºå›¾ç‰‡"></a>æ˜¾ç¤ºå›¾ç‰‡</h2><ol>
<li>image.load æ–¹æ³•åŠ è½½å›¾ç‰‡</li>
<li>get_rect è·å–çŸ©å½¢</li>
<li>é€šè¿‡ä¸¾è¡Œå¯¹è±¡çš„ center å±æ€§è®¾ç½®çŸ©å½¢ä¸­å¿ƒç‚¹</li>
<li>ä½¿ç”¨ blit æ–¹æ³•ç»˜åˆ¶å›¾ç‰‡</li>
</ol>
<pre><code class="py">Image=pygame.image.load(&#39;../pic/red.png&#39;)
Rect=Image.get_rect()
Rect.center=(400,300)
while True:
    for event in pygame.event.get():
        if event.type == QUIT:
            pygame.quit()
            sys.exit()
    DISPLAYSURF.blit(Image,Rect)
    pygame.display.update()
</code></pre>
<h3 id="get-rect-æ–¹æ³•"><a href="#get-rect-æ–¹æ³•" class="headerlink" title="get_rect()æ–¹æ³•"></a>get_rect()æ–¹æ³•</h3><p>ä½œç”¨ï¼šè¿”å›ä¸€ä¸ªä¸å›¾åƒå¤§å°ç›¸åŒ¹é…çš„çŸ©å½¢å¯¹è±¡ï¼Œè¿™ä¸ªçŸ©å½¢å¯ä»¥ç”¨æ¥å®šä½ã€å¤„ç†ç¢°æ’æ£€æµ‹ç­‰æ“ä½œ<br>React å¯¹è±¡ï¼šåŒ…å«äº†å›¾ç‰‡çš„ä½ç½®å’Œå¤§å°ä¿¡æ¯</p>
<h3 id="blit-image-position-æ–¹æ³•"><a href="#blit-image-position-æ–¹æ³•" class="headerlink" title="blit(image,position)æ–¹æ³•"></a>blit(image,position)æ–¹æ³•</h3><p>ä½œç”¨ï¼šå°†å›¾åƒç»˜åˆ¶åˆ°å±å¹•ä¸Š<br>ä½¿ç”¨ï¼šè°ƒç”¨ Surface å¯¹è±¡ï¼ˆæ¯”å¦‚æ¸¸æˆçª—å£æˆ–è€…å…¶ä»–ç”»å¸ƒï¼‰çš„ blit æ–¹æ³•</p>
<h2 id="è®©å›¾ç‰‡åŠ¨èµ·æ¥"><a href="#è®©å›¾ç‰‡åŠ¨èµ·æ¥" class="headerlink" title="è®©å›¾ç‰‡åŠ¨èµ·æ¥"></a>è®©å›¾ç‰‡åŠ¨èµ·æ¥</h2><p>æœ¬è´¨ä¸Šå°±æ˜¯ä¿®æ”¹çŸ©å½¢å¯¹è±¡çš„ä¸­å¿ƒç‚¹</p>
<pre><code class="py">while True:
    for event in pygame.event.get():
        if event.type == QUIT:
            pygame.quit()
            sys.exit()
    DISPLAYSURF.blit(Image,Rect)
    Rect.centerx +=random.randint(-1,1)
    pygame.display.update()
</code></pre>
<h2 id="å»æ‰æ®‹å½±"><a href="#å»æ‰æ®‹å½±" class="headerlink" title="å»æ‰æ®‹å½±"></a>å»æ‰æ®‹å½±</h2><p>åŸå› ï¼šæ¯æ¬¡æ¸²æŸ“å¹¶ä¸ä¼šæ¸…é™¤ä¸Šä¸€å¸§çš„æ¸²æŸ“ç»“æœ<br>è§£å†³æ–¹æ³•ï¼šæ¯æ¬¡æ¸²æŸ“ä¹‹å‰éœ€è¦å¡«å……ä¸€æ¬¡å±å¹•,å¯ä»¥ä½¿ç”¨ fill æ–¹æ³•</p>
<pre><code class="py">while True:
    for event in pygame.event.get():
        if event.type == QUIT:
            pygame.quit()
            sys.exit()
    DISPLAYSURF.fill((0,0,0))
    DISPLAYSURF.blit(Image,Rect)
    Rect.centerx +=random.randint(-1,1)
    pygame.display.update()
</code></pre>
<h2 id="æ§åˆ¶ç§»åŠ¨"><a href="#æ§åˆ¶ç§»åŠ¨" class="headerlink" title="æ§åˆ¶ç§»åŠ¨"></a>æ§åˆ¶ç§»åŠ¨</h2><p>é€šè¿‡è·å–ç”¨æˆ·çš„è¾“å…¥æ¥æ§åˆ¶çŸ©å½¢å¯¹è±¡çš„ç§»åŠ¨</p>
<pre><code class="py">pressed=pygame.key.get_pressed()
if pressed[K_LEFT]:
    Rect.move_ip(-1,0)
elif pressed[K_RIGHT]:
    Rect.move_ip(1,0)
DISPLAYSURF.fill((0,0,0))
DISPLAYSURF.blit(Image,Rect)
pygame.display.update()
</code></pre>
<h3 id="get-pressed-æ–¹æ³•"><a href="#get-pressed-æ–¹æ³•" class="headerlink" title="get_pressed()æ–¹æ³•"></a>get_pressed()æ–¹æ³•</h3><p>ä½œç”¨ï¼šè·å–å½“å‰é”®ç›˜æŒ‰é”®çŠ¶æ€<br>è¿”å›ï¼šä¸€ä¸ªåŒ…å«æ‰€æœ‰æŒ‰é”®å½“å‰çŠ¶æ€çš„å…ƒç»„ï¼Œå¯¹åº”çš„å…ƒç´ å€¼æ˜¯å¸ƒå°”ç±»å‹ã€‚<br>åŸç†ï¼šå…ƒç»„ä¸­çš„é¡ºåºä¸ pygame ä¸­å®šä¹‰çš„é”®ç›˜æŒ‰é”®å¸¸é‡ä¸€ä¸€å¯¹åº”ï¼Œæ‰€ä»¥å¯ä»¥é€šè¿‡ press[key]æ¥åˆ¤æ–­</p>
<h3 id="Rect-move-ip-x-y-æ–¹æ³•"><a href="#Rect-move-ip-x-y-æ–¹æ³•" class="headerlink" title="Rect.move_ip(x,y)æ–¹æ³•"></a>Rect.move_ip(x,y)æ–¹æ³•</h3><p>ä½œç”¨ï¼šæ ¹æ®çŸ©å½¢å¯¹è±¡å½“å‰çš„ä½ç½®è¿›è¡Œç›¸å¯¹ç§»åŠ¨<br>ç§»åŠ¨æ–¹å‘ï¼š<br>çŸ©å½¢å¯¹è±¡ rectï¼Œå…¶åˆå§‹ä½ç½®ä¸º (x1, y1)ï¼Œè°ƒç”¨ rect.move_ip(5, 10) ä¹‹åï¼ŒçŸ©å½¢çš„ä½ç½®å°†å˜ä¸º (x1+5, y1+10)ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒçŸ©å½¢ä¼šåœ¨æ°´å¹³æ–¹å‘ä¸Šå‘å³ç§»åŠ¨ 5 ä¸ªå•ä½ï¼Œåœ¨å‚ç›´æ–¹å‘ä¸Šå‘ä¸‹ç§»åŠ¨ 10 ä¸ªå•ä½</p>
<h2 id="å¢åŠ ä¸Šä¸‹æ–¹å‘ç§»åŠ¨"><a href="#å¢åŠ ä¸Šä¸‹æ–¹å‘ç§»åŠ¨" class="headerlink" title="å¢åŠ ä¸Šä¸‹æ–¹å‘ç§»åŠ¨"></a>å¢åŠ ä¸Šä¸‹æ–¹å‘ç§»åŠ¨</h2><p>å…¶å®å°±æ˜¯å¢åŠ <code>K_UP</code>å’Œ<code>K_DOWN</code>çš„åˆ¤æ–­</p>
<pre><code class="py">pressed=pygame.key.get_pressed()
if pressed[K_LEFT]:
    Rect.move_ip(-1,0)
elif pressed[K_RIGHT]:
    Rect.move_ip(1,0)
elif pressed[K_UP]:
    Rect.move_ip(0,-1)
elif pressed[K_DOWN]:
    Rect.move_ip(0,1)
</code></pre>
<h2 id="å®ç°æ–¹å—ç±»"><a href="#å®ç°æ–¹å—ç±»" class="headerlink" title="å®ç°æ–¹å—ç±»"></a>å®ç°æ–¹å—ç±»</h2><p>æˆ‘ä»¬åœ¨ä¸Šä¸€æ­¥ä¸­ç»˜åˆ¶äº†ä¸€ä¸ªæ–¹å—å¹¶ä¸æ–­æ›´æ–°å±å¹•ï¼Œè€Œæ¸¸æˆæ˜¯ç”±å¾ˆå¤šä¸ªè¿™æ ·çš„æ–¹å—ç»„æˆçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥å°†å…¶å°è£…æˆä¸€ä¸ª Classã€‚å®ç°æ–¹å—ç±»ä¸»è¦æœ‰ 2 ä¸ªæ­¥éª¤</p>
<ol>
<li>å®šä¹‰åˆå§‹åŒ–æ–¹æ³•__init__,åœ¨åˆå§‹åŒ–æ–¹æ³•ä¸­å®šä¹‰éœ€è¦çš„å±æ€§</li>
<li>å®šä¹‰æ–¹æ³•</li>
</ol>
<p>é¦–å…ˆï¼Œä¸€ä¸ªæ–¹å—ï¼Œåº”è¯¥æœ‰ä¸€ä¸ªå›¾åƒ image ç”¨äºç»˜åˆ¶ï¼Œç„¶åè¿˜éœ€è¦è®¾ç½®å®ƒçš„ä½ç½®,å³ rectã€‚<br>å…¶æ¬¡ï¼Œä»–éœ€è¦ä¸€ä¸ª update çš„æ›´æ–°æ–¹æ³•ï¼Œç”¨äºè®°å½•æ–¹å—çš„è¿åŠ¨ï¼Œæœ€åéœ€è¦ä¸€ä¸ª draw æ–¹æ³•è¿›è¡Œæ–¹å—çš„ç»˜åˆ¶</p>
<pre><code class="py">class Block(pygame.sprite.Sprite):
    def __init__(self):
        super().__init__()
        self.image=pygame.image.load(&#39;../pic/red.png&#39;)
        self.rect=self.image.get_rect()
        self.rect.center=(400,300)
    def update(self):
        pressed=pygame.key.get_pressed()
        if pressed[K_LEFT]:
            self.rect.move_ip(-1,0)
        elif pressed[K_RIGHT]:
            self.rect.move_ip(1,0)
        elif pressed[K_UP]:
            self.rect.move_ip(0,-1)
        elif pressed[K_DOWN]:
            self.rect.move_ip(0,1)
    def draw(self,surface):
        surface.blit(self.image,self.rect)
</code></pre>
<h3 id="åœ¨ä¸»å‡½æ•°ä¸­è¿›è¡Œè°ƒç”¨"><a href="#åœ¨ä¸»å‡½æ•°ä¸­è¿›è¡Œè°ƒç”¨" class="headerlink" title="åœ¨ä¸»å‡½æ•°ä¸­è¿›è¡Œè°ƒç”¨"></a>åœ¨ä¸»å‡½æ•°ä¸­è¿›è¡Œè°ƒç”¨</h3><ol>
<li>æ–°å»ºä¸€ä¸ª Block å®ä¾‹ b</li>
<li>è°ƒç”¨ udpate æ–¹æ³•è®°å½•è¿åŠ¨</li>
<li>è°ƒç”¨ draw æ–¹æ³•ç»˜åˆ¶é˜²çª¥å•Š</li>
</ol>
<pre><code class="py">b=Block()
while True:
    for event in pygame.event.get():
        if event.type == QUIT:
            pygame.quit()
            sys.exit()
    b.update()
    DISPLAYSURF.fill((0,0,0))
    b.draw(DISPLAYSURF)
    pygame.display.update()
</code></pre>
<h2 id="å¤šå®ä¾‹"><a href="#å¤šå®ä¾‹" class="headerlink" title="å¤šå®ä¾‹"></a>å¤šå®ä¾‹</h2><p>å¤šå®ä¾‹å³éœ€è¦ä½¿ç”¨ä¸ä¸€æ ·çš„å›¾ç‰‡å’Œä½ç½®åˆå§‹åŒ– block å®ä¾‹ã€‚æ‰€ä»¥å¯ä»¥å°†æ–¹å—å›¾ç‰‡å’Œä½ç½®ä½œä¸º init å‡½æ•°çš„å‚æ•°</p>
<pre><code class="py">class BlockType:
    RED=0
    ORANGE=1
    YELLOW=2
    GREEN=3
    CYAN=4
    BLUE=5
    PURPLE=6
    BLOCKMAX=7

BLOCK_RES=&#123;
    BlockType.RED:&#39;../pic/red.png&#39;,
    BlockType.ORANGE:&#39;../pic/orange.png&#39;,
    BlockType.YELLOW:&#39;../pic/yellow.png&#39;,
    BlockType.GREEN:&#39;../pic/green.png&#39;,
    BlockType.CYAN:&#39;../pic/cyan.png&#39;,
    BlockType.BLUE:&#39;../pic/blue.png&#39;,
    BlockType.PURPLE:&#39;../pic/purple.png&#39;,
&#125;
class Block(pygame.sprite.Sprite):
    def __init__(self,blockType,pos):
        super().__init__()
        self.image=pygame.image.load(BLOCK_RES[blockType])
        self.rect=self.image.get_rect()
        self.rect.center=pos
</code></pre>
<h2 id="æ‹†åˆ†æ–‡ä»¶"><a href="#æ‹†åˆ†æ–‡ä»¶" class="headerlink" title="æ‹†åˆ†æ–‡ä»¶"></a>æ‹†åˆ†æ–‡ä»¶</h2><p>åˆ°ä¸Šä¸€æ­¥ä¹‹åï¼Œç›®å‰çš„ main.py ä»£ç è¡Œæ•°å·²ç»è¾ƒå¤šï¼Œä¸” Block ç±»ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„ç±»å¯ä»¥æ‹†åˆ†åˆ° block.pyï¼Œé¡¹ç›®ä¸­çš„å¸¸é‡å¯ä»¥æ‹†åˆ†åˆ° const.py</p>
<h2 id="é€»è¾‘å’Œè¡¨ç°åˆ†ç¦»"><a href="#é€»è¾‘å’Œè¡¨ç°åˆ†ç¦»" class="headerlink" title="é€»è¾‘å’Œè¡¨ç°åˆ†ç¦»"></a>é€»è¾‘å’Œè¡¨ç°åˆ†ç¦»</h2><p>å¸Œæœ›å¯ä»¥æ ¹æ®æ–¹å—ç±»ä¸‹ã€è¡Œ&#x2F;åˆ—åæ ‡ã€å®½&#x2F;é«˜ä»¥åŠç›¸å¯¹ä½ç½®æ¥å®ç°å¤šæ€ã€‚æ ¹æ®ä¼ å‚æ¥ç¡®å®šä½¿ç”¨å“ªå¼ å›¾ç‰‡ã€å®é™…å°ºå¯¸ä»¥åŠç¡®å®šä½ç½®</p>
<pre><code class="py"># block.py
def __init__(self,blockType,rowIdx,colIdx,width,height,relPos):
    super().__init__()
    self.blockType=blockType
    self.rowIdx=rowIdx
    self.colIdx=colIdx
    self.width=width
    self.height=height
    self.relPos=relPos
    self.loadImage()
    self.updateImagePos()
def loadImage(self):
    self.image=pygame.image.load(BLOCK_RES[self.blockType])
    self.image=pygame.transform.scale(self.image,(self.width,self.height))
def updateImagePos(self):
    self.rect=self.image.get_rect()
    self.rect.left=self.relPos[0]+self.width*self.colIdx
    self.rect.top=self.relPos[1]+self.height*self.rowIdx
</code></pre>
<h3 id="transform-scale"><a href="#transform-scale" class="headerlink" title="transform.scale()"></a>transform.scale()</h3><p>ä½œç”¨ï¼šç¼©æ”¾å›¾åƒ<br>è¯­æ³•ï¼š<code>pygame.transform.scale(Surface, (width, height))</code></p>
<h3 id="ç”Ÿæˆå¤šä¸ªæ–¹å—"><a href="#ç”Ÿæˆå¤šä¸ªæ–¹å—" class="headerlink" title="ç”Ÿæˆå¤šä¸ªæ–¹å—"></a>ç”Ÿæˆå¤šä¸ªæ–¹å—</h3><pre><code class="py">blcoks=[]
for i in range(GAME_ROW):
    b=[]
    for j in range(GAME_COL):
        currentBlock=Block(random.randint(0,BLEND_MAX),i,j,32,32,(240,50))
        b.append(currentBlock)
    blcoks.append(b)
</code></pre>
<p>æœ€ç»ˆç”Ÿæˆæ˜¯æ•°æ®å¦‚ä¸‹(å‡è®¾ GAME_ROW ä¸º 3ï¼ŒGAME_COL ä¸º 2)ï¼š</p>
<pre><code class="JS">[
    [Block(0, 0), Block(1, 0)],
    [Block(0, 1), Block(1, 1)],
    [Block(0, 2), Block(1, 2)]
]
</code></pre>
<h3 id="ä¸»æµç¨‹æ¸²æŸ“æ–¹å—"><a href="#ä¸»æµç¨‹æ¸²æŸ“æ–¹å—" class="headerlink" title="ä¸»æµç¨‹æ¸²æŸ“æ–¹å—"></a>ä¸»æµç¨‹æ¸²æŸ“æ–¹å—</h3><pre><code class="py">while True:
    for event in pygame.event.get():
        if event.type == QUIT:
            pygame.quit()
            sys.exit()
    for i in range(GAME_ROW):
        for j in range(GAME_COL):
            blcoks[i][j].update()
    DISPLAYSURF.fill((0,0,0))
    for i in range(GAME_ROW):
        for j in range(GAME_COL):
            blcoks[i][j].draw(DISPLAYSURF)
    pygame.display.update()
</code></pre>
<h3 id="relPos"><a href="#relPos" class="headerlink" title="relPos"></a>relPos</h3><p>relPos æŒ‡çš„æ˜¯å·¦ä¸Šæ–¹æ–¹å—çš„çŸ©å½¢å¯¹è±¡ä½ç½®</p>
<h2 id="ç»„åˆæ–¹å—"><a href="#ç»„åˆæ–¹å—" class="headerlink" title="ç»„åˆæ–¹å—"></a>ç»„åˆæ–¹å—</h2><p>å¸¸è§æ–¹å—å½¢çŠ¶ï¼š</p>
<img src="/2023/11/10/e-luo-si-fang-kuai/block.png" class="">
<p>åæ ‡å«ä¹‰ï¼š<br>æ¯ä¸ªå…ƒç»„ (x, y) è¡¨ç¤ºä¸€ä¸ªæ–¹å—ç›¸å¯¹äºå‚è€ƒç‚¹ï¼ˆé€šå¸¸æ˜¯æ—‹è½¬ä¸­å¿ƒï¼‰çš„åç§»é‡ã€‚ä¾‹å¦‚ï¼Œ(0, 0) è¡¨ç¤ºæ–¹å—å½“å‰ä½ç½®ï¼Œ(0, 1) è¡¨ç¤ºå‘ä¸Šç§»åŠ¨ä¸€ä¸ªå•ä½ï¼Œ(1, 0) è¡¨ç¤ºå‘å³ç§»åŠ¨ä¸€ä¸ªå•ä½ï¼Œä»¥æ­¤ç±»æ¨ã€‚</p>
<pre><code class="py">BLOCK_SHAPE=[
    [(0,0),(0,1),(1,0),(1,1)], #æ–¹å½¢
    [(0,0),(0,1),(0,2),(0,3)], #é•¿æ¡
    [(0,0),(0,1),(1,1),(1,2)], #zå­—å½¢
    [(0,1),(1,0),(1,1),(1,2)]  #é£æœºå½¢
]
</code></pre>
<h3 id="BlockGroup-ç±»"><a href="#BlockGroup-ç±»" class="headerlink" title="BlockGroup ç±»"></a>BlockGroup ç±»</h3><p>BlockGroup éœ€è¦ä¸€ä¸ª blockShape å’Œæ–¹å—ç»„åˆçš„é…ç½®</p>
<pre><code class="py">class BlockGroup(object):
    def GenerateBlockConfig(rowIdx,colIdx):
        idx=random.randint(0,len(BLOCK_SHAPE)-1)
        bType=random.randint(0,BlockType.BLOCKMAX-1)
        configList=[]
        for x in range(len(BLOCK_SHAPE[idx])):
            config=&#123;
                &#39;blockType&#39;:bType,
                &#39;rowIdx&#39;:rowIdx+BLOCK_SHAPE[idx][x][0],
                &#39;colIdx&#39;:colIdx+BLOCK_SHAPE[idx][x][1]
            &#125;
            configList.append(config)
        return configList

    def __init__(self,width,height,blockConfigList,relPos):
        super().__init__()
        self.blocks=[]
        for config in blockConfigList:
            blk=Block(config[&#39;blockType&#39;],config[&#39;rowIdx&#39;],config[&#39;colIdx&#39;],width,height,relPos)
            self.blocks.append(blk)

    def draw(self,surface):
        for b in self.blocks:
            b.draw(surface)
</code></pre>
<p>è°ƒç”¨ï¼š</p>
<pre><code class="py">blockGroups=[]
for x in range(5):
    conf=BlockGroup.GenerateBlockConfig(x*4,x)
    blockGroups.append(BlockGroup(32,32,conf,(240,50)))


while True:
    for i in blockGroups:
       i.draw(DISPLAYSURF)
</code></pre>
<h2 id="æ¨¡æ‹Ÿä¸‹è½"><a href="#æ¨¡æ‹Ÿä¸‹è½" class="headerlink" title="æ¨¡æ‹Ÿä¸‹è½"></a>æ¨¡æ‹Ÿä¸‹è½</h2><h2 id="æ¡†æ¶ä»£ç "><a href="#æ¡†æ¶ä»£ç " class="headerlink" title="æ¡†æ¶ä»£ç "></a>æ¡†æ¶ä»£ç </h2><h2 id="ç¡®å®šæ¸¸æˆä¸»é€»è¾‘"><a href="#ç¡®å®šæ¸¸æˆä¸»é€»è¾‘" class="headerlink" title="ç¡®å®šæ¸¸æˆä¸»é€»è¾‘"></a>ç¡®å®šæ¸¸æˆä¸»é€»è¾‘</h2><h2 id="BlockGroup-çš„å¤šæ€"><a href="#BlockGroup-çš„å¤šæ€" class="headerlink" title="BlockGroup çš„å¤šæ€"></a>BlockGroup çš„å¤šæ€</h2><h2 id="æ¨¡æ‹Ÿç¢°æ’"><a href="#æ¨¡æ‹Ÿç¢°æ’" class="headerlink" title="æ¨¡æ‹Ÿç¢°æ’"></a>æ¨¡æ‹Ÿç¢°æ’</h2><h2 id="æ§åˆ¶å·¦å³ç§»åŠ¨"><a href="#æ§åˆ¶å·¦å³ç§»åŠ¨" class="headerlink" title="æ§åˆ¶å·¦å³ç§»åŠ¨"></a>æ§åˆ¶å·¦å³ç§»åŠ¨</h2><h2 id="æ§åˆ¶å·¦å³ç§»åŠ¨é€Ÿåº¦"><a href="#æ§åˆ¶å·¦å³ç§»åŠ¨é€Ÿåº¦" class="headerlink" title="æ§åˆ¶å·¦å³ç§»åŠ¨é€Ÿåº¦"></a>æ§åˆ¶å·¦å³ç§»åŠ¨é€Ÿåº¦</h2><h2 id="æ§åˆ¶ä¸‹è½é€Ÿåº¦"><a href="#æ§åˆ¶ä¸‹è½é€Ÿåº¦" class="headerlink" title="æ§åˆ¶ä¸‹è½é€Ÿåº¦"></a>æ§åˆ¶ä¸‹è½é€Ÿåº¦</h2><h2 id="æ–¹å—æ—‹è½¬"><a href="#æ–¹å—æ—‹è½¬" class="headerlink" title="æ–¹å—æ—‹è½¬"></a>æ–¹å—æ—‹è½¬</h2><h2 id="æ–¹å—æ¶ˆé™¤"><a href="#æ–¹å—æ¶ˆé™¤" class="headerlink" title="æ–¹å—æ¶ˆé™¤"></a>æ–¹å—æ¶ˆé™¤</h2><h2 id="ç»“æŸæ¶ˆé™¤"><a href="#ç»“æŸæ¶ˆé™¤" class="headerlink" title="ç»“æŸæ¶ˆé™¤"></a>ç»“æŸæ¶ˆé™¤</h2><h2 id="å¤±è´¥åˆ¤å®š"><a href="#å¤±è´¥åˆ¤å®š" class="headerlink" title="å¤±è´¥åˆ¤å®š"></a>å¤±è´¥åˆ¤å®š</h2><h2 id="è®¡åˆ†è§„åˆ™"><a href="#è®¡åˆ†è§„åˆ™" class="headerlink" title="è®¡åˆ†è§„åˆ™"></a>è®¡åˆ†è§„åˆ™</h2><h2 id="ä¸‹ä¸ªæ–¹å—"><a href="#ä¸‹ä¸ªæ–¹å—" class="headerlink" title="ä¸‹ä¸ªæ–¹å—"></a>ä¸‹ä¸ªæ–¹å—</h2>
    </div>

    <div class="post-meta">
        <i>
        
            <span>2023-11-10</span>
            
                <span>è¯¥ç¯‡æ–‡ç« è¢« Moon</span>
            
            
                <span>æ‰“ä¸Šæ ‡ç­¾:
                    
                    
                        <a href='/tags/%E6%B8%B8%E6%88%8F%E5%BC%80%E5%8F%91/'>
                            æ¸¸æˆå¼€å‘
                        </a>
                    
                        <a href='/tags/python/'>
                            python
                        </a>
                    
                </span>
             
             
                <span>å½’ä¸ºåˆ†ç±»:
                    
                    
                        <a href='/categories/python/'>
                            python
                        </a>
                    
                </span>
            
        
        </i>
    </div>
    
        
    <div class="comments-container">
    <div id="comment-anchor"></div>
    <div class="comment-area-title">
        ä»¥ä¸Šã€‚ 
    </div>
    
        

    <div id="waline"></div>
    <script type="module"  >
        import { init } from 'https://npm.elemecdn.com/hexo-theme-a4@latest/source/js/waline.mjs'; 
        function loadWaline() {
            init({
                el: '#waline',
                serverURL: 'https://comment-hexo-waline.vercel.app/',
                lang: 'zh-CN',
                dark: 'body[class~="dark-mode"]',
                requiredMeta: ['nick','mail'], // cannot customize by theme config, change it yourself
                search: false, // ç¦æ­¢è¡¨æƒ…åŒ…æœç´¢
                reaction: false, // å¯¹æ–‡ç« æ‰“åˆ†
                pageview: false, // æµè§ˆé‡ç»Ÿè®¡
                comment: false, // è¯„è®ºæ•°ç»Ÿè®¡

                locale: {
                    placeholder: 'æ­£ç¡®çš„é‚®ç®±åœ°å€ï¼Œå›å¤å°†èƒ½å¾—åˆ°é‚®ä»¶é€šçŸ¥ã€‚', 
                    sofa: ''
                },
            });
            
        }
        window.addEventListener('DOMContentLoaded', loadWaline);
    </script>



    
    
    
    </div>


     
</div>



                    
                    
                    <div class="footer">
    
        <span> 
            Â©2021-2023 China 

            
                

            
        </span>
    
</div>
<!--è¿™æ˜¯æŒ‡ä¸€æ¡çº¿å¾€ä¸‹çš„å†…å®¹-->
<div class="footer-last">
    
            <span>ğŸŒŠçœ‹è¿‡å¤§æµ·çš„äººä¸ä¼šå¿˜è®°æµ·çš„å¹¿é˜”ğŸŒŠ</span>
            
    
</div>


    
<link rel="stylesheet" href="/css/a11y-dark.min.css">

    
<script src="/js/highlight.min.js"></script>

    
<script src="/js/highlightjs-line-numbers.js"></script>



<script>
    hljs.initHighlightingOnLoad();
    hljs.initLineNumbersOnLoad();
</script>
                </div>
            
    </body>
</html>