---
title: Tree-树结构1
date: 2022-11-07 10:44:20
tags: [LeetCode]
categories: 算法
mathjax: true
---

## 学习目标

1. <font color="red">准确复述</font>树结构的相关术语
2. <font color="red">图示和用编程语言描述</font>树结构的存储方式
3. 准确<font color="red">阐述</font>二叉树的基本概念，<font color="red">区分</font>不同的二叉树
4. 用<font color="red">编程语言</font>描述二叉树的<font color="red">双链表</font>存储结构
5. <font color="red">准确图示</font>森林，树，二叉树的相互转换

## 什么是树？

具有 n 个节点的集合 $(n \geq 0)$

- n=0:表示一棵空树
- n>0:有仅存在一个根节点,其余节点分为若干集合构成根节点的<font color="red">子树</font>， 子树也是一棵树
  {% asset_img TreeTerm.jpg 树结构相关术语 %}

### 节点的度(degree)

指的是该节点的子树个数

### 树的元数(way)

指的是节点度数的最大允许值 m

- 如果一棵树的元数是 4，则树中所有节点的度不能超过 3
- 如果树中节点的度数最大为 m,不能得出树的元数是 m
- 如果 m 元树中,节点的度为 m 或 0,则称为 m 元正则树，其节点要么没有子树,要么有 m 个子树

#### 叶子(leaf)

指的是度数为 0 的节点,也称为终端节点

#### 非叶节点

指的是度数不为 0 的节点,被称为分枝点或内节点

### 路径(path)

指的是一个节点序列

- 一条路径中,节点前面所有的节点都是它的祖先(ancestor)，每个节点也是自己的祖先,
- 除自身外，其他节点都是它的真祖先
- 子孙和真子孙同理

### 节点的层数(level)

<font color=red>节点的深度 +1 </font>
根节点的层数定为 1,递推地,第 i 层节点的儿子层数为 i+1

### 节点的高度(height)

<font color=red>节点到叶子节点的最长路径（边数）</font>
叶子节点的高都定为 1,递推地,非叶子节点的高等于它各个儿子高度的最大值+1
树【包括子树】的高度就是根节点的高度

### 节点的深度

<font color=red>根节点到这个节点所经历的边的个数</font>

### 其他术语

- 父亲：即前驱节点
- 儿子：即后继节点
  - 父亲 vs 儿子：一对多
  - 树的每个节点有一个前驱节点和多个后继节点
  - 根节点没有父亲,叶节点没有儿子
- 兄弟：即同父亲的节点互为兄弟
- 有序树：树中节点的儿子必须按照某种指定的次序排列
- 无序树
- 位置树：有序树中,规定节点的各个儿子还有固定位置
  {% asset_img TreeType.jpg 有序树,无序树,位置树%}
- 森林：树的集合
  - 一个森林可包含 n 棵树$(n \geq 0)$

### 如何表示一棵树

- 倒立的树图表示法
- 嵌套集合法:
- 括号表示法:形式化描述
- 缩进排版法:
- 目录编号法(杜威计数法):表示版本编号

## 计算机中树的存储方法

### 多重链接法

{% asset_img 多重链域.jpg 多重链接法%}

```go
type TreeNode struct{
  data string,//假定节点值域类型
  children *TreeNode,//指向各儿子的链域
}
```

#### 利用率：

具有 n 个节点的 m 元树：

- 每个节点有 m 个指针域,共有 m\*n 个节点
- 树中只有 n-1 条边，故非空的指针域只有 n-1 个
- 利用率为：$\frac{n-1}{mn}$,约等于 1/m

### 儿子兄弟法

减少节点的链域来降低空间耗费，每个节点只设两个链域,分别指向儿子和仅靠其右边的第一个兄弟

{% asset_img 儿子兄弟法.jpg 儿子兄弟法%}

```go
type sonAndBroTreeNode struct{
  data string,
  children *sonAndBroTreeNode,//指向儿子的链域
  RBrother *sonAndBroTreeNode,//指向第一个兄弟的链域
}
```

### 父亲链域法

存储的时候将父亲节点地址也一并存储
{% asset_img 父亲.jpg 父亲链域法 %}

```go
type parentTreeNode struct{
  data string,
  father int,//父节点存储于数组中的下标
}
```

## 二叉树

本质：二元位置树 —— 所有节点的子树个数不能超过 2，且位置固定，为左右子树

### 形态：

- 空树
- 单节点树：只有一个根节点
- 只有左子树
- 只有右子树
- 有左右两个子树

### 性质：

1. 非空二叉树中,第 i 层$(i \geq 1)$上节点的个数为 $N(i) \leq 2^{i-1}$
2. 高度为 k $(k \geq 0) $的二叉树中,节点总数为 $m(k) \leq 2^{k}-1$
3. n 个节点的二叉树的高 h 满足：$h \geq [\log_2{n}]+1$

### 满二叉树

{% asset_img 满二叉树.jpg 满二叉树 %}

### 完全二叉树

定义：在高为 k 的满二叉树中,按照层次顺序从上到下,每层从左到右,从编号 1 开始,连续取 n $(0 \leq n \leq 2^k -1)$ 个节点所构成的二叉树。

- 完全二叉树与满二叉树对应的节点编号相同
- 完全二叉树一定是满二叉树从最下层,最右边依次去掉节点后得到的
- 完全二叉树是满二叉树的一部分,满二叉树是完全二叉树的特例

{% asset_img 完全二叉树.jpg 完全二叉树 %}
{% asset_img 非完全二叉树.jpg 非完全二叉树 %}

#### 完全二叉树性质：

编号为 i $(1 \leq i \leq n)$ 的节点,其父亲和左右儿子的编号满足以下条件：

1. 若 i=1,则 i 没有父节点;否则其父节点的编号为 $[i/2]$
2. 若 $2i>n$,则 i 没有左儿子;否则其左儿子编号为 2i
3. 若 $2i+1>n$,则 i 没有右儿子;否则其右儿子编号为 2i+1

结论：节点编号不能超过完全二叉树中节点的个数

#### 满二叉树性质：

n 个节点的满二叉树,若高为 k,则满足$n=2^{k}-1$,其节点编号为 1,2,3...,$2^k-1$

1. 树的最左边一条分支上,节点的编号依次为 1,2,4,8,....,$2^{k-1}$
2. 树的最右边一条分支上,节点的编号依次为 1,3,7,......,$2^k-1$
3. 第 i 层上节点编号分别为 $2^{i-1}$,$2^{i-1}+1$,....,$2^i-1$

## 二叉树的存储

### 静态

顺序存储
{% asset_img 顺序存储.jpg 顺序存储%}

### 动态

双链法

```go
type BTree struct{
  data string
  left *BTree
  right *BTree
}
```

## 树，二叉树之间的转换

### 普通树->二叉树

关键点：普通树中节点的多个儿子如何转化为二叉树中左右儿子？
{% asset_img 树对比.jpg 普通树和二叉树 %}

1. 根节点仍为根节点
2. 每个节点第一个儿子即最左侧儿子成为其左儿子
3. 紧挨着的兄弟成为其右儿子
4. 根节点没有兄弟.即根节点没有右儿子
5. 顺时针旋转 45 度

### 森林->树->二叉树

根节点有右子树

### 二叉树->树

1. 左儿子成为第一个儿子
2. 右儿子成为右兄弟
3. 根节点无右子树

### 二叉树->森林

1. 根节点有右子树
